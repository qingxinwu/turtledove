<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>FLEDGE</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <link href="https://www.w3.org/StyleSheets/TR/2021/cg-draft" rel="stylesheet">
  <meta content="Bikeshed version d9bd89757, updated Thu Mar 23 10:06:53 2023 -0700" name="generator">
  <link href="https://wicg.github.io/turtledove/" rel="canonical">
  <meta content="4af02a40536cc38b267712a5f1fdc675581c5db3" name="document-revision">
<style>/* style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}
</style>
<style>/* style-colors */

/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}
</style>
<style>/* style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    min-width: min-content;
    max-width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0; }
.dfn-panel li { list-style: inside; }
.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled { cursor: pointer; }
</style>
<style>/* style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* style-selflinks */

:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* style-syntax-highlighting */

            pre.idl.highlight {
                background: var(--borderedblock-bg, var(--def-bg));
            }
            
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */
</style>
<style>/* style-var-click-highlighting */

    var { cursor: pointer; }
    var.selected0 { background-color: #F4D200; box-shadow: 0 0 0 2px #F4D200; }
    var.selected1 { background-color: #FF87A2; box-shadow: 0 0 0 2px #FF87A2; }
    var.selected2 { background-color: #96E885; box-shadow: 0 0 0 2px #96E885; }
    var.selected3 { background-color: #3EEED2; box-shadow: 0 0 0 2px #3EEED2; }
    var.selected4 { background-color: #EACFB6; box-shadow: 0 0 0 2px #EACFB6; }
    var.selected5 { background-color: #82DDFF; box-shadow: 0 0 0 2px #82DDFF; }
    var.selected6 { background-color: #FFBCF2; box-shadow: 0 0 0 2px #FFBCF2; }
    </style>
<style>/* style-darkmode */

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}

@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
    }
}

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
   <h1 class="p-name no-ref allcaps" id="title">FLEDGE</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types#CG-DRAFT">Draft Community Group Report</a>, <time class="dt-updated" datetime="2023-04-05">5 April 2023</time></p>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://wicg.github.io/turtledove/">https://wicg.github.io/turtledove/</a>
     <dt class="editor">Editor:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:pauljensen@google.com">Paul Jensen</a> (<a class="p-org org" href="https://www.google.com/">Google</a>)
     <dt>Participate:
     <dd><a href="https://github.com/WICG/turtledove">GitHub WICG/turtledove</a> (<a href="https://github.com/WICG/turtledove/issues/new">new issue</a>, <a href="https://github.com/WICG/turtledove/issues?state=open">open issues</a>)
     <dt>Commits:
     <dd><a href="https://github.com/WICG/turtledove/commits/main/spec.bs">GitHub spec.bs commits</a>
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2023 the Contributors to the FLEDGE Specification, published by the <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a> under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a>.
A human-readable <a href="http://www.w3.org/community/about/agreements/cla-deed/">summary</a> is available. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>Provides a privacy advancing API to facilitate interest group based advertising.</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <h2 class="no-num no-toc no-ref heading settled" id="status"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> This specification was published by the <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a>.
  It is not a W3C Standard nor is it on the W3C Standards Track.

  Please note that under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a> there is a limited opt-out and other conditions apply.

  Learn more about <a href="http://www.w3.org/community/">W3C Community and Business Groups</a>. </p>
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li><a href="#joining-interest-groups"><span class="secno">2</span> <span class="content">Joining Interest Groups</span></a>
    <li><a href="#leaving-interest-groups"><span class="secno">3</span> <span class="content">Leaving Interest Groups</span></a>
    <li><a href="#running-ad-auctions"><span class="secno">4</span> <span class="content">Running Ad Auctions</span></a>
    <li><a href="#interest-group-updates"><span class="secno">5</span> <span class="content">Interest Group Updates</span></a>
    <li><a href="#permissions-policy-integration"><span class="secno">6</span> <span class="content">Permissions Policy integration</span></a>
    <li>
     <a href="#structures"><span class="secno">7</span> <span class="content">Structures</span></a>
     <ol class="toc">
      <li><a href="#interest-group"><span class="secno">7.1</span> <span class="content">Interest group</span></a>
      <li><a href="#interest-group-ad"><span class="secno">7.2</span> <span class="content">Interest group ad</span></a>
      <li><a href="#auction-config"><span class="secno">7.3</span> <span class="content">Auction config</span></a>
      <li><a href="#per-buyer-bid-generator"><span class="secno">7.4</span> <span class="content">Per buyer bid generator</span></a>
      <li><a href="#per-signals-url-bid-generator"><span class="secno">7.5</span> <span class="content">Per signals url bid generator</span></a>
      <li><a href="#generated-bid"><span class="secno">7.6</span> <span class="content">Generated bid</span></a>
      <li><a href="#score-ad-output"><span class="secno">7.7</span> <span class="content">Score ad output</span></a>
      <li><a href="#leading-bid-info"><span class="secno">7.8</span> <span class="content">Leading bid info</span></a>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
   <p><em>This section is non-normative</em></p>
   <p>The FLEDGE API facilitates selecting an advertisement to display to a user based on a previous
interaction with the advertiser or advertising network.</p>
   <p>When a user’s interactions with an advertiser indicate an interest in something, the advertiser can
ask the browser to record this interest on-device by calling <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator" id="ref-for-dom-navigator">navigator</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigator-joinadinterestgroup" id="ref-for-dom-navigator-joinadinterestgroup">joinAdInterestGroup()</a></code>. Later, when a website wants to select an
advertisement to show to the user, the website can call <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator" id="ref-for-dom-navigator①">navigator</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigator-runadauction" id="ref-for-dom-navigator-runadauction">runAdAuction()</a></code> to ask the browser to conduct an auction where
each of these on-device recorded interests are given the chance to calculate a bid to display their
advertisement.</p>
   <h2 class="heading settled" data-level="2" id="joining-interest-groups"><span class="secno">2. </span><span class="content">Joining Interest Groups</span><a class="self-link" href="#joining-interest-groups"></a></h2>
   <p>When a user’s interactions with a website indicate that the user may have a particular interest, an
advertiser or someone working on behalf of the advertiser (e.g. a demand side platform, DSP) can ask
the user’s browser to record this interest on-device by calling <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator" id="ref-for-dom-navigator②">navigator</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigator-joinadinterestgroup" id="ref-for-dom-navigator-joinadinterestgroup①">joinAdInterestGroup()</a></code>. This indicates an intent to display an
advertisement relevant to this interest to this user in the future. The user agent has an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="interest-group-set">interest group set</dfn>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list">list</a> of <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group">interest groups</a> in which <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner">owner</a> / <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name">name</a> pairs are unique.</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-navigator"><c- g>Navigator</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigator-joinadinterestgroup" id="ref-for-dom-navigator-joinadinterestgroup②"><c- g>joinAdInterestGroup</c-></a>(<a data-link-type="idl-name" href="#dictdef-auctionadinterestgroup" id="ref-for-dictdef-auctionadinterestgroup"><c- n>AuctionAdInterestGroup</c-></a> <dfn class="idl-code" data-dfn-for="Navigator/joinAdInterestGroup(group, durationSeconds)" data-dfn-type="argument" data-export id="dom-navigator-joinadinterestgroup-group-durationseconds-group"><code><c- g>group</c-></code><a class="self-link" href="#dom-navigator-joinadinterestgroup-group-durationseconds-group"></a></dfn>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double"><c- b>double</c-></a> <dfn class="idl-code" data-dfn-for="Navigator/joinAdInterestGroup(group, durationSeconds)" data-dfn-type="argument" data-export id="dom-navigator-joinadinterestgroup-group-durationseconds-durationseconds"><code><c- g>durationSeconds</c-></code><a class="self-link" href="#dom-navigator-joinadinterestgroup-group-durationseconds-durationseconds"></a></dfn>);
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-auctionad"><code><c- g>AuctionAd</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAd" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionad-renderurl"><code><c- g>renderUrl</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAd" data-dfn-type="dict-member" data-export data-type="any " id="dom-auctionad-metadata"><code><c- g>metadata</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-auctionadinterestgroup"><code><c- g>AuctionAdInterestGroup</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionadinterestgroup-owner"><code><c- g>owner</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionadinterestgroup-name"><code><c- g>name</c-></code></dfn>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①"><c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-default="0.0" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="double " id="dom-auctionadinterestgroup-priority"><code><c- g>priority</c-></code></dfn> = 0.0;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="boolean " id="dom-auctionadinterestgroup-enablebiddingsignalsprioritization"><code><c- g>enableBiddingSignalsPrioritization</c-></code></dfn> = <c- b>false</c->;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double②"><c- b>double</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="record<DOMString, double> " id="dom-auctionadinterestgroup-priorityvector"><code><c- g>priorityVector</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record①"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①"><c- b>DOMString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double③"><c- b>double</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="record<DOMString, double> " id="dom-auctionadinterestgroup-prioritysignalsoverrides"><code><c- g>prioritySignalsOverrides</c-></code></dfn>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;compatibility&quot;" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="DOMString " id="dom-auctionadinterestgroup-executionmode"><code><c- g>executionMode</c-></code></dfn> = "compatibility";
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString③"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionadinterestgroup-biddinglogicurl"><code><c- g>biddingLogicUrl</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString④"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionadinterestgroup-biddingwasmhelperurl"><code><c- g>biddingWasmHelperUrl</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑤"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionadinterestgroup-dailyupdateurl"><code><c- g>dailyUpdateUrl</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑥"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionadinterestgroup-trustedbiddingsignalsurl"><code><c- g>trustedBiddingSignalsUrl</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑦"><c- b>USVString</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="sequence<USVString> " id="dom-auctionadinterestgroup-trustedbiddingsignalskeys"><code><c- g>trustedBiddingSignalsKeys</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any①"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="any " id="dom-auctionadinterestgroup-userbiddingsignals"><code><c- g>userBiddingSignals</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence①"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-auctionad" id="ref-for-dictdef-auctionad"><c- n>AuctionAd</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="sequence<AuctionAd> " id="dom-auctionadinterestgroup-ads"><code><c- g>ads</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence②"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-auctionad" id="ref-for-dictdef-auctionad①"><c- n>AuctionAd</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="sequence<AuctionAd> " id="dom-auctionadinterestgroup-adcomponents"><code><c- g>adComponents</c-></code></dfn>;
};
</pre>
   <div class="algorithm" data-algorithm="joinAdInterestGroup()">
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Navigator" data-dfn-type="method" data-export id="dom-navigator-joinadinterestgroup"><code>joinAdInterestGroup(<var>group</var>, <var>durationSeconds</var>)</code></dfn> method steps
are:</p>
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window">associated Document</a> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use" id="ref-for-allowed-to-use">allowed to use</a> the
"<a data-link-type="dfn" href="#join-ad-interest-group" id="ref-for-join-ad-interest-group">join-ad-interest-group</a>" <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature">policy-controlled feature</a>, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw">throw</a> a
"<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror">NotAllowedError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code>.</p>
     <li data-md>
      <p>Let <var>interestGroup</var> be a new <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group①">interest group</a>.</p>
     <li data-md>
      <p>Validate the given <var>group</var> and set <var>interestGroup</var>’s fields accordingly.</p>
      <ol>
       <li data-md>
        <p>Set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-expiry" id="ref-for-interest-group-expiry">expiry</a> to now plus <var>durationSeconds</var>.</p>
       <li data-md>
        <p>Let <var>ownerUrl</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser">URL parser</a> on <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-owner" id="ref-for-dom-auctionadinterestgroup-owner">owner</a></code>"].</p>
        <ol>
         <li data-md>
          <p>If <var>ownerUrl</var> is an error, or its <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme">scheme</a> is not "<code>https</code>", <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror">TypeError</a></code>.</p>
         <li data-md>
          <p>Set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner①">owner</a> to <var>ownerUrl</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin">origin</a>.</p>
        </ol>
       <li data-md>
        <p>Set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name①">name</a> to <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-name" id="ref-for-dom-auctionadinterestgroup-name">name</a></code>"].</p>
       <li data-md>
        <p>Set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-priority" id="ref-for-interest-group-priority">priority</a> to <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-priority" id="ref-for-dom-auctionadinterestgroup-priority">priority</a></code>"].</p>
       <li data-md>
        <p>Set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-enable-bidding-signals-prioritization" id="ref-for-interest-group-enable-bidding-signals-prioritization">enable bidding signals prioritization</a> to <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-enablebiddingsignalsprioritization" id="ref-for-dom-auctionadinterestgroup-enablebiddingsignalsprioritization">enableBiddingSignalsPrioritization</a></code>"].</p>
       <li data-md>
        <p>If <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-priorityvector" id="ref-for-dom-auctionadinterestgroup-priorityvector">priorityVector</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists">exists</a>, then set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-priority-vector" id="ref-for-interest-group-priority-vector">priority vector</a> to <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-priorityvector" id="ref-for-dom-auctionadinterestgroup-priorityvector①">priorityVector</a></code>"].</p>
       <li data-md>
        <p>If <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-prioritysignalsoverrides" id="ref-for-dom-auctionadinterestgroup-prioritysignalsoverrides">prioritySignalsOverrides</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①">exists</a>, then set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-priority-signals-overrides" id="ref-for-interest-group-priority-signals-overrides">priority signals overrides</a> to <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-prioritysignalsoverrides" id="ref-for-dom-auctionadinterestgroup-prioritysignalsoverrides①">prioritySignalsOverrides</a></code>"].</p>
       <li data-md>
        <p>Set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-execution-mode" id="ref-for-interest-group-execution-mode">execution mode</a> to <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-executionmode" id="ref-for-dom-auctionadinterestgroup-executionmode">executionMode</a></code>"].</p>
       <li data-md>
        <p>For each <var>groupMember</var> and <var>interestGroupField</var> in the following table </p>
        <p></p>
        <table class="data">
         <thead>
          <tr>
           <th>Group member
           <th>Interest group field
         <tbody>
          <tr>
           <td>"<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-biddinglogicurl" id="ref-for-dom-auctionadinterestgroup-biddinglogicurl">biddingLogicUrl</a></code>"
           <td><a data-link-type="dfn" href="#interest-group-bidding-url" id="ref-for-interest-group-bidding-url">bidding url</a>
          <tr>
           <td>"<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-biddingwasmhelperurl" id="ref-for-dom-auctionadinterestgroup-biddingwasmhelperurl">biddingWasmHelperUrl</a></code>"
           <td><a data-link-type="dfn" href="#interest-group-bidding-wasm-helper-url" id="ref-for-interest-group-bidding-wasm-helper-url">bidding wasm helper url</a>
          <tr>
           <td>"<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-dailyupdateurl" id="ref-for-dom-auctionadinterestgroup-dailyupdateurl">dailyUpdateUrl</a></code>"
           <td><a data-link-type="dfn" href="#interest-group-daily-update-url" id="ref-for-interest-group-daily-update-url">daily update url</a>
          <tr>
           <td>"<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-trustedbiddingsignalsurl" id="ref-for-dom-auctionadinterestgroup-trustedbiddingsignalsurl">trustedBiddingSignalsUrl</a></code>"
           <td><a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-url" id="ref-for-interest-group-trusted-bidding-signals-url">trusted bidding signals url</a>
        </table>
        <ol>
         <li data-md>
          <p>If <var>group</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②">contains</a> <var>groupMember</var>:</p>
          <ol>
           <li data-md>
            <p>Let <var>parsedUrl</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser①">URL parser</a> on <var>group</var>[<var>groupMember</var>].</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②">Throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①">TypeError</a></code> if any of:</p>
            <ul>
             <li data-md>
              <p><var>parsedUrl</var> is an error.</p>
             <li data-md>
              <p><var>parsedUrl</var> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin">same origin</a> with <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner②">owner</a>.</p>
             <li data-md>
              <p><var>parsedUrl</var> <a data-link-type="dfn" href="https://url.spec.whatwg.org/#include-credentials" id="ref-for-include-credentials">includes credentials</a>.</p>
             <li data-md>
              <p><var>parsedUrl</var> <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-fragment" id="ref-for-concept-url-fragment">fragment</a> is not null.</p>
            </ul>
           <li data-md>
            <p>Set <var>interestGroup</var>’s <var>interestGroupField</var> to <var>parsedUrl</var>.</p>
          </ol>
        </ol>
       <li data-md>
        <p>If <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-url" id="ref-for-interest-group-trusted-bidding-signals-url①">trusted bidding signals url</a>'s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-query" id="ref-for-concept-url-query">query</a> is not
null, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw③">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②">TypeError</a></code>.</p>
       <li data-md>
        <p>If <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-trustedbiddingsignalskeys" id="ref-for-dom-auctionadinterestgroup-trustedbiddingsignalskeys">trustedBiddingSignalsKeys</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③">exists</a>, then set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-keys" id="ref-for-interest-group-trusted-bidding-signals-keys">trusted bidding signals keys</a> to <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-trustedbiddingsignalskeys" id="ref-for-dom-auctionadinterestgroup-trustedbiddingsignalskeys①">trustedBiddingSignalsKeys</a></code>"].</p>
       <li data-md>
        <p>If <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-userbiddingsignals" id="ref-for-dom-auctionadinterestgroup-userbiddingsignals">userBiddingSignals</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists④">exists</a>:</p>
        <ol>
         <li data-md>
          <p>Let <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-user-bidding-signals" id="ref-for-interest-group-user-bidding-signals">user bidding signals</a> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string" id="ref-for-serialize-a-javascript-value-to-a-json-string">serializing a JavaScript value to a JSON string</a>, given <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-userbiddingsignals" id="ref-for-dom-auctionadinterestgroup-userbiddingsignals①">userBiddingSignals</a></code>"]. This can <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw④">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror③">TypeError</a></code>.</p>
        </ol>
       <li data-md>
        <p>For each <var>groupMember</var> and <var>interestGroupField</var> in the following table </p>
        <p></p>
        <table class="data">
         <thead>
          <tr>
           <th>Group member
           <th>Interest group field
         <tbody>
          <tr>
           <td>"<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-ads" id="ref-for-dom-auctionadinterestgroup-ads">ads</a></code>"
           <td><a data-link-type="dfn" href="#interest-group-ads" id="ref-for-interest-group-ads">ads</a>
          <tr>
           <td>"<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-adcomponents" id="ref-for-dom-auctionadinterestgroup-adcomponents">adComponents</a></code>"
           <td><a data-link-type="dfn" href="#interest-group-ad-components" id="ref-for-interest-group-ad-components">ad components</a>
        </table>
        <ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate">For each</a> <var>ad</var> of <var>group</var>[<var>groupMember</var>]:</p>
          <ol>
           <li data-md>
            <p>Let <var>igAd</var> be a new <a data-link-type="dfn" href="#interest-group-ad" id="ref-for-interest-group-ad">interest group ad</a>.</p>
           <li data-md>
            <p>Let <var>renderUrl</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser②">URL parser</a> on <var>ad</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionad-renderurl" id="ref-for-dom-auctionad-renderurl">renderUrl</a></code>"].</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑤">Throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror④">TypeError</a></code> if any of:</p>
            <ul>
             <li data-md>
              <p><var>renderUrl</var> is an error.</p>
             <li data-md>
              <p><var>renderUrl</var> <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme①">scheme</a> is not "<code>https</code>".</p>
             <li data-md>
              <p><var>renderUrl</var> <a data-link-type="dfn" href="https://url.spec.whatwg.org/#include-credentials" id="ref-for-include-credentials①">includes credentials</a>.</p>
            </ul>
           <li data-md>
            <p>Set <var>igAd</var>’s <a data-link-type="dfn" href="#interest-group-ad-render-url" id="ref-for-interest-group-ad-render-url">render url</a> to <var>renderUrl</var>.</p>
           <li data-md>
            <p>If <var>ad</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionad-metadata" id="ref-for-dom-auctionad-metadata">metadata</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑤">exists</a>, then let <var>igAd</var>’s <a data-link-type="dfn" href="#interest-group-ad-metadata" id="ref-for-interest-group-ad-metadata">metadata</a> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string" id="ref-for-serialize-a-javascript-value-to-a-json-string①">serializing a JavaScript value to a JSON string</a>, given <var>ad</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionad-metadata" id="ref-for-dom-auctionad-metadata①">metadata</a></code>"].
This can <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑥">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑤">TypeError</a></code>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append">Append</a> <var>igAd</var> to <var>interestGroup</var>’s <var>interestGroupField</var>.</p>
          </ol>
        </ol>
      </ol>
     <li data-md>
      <p>If <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-estimated-size" id="ref-for-interest-group-estimated-size">estimated size</a> is greater than 50 KB, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑦">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑥">TypeError</a></code>.</p>
     <li data-md>
      <p>Let <var>p</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise">a new promise</a>.</p>
     <li data-md>
      <p>Let <var>queue</var> be the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue" id="ref-for-starting-a-new-parallel-queue">starting a new parallel queue</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps" id="ref-for-enqueue-the-following-steps">Enqueue the following steps</a> to <var>queue</var>:</p>
      <ol>
       <li data-md>
        <p>TODO: document .well-known fetches for cross-origin joins.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task">Queue a task</a> to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve">resolve</a> <var>p</var> with <code>undefined</code>.</p>
       <li data-md>
        <p>If the browser is currently storing an interest group with <code>owner</code> and <code>name</code> that matches <var>interestGroup</var>, then remove the currently stored one.</p>
       <li data-md>
        <p>Set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-joining-origin" id="ref-for-interest-group-joining-origin">joining origin</a> to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object">relevant settings object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin" id="ref-for-concept-environment-top-level-origin">top-level origin</a></p>
       <li data-md>
        <p>Store <var>interestGroup</var> in the browser’s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set">interest group set</a>.</p>
      </ol>
     <li data-md>
      <p>Return <var>p</var>.</p>
    </ol>
   </div>
   <p>The <dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-estimated-size">estimated size</dfn> of an <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group②">interest group</a> <var>ig</var> is the sum of:</p>
   <ol>
    <li data-md>
     <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length">length</a> of the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin" id="ref-for-ascii-serialisation-of-an-origin">serialization</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner③">owner</a>.</p>
    <li data-md>
     <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length①">length</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name②">name</a>.</p>
    <li data-md>
     <p>8 bytes, which is the size of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-priority" id="ref-for-interest-group-priority①">priority</a>.</p>
    <li data-md>
     <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length②">length</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-execution-mode" id="ref-for-interest-group-execution-mode①">execution mode</a>.</p>
    <li data-md>
     <p>2 bytes, which is the size of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-enable-bidding-signals-prioritization" id="ref-for-interest-group-enable-bidding-signals-prioritization①">enable bidding signals prioritization</a>.</p>
    <li data-md>
     <p>If <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-priority-vector" id="ref-for-interest-group-priority-vector①">priority vector</a> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate">for each</a> <var>key</var> → <var>value</var> of <a data-link-type="dfn" href="#interest-group-priority-vector" id="ref-for-interest-group-priority-vector②">priority vector</a>:</p>
     <ol>
      <li data-md>
       <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length③">length</a> of <var>key</var>.</p>
      <li data-md>
       <p>8 bytes, which is the size of <var>value</var>.</p>
     </ol>
    <li data-md>
     <p>If <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-priority-signals-overrides" id="ref-for-interest-group-priority-signals-overrides①">priority signals overrides</a> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate①">for each</a> <var>key</var> → <var>value</var> of <a data-link-type="dfn" href="#interest-group-priority-signals-overrides" id="ref-for-interest-group-priority-signals-overrides②">priority signals overrides</a>:</p>
     <ol>
      <li data-md>
       <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length④">length</a> of <var>key</var>.</p>
      <li data-md>
       <p>8 bytes, which is the size of <var>value</var>.</p>
     </ol>
    <li data-md>
     <p>The size of <a data-link-type="dfn" href="#interest-group-execution-mode" id="ref-for-interest-group-execution-mode②">execution mode</a>.</p>
    <li data-md>
     <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length⑤">length</a> of the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer">serialization</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-bidding-url" id="ref-for-interest-group-bidding-url①">bidding url</a>, if the field is not null.</p>
    <li data-md>
     <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length⑥">length</a> of the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer①">serialization</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-bidding-wasm-helper-url" id="ref-for-interest-group-bidding-wasm-helper-url①">bidding wasm helper url</a>, if the field is not null.</p>
    <li data-md>
     <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length⑦">length</a> of the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer②">serialization</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-daily-update-url" id="ref-for-interest-group-daily-update-url①">daily update url</a>, if the field is not null.</p>
    <li data-md>
     <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length⑧">length</a> of the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer③">serialization</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-url" id="ref-for-interest-group-trusted-bidding-signals-url②">trusted bidding signals url</a>, if the field is not null.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①">For each</a> <var>key</var> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-keys" id="ref-for-interest-group-trusted-bidding-signals-keys①">trusted bidding signals keys</a>:</p>
     <ol>
      <li data-md>
       <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length⑨">length</a> of <var>key</var>.</p>
     </ol>
    <li data-md>
     <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length①⓪">length</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-user-bidding-signals" id="ref-for-interest-group-user-bidding-signals①">user bidding signals</a>.</p>
    <li data-md>
     <p>If <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-ads" id="ref-for-interest-group-ads①">ads</a> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②">for each</a> <var>ad</var> of it:</p>
     <ol>
      <li data-md>
       <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length①①">length</a> of the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer④">serialization</a> of <var>ad</var>’s <a data-link-type="dfn" href="#interest-group-ad-render-url" id="ref-for-interest-group-ad-render-url①">render url</a>.</p>
      <li data-md>
       <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length①②">length</a> of <var>ad</var>’s <a data-link-type="dfn" href="#interest-group-ad-metadata" id="ref-for-interest-group-ad-metadata①">metadata</a> if the field is not null.</p>
     </ol>
    <li data-md>
     <p>If <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-ad-components" id="ref-for-interest-group-ad-components①">ad components</a> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate③">for each</a> <var>ad</var> of it:</p>
     <ol>
      <li data-md>
       <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length①③">length</a> of the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer⑤">serialization</a> of <var>ad</var>’s <a data-link-type="dfn" href="#interest-group-ad-render-url" id="ref-for-interest-group-ad-render-url②">render url</a>.</p>
      <li data-md>
       <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length①④">length</a> of <var>ad</var>’s <a data-link-type="dfn" href="#interest-group-ad-metadata" id="ref-for-interest-group-ad-metadata②">metadata</a> if the field is not null.</p>
     </ol>
   </ol>
   <h2 class="heading settled" data-level="3" id="leaving-interest-groups"><span class="secno">3. </span><span class="content">Leaving Interest Groups</span><a class="self-link" href="#leaving-interest-groups"></a></h2>
   <p>TODO: add this section</p>
   <h2 class="heading settled" data-level="4" id="running-ad-auctions"><span class="secno">4. </span><span class="content">Running Ad Auctions</span><a class="self-link" href="#running-ad-auctions"></a></h2>
   <p>When a website or someone working on behalf of the website (e.g. a supply side platform, SSP) wants
to conduct an auction to select an advertisement to display to the user, they can call the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator" id="ref-for-dom-navigator③">navigator</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigator-runadauction" id="ref-for-dom-navigator-runadauction①">runAdAuction()</a></code> function, providing an auction configuration that
tells the browser how to conduct the auction and which on-device recorded interests are allowed to
bid in the auction for the chance to display their advertisement.</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext①"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-navigator①"><c- g>Navigator</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑧"><c- b>USVString</c-></a>?> <a class="idl-code" data-link-type="method" href="#dom-navigator-runadauction" id="ref-for-dom-navigator-runadauction②"><c- g>runAdAuction</c-></a>(<a data-link-type="idl-name" href="#dictdef-auctionadconfig" id="ref-for-dictdef-auctionadconfig"><c- n>AuctionAdConfig</c-></a> <dfn class="idl-code" data-dfn-for="Navigator/runAdAuction(config)" data-dfn-type="argument" data-export id="dom-navigator-runadauction-config-config"><code><c- g>config</c-></code><a class="self-link" href="#dom-navigator-runadauction-config-config"></a></dfn>);
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-auctionadconfig"><code><c- g>AuctionAdConfig</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑨"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionadconfig-seller"><code><c- g>seller</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⓪"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionadconfig-decisionlogicurl"><code><c- g>decisionLogicUrl</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①①"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionadconfig-trustedscoringsignalsurl"><code><c- g>trustedScoringSignalsUrl</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence③"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①②"><c- b>USVString</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="sequence<USVString> " id="dom-auctionadconfig-interestgroupbuyers"><code><c- g>interestGroupBuyers</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any②"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="any " id="dom-auctionadconfig-auctionsignals"><code><c- g>auctionSignals</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any③"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="any " id="dom-auctionadconfig-sellersignals"><code><c- g>sellerSignals</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①③"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionadconfig-directfromsellersignals"><code><c- g>directFromSellerSignals</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="unsigned long long " id="dom-auctionadconfig-sellertimeout"><code><c- g>sellerTimeout</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short"><c- b>unsigned</c-> <c- b>short</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="unsigned short " id="dom-auctionadconfig-sellerexperimentgroupid"><code><c- g>sellerExperimentGroupId</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record②"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①④"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any④"><c- b>any</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="record<USVString, any> " id="dom-auctionadconfig-perbuyersignals"><code><c- g>perBuyerSignals</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record③"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⑤"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long①"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="record<USVString, unsigned long long> " id="dom-auctionadconfig-perbuyertimeouts"><code><c- g>perBuyerTimeouts</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record④"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⑥"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short①"><c- b>unsigned</c-> <c- b>short</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="record<USVString, unsigned short> " id="dom-auctionadconfig-perbuyergrouplimits"><code><c- g>perBuyerGroupLimits</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record⑤"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⑦"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short②"><c- b>unsigned</c-> <c- b>short</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="record<USVString, unsigned short> " id="dom-auctionadconfig-perbuyerexperimentgroupids"><code><c- g>perBuyerExperimentGroupIds</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record⑥"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⑧"><c- b>USVString</c-></a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record⑦"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⑨"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double④"><c- b>double</c-></a>>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="record<USVString, record<USVString, double>> " id="dom-auctionadconfig-perbuyerprioritysignals"><code><c- g>perBuyerPrioritySignals</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence④"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-auctionadconfig" id="ref-for-dictdef-auctionadconfig①"><c- n>AuctionAdConfig</c-></a>> <dfn class="dfn-paneled idl-code" data-default="[]" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="sequence<AuctionAdConfig> " id="dom-auctionadconfig-componentauctions"><code><c- g>componentAuctions</c-></code></dfn> = [];
  <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal"><c- n>AbortSignal</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="AbortSignal? " id="dom-auctionadconfig-signal"><code><c- g>signal</c-></code></dfn>;
};
</pre>
   <div class="algorithm" data-algorithm="runAdAuction()">
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Navigator" data-dfn-type="method" data-export id="dom-navigator-runadauction"><code>runAdAuction(<var>config</var>)</code></dfn> method steps are:</p>
    <ol>
     <li data-md>
      <p>Let <var>global</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global①">relevant global object</a>.</p>
     <li data-md>
      <p>If <var>global</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window①">associated Document</a> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use" id="ref-for-allowed-to-use①">allowed to use</a> the "<a data-link-type="dfn" href="#run-ad-auction" id="ref-for-run-ad-auction">run-ad-auction</a>" <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature①">policy-controlled feature</a>, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑧">throw</a> a "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror①">NotAllowedError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①">DOMException</a></code>.</p>
     <li data-md>
      <p>Let <var>auctionConfig</var> be the result of running <a data-link-type="dfn" href="#validate-and-convert-auction-ad-config" id="ref-for-validate-and-convert-auction-ad-config">validate and convert auction ad config</a> with <var>config</var> and <a data-link-type="dfn" href="#validate-and-convert-auction-ad-config-istoplevel" id="ref-for-validate-and-convert-auction-ad-config-istoplevel">isTopLevel</a> set to true.</p>
     <li data-md>
      <p>If <var>auctionConfig</var> is failure, then return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with">a promise rejected with</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑦">TypeError</a></code>.</p>
     <li data-md>
      <p>Let <var>p</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①">a new promise</a>.</p>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-signal" id="ref-for-dom-auctionadconfig-signal">signal</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑥">exists</a>, then:</p>
      <ol>
       <li data-md>
        <p>Let <var>signal</var> be <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-signal" id="ref-for-dom-auctionadconfig-signal①">signal</a></code>"].</p>
       <li data-md>
        <p>If <var>signal</var> is <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-aborted" id="ref-for-abortsignal-aborted">aborted</a>, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject">reject</a> <var>p</var> with <var>signal</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-abort-reason" id="ref-for-abortsignal-abort-reason">abort reason</a> and return <var>p</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-add" id="ref-for-abortsignal-add">Add the following abort steps</a> to <var>signal</var>:</p>
        <ol>
         <li data-md>
          <p>TODO: Abort the auction.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject①">Reject</a> <var>p</var> with <var>signal</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-abort-reason" id="ref-for-abortsignal-abort-reason①">abort reason</a>.</p>
        </ol>
      </ol>
     <li data-md>
      <p>Let <var>queue</var> be the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue" id="ref-for-starting-a-new-parallel-queue①">starting a new parallel queue</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps" id="ref-for-enqueue-the-following-steps①">Enqueue the following steps</a> to <var>queue</var>:</p>
      <ol>
       <li data-md>
        <p>Let <var>winner</var> be the result of running <a data-link-type="dfn" href="#generate-and-score-bids" id="ref-for-generate-and-score-bids">generate and score bids</a> with <var>auctionConfig</var>,
null, and <var>global</var>.</p>
       <li data-md>
        <p>TODO: If <var>winner</var> is failure, fail the auction with manually_aborted set to true.</p>
       <li data-md>
        <p>TODO: If <var>winner</var> is null, fail the auction with manually_aborted set to false.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task">Queue a global task</a> on <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source">DOM manipulation task source</a>, given <var>global</var>, to resolve <var>p</var> with <var>winner</var>’s <a data-link-type="dfn" href="#generated-bid-render" id="ref-for-generated-bid-render">render</a>. TODO: resolve <var>p</var> with urn-uuid, instead of a
URL.</p>
       <li data-md>
        <p>Run <a data-link-type="dfn" href="#generate-reporting-urls" id="ref-for-generate-reporting-urls">generate reporting URLs</a> with <var>auctionConfig</var> and <var>winner</var>.</p>
       <li data-md>
        <p>TODO: UpdateInterestGroupsPostAuction.</p>
      </ol>
     <li data-md>
      <p>Return <var>p</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="validate and convert auction ad config">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="validate-and-convert-auction-ad-config">validate and convert auction ad config</dfn> given an <code class="idl"><a data-link-type="idl" href="#dictdef-auctionadconfig" id="ref-for-dictdef-auctionadconfig②">AuctionAdConfig</a></code> <var>config</var> and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean">boolean</a> <dfn class="dfn-paneled" data-dfn-for="validate and convert auction ad config" data-dfn-type="dfn" data-noexport id="validate-and-convert-auction-ad-config-istoplevel"><var>isTopLevel</var></dfn>:</p>
    <ol>
     <li data-md>
      <p>Let <var>auctionConfig</var> be a new <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config">auction config</a>.</p>
     <li data-md>
      <p>Let <var>seller</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser③">URL parser</a> on <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-seller" id="ref-for-dom-auctionadconfig-seller">seller</a></code>"].</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑨">Throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑧">TypeError</a></code> if <var>seller</var> is an error, or its <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme②">scheme</a> is not
"<code>https</code>".</p>
       <li data-md>
        <p>Set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller">seller</a> to <var>seller</var>.</p>
      </ol>
     <li data-md>
      <p>Let <var>decisionLogicUrl</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser④">URL parser</a> on <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-decisionlogicurl" id="ref-for-dom-auctionadconfig-decisionlogicurl">decisionLogicUrl</a></code>"].</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①⓪">Throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑨">TypeError</a></code> if <var>decisionLogicUrl</var> is an error, or it is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin①">same origin</a> with <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller①">seller</a>.</p>
       <li data-md>
        <p class="assertion">Assert: <var>decisionLogicUrl</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme③">scheme</a> is "<code>https</code>".</p>
       <li data-md>
        <p>Set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-decision-logic-url" id="ref-for-auction-config-decision-logic-url">decision logic url</a> to <var>decisionLogicUrl</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-trustedscoringsignalsurl" id="ref-for-dom-auctionadconfig-trustedscoringsignalsurl">trustedScoringSignalsUrl</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑦">exists</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>trustedScoringSignalsUrl</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser⑤">URL parser</a> on <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-trustedscoringsignalsurl" id="ref-for-dom-auctionadconfig-trustedscoringsignalsurl①">trustedScoringSignalsUrl</a></code>"].</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①①">Throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①⓪">TypeError</a></code> if <var>trustedScoringSignalsUrl</var> is an error,
or it is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin②">same origin</a> with <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller②">seller</a>.</p>
       <li data-md>
        <p class="assertion">Assert: <var>trustedScoringSignalsUrl</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme④">scheme</a> is "<code>https</code>".</p>
       <li data-md>
        <p>Set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-trusted-scoring-signals-url" id="ref-for-auction-config-trusted-scoring-signals-url">trusted scoring signals url</a> to <var>trustedScoringSignalsUrl</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-interestgroupbuyers" id="ref-for-dom-auctionadconfig-interestgroupbuyers">interestGroupBuyers</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑧">exists</a>, let <var>buyers</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty">empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①">list</a>.</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate④">For each</a> <var>buyerString</var> in <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-interestgroupbuyers" id="ref-for-dom-auctionadconfig-interestgroupbuyers①">interestGroupBuyers</a></code>"]:</p>
        <ol>
         <li data-md>
          <p>Let <var>buyer</var> be the result of <a data-link-type="dfn" href="#parse-an-origin" id="ref-for-parse-an-origin">parsing an origin</a> with <var>buyerString</var>. If <var>buyer</var> is an
error, or <var>buyer</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme⑤">scheme</a> is not "<code>https</code>", then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①②">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①①">TypeError</a></code>.
Otherwise, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①">append</a> <var>buyer</var> to <var>buyers</var>.</p>
        </ol>
       <li data-md>
        <p>Set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-interest-group-buyers" id="ref-for-auction-config-interest-group-buyers">interest group buyers</a> to <var>buyers</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-auctionsignals" id="ref-for-dom-auctionadconfig-auctionsignals">auctionSignals</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑨">exists</a>, let <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-auction-signals" id="ref-for-auction-config-auction-signals">auction signals</a> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string" id="ref-for-serialize-a-javascript-value-to-a-json-string②">serializing a JavaScript value to a JSON string</a>, given <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-auctionsignals" id="ref-for-dom-auctionadconfig-auctionsignals①">auctionSignals</a></code>"].</p>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-sellersignals" id="ref-for-dom-auctionadconfig-sellersignals">sellerSignals</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⓪">exists</a>, let <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller-signals" id="ref-for-auction-config-seller-signals">seller signals</a> of be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string" id="ref-for-serialize-a-javascript-value-to-a-json-string③">serializing a JavaScript value to a JSON string</a>, given <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-sellersignals" id="ref-for-dom-auctionadconfig-sellersignals①">sellerSignals</a></code>"].</p>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-directfromsellersignals" id="ref-for-dom-auctionadconfig-directfromsellersignals">directFromSellerSignals</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①①">exists</a>, let <var>directFromSellerSignalsPrefix</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser⑥">URL parser</a> on <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-directfromsellersignals" id="ref-for-dom-auctionadconfig-directfromsellersignals①">directFromSellerSignals</a></code>"].</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①③">Throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①②">TypeError</a></code> if any of:</p>
        <ul>
         <li data-md>
          <p><var>directFromSellerSignalsPrefix</var> is an error.</p>
         <li data-md>
          <p><var>directFromSellerSignalsPrefix</var> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin③">same origin</a> with <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller③">seller</a>.</p>
         <li data-md>
          <p><var>directFromSellerSignalsPrefix</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-query" id="ref-for-concept-url-query①">query</a> is not null.</p>
        </ul>
       <li data-md>
        <p class="assertion">Assert: <var>directFromSellerSignalsPrefix</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme⑥">scheme</a> is "<code>https</code>".</p>
       <li data-md>
        <p>TODO: Figure out how to deal with DirectFromSellerSignals.</p>
      </ol>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-sellertimeout" id="ref-for-dom-auctionadconfig-sellertimeout">sellerTimeout</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①②">exists</a>, set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller-timeout" id="ref-for-auction-config-seller-timeout">seller timeout</a> to min(<var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-sellertimeout" id="ref-for-dom-auctionadconfig-sellertimeout①">sellerTimeout</a></code>"], 500)
milliseconds.</p>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-sellerexperimentgroupid" id="ref-for-dom-auctionadconfig-sellerexperimentgroupid">sellerExperimentGroupId</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①③">exists</a>:</p>
      <ol>
       <li data-md>
        <p>Set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller-experiment-group-id" id="ref-for-auction-config-seller-experiment-group-id">seller experiment group id</a> to <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-sellerexperimentgroupid" id="ref-for-dom-auctionadconfig-sellerexperimentgroupid①">sellerExperimentGroupId</a></code>"].</p>
      </ol>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyersignals" id="ref-for-dom-auctionadconfig-perbuyersignals">perBuyerSignals</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①④">exists</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate②">for each</a> <var>key</var> → <var>value</var> of <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyersignals" id="ref-for-dom-auctionadconfig-perbuyersignals①">perBuyerSignals</a></code>"]:</p>
      <ol>
       <li data-md>
        <p>Let <var>buyer</var> be the result of <a data-link-type="dfn" href="#parse-an-origin" id="ref-for-parse-an-origin①">parsing an origin</a> with <var>key</var>. If <var>buyer</var> is an error, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①④">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①③">TypeError</a></code>.</p>
       <li data-md>
        <p>Let <var>signalsString</var> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string" id="ref-for-serialize-a-javascript-value-to-a-json-string④">serializing a JavaScript value to a JSON string</a>, given <var>value</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set">Set</a> <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-signals" id="ref-for-auction-config-per-buyer-signals">per buyer signals</a>[<var>buyer</var>] to <var>signalsString</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyertimeouts" id="ref-for-dom-auctionadconfig-perbuyertimeouts">perBuyerTimeouts</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑤">exists</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate③">for each</a> <var>key</var> → <var>value</var> of <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyertimeouts" id="ref-for-dom-auctionadconfig-perbuyertimeouts①">perBuyerTimeouts</a></code>"]:</p>
      <ol>
       <li data-md>
        <p>If <var>key</var> equals to "*", then set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-all-buyers-timeout" id="ref-for-auction-config-all-buyers-timeout">all buyers timeout</a> to min(<var>value</var>, 500) milliseconds, and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue">continue</a>.</p>
       <li data-md>
        <p>Let <var>buyer</var> the result of <a data-link-type="dfn" href="#parse-an-origin" id="ref-for-parse-an-origin②">parsing an origin</a> with <var>key</var>. If <var>buyer</var> is an error, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①⑤">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①④">TypeError</a></code>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①">Set</a> <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-timeouts" id="ref-for-auction-config-per-buyer-timeouts">per buyer timeouts</a>[<var>buyer</var>] to
min(<var>value</var>, 500) milliseconds.</p>
      </ol>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyergrouplimits" id="ref-for-dom-auctionadconfig-perbuyergrouplimits">perBuyerGroupLimits</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑥">exists</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate④">for each</a> <var>key</var> → <var>value</var> of <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyergrouplimits" id="ref-for-dom-auctionadconfig-perbuyergrouplimits①">perBuyerGroupLimits</a></code>"]:</p>
      <ol>
       <li data-md>
        <p>If <var>value</var> is 0, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①⑥">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①⑤">TypeError</a></code>.</p>
       <li data-md>
        <p>If <var>key</var> equals to "*", then set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-all-buyers-group-limit" id="ref-for-auction-config-all-buyers-group-limit">all buyers group limit</a> to <var>value</var>, and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①">continue</a>.</p>
       <li data-md>
        <p>Let <var>buyer</var> be the result of <a data-link-type="dfn" href="#parse-an-origin" id="ref-for-parse-an-origin③">parsing an origin</a> with <var>key</var>. If <var>buyer</var> is an error, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①⑦">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①⑥">TypeError</a></code>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②">Set</a> <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-group-limits" id="ref-for-auction-config-per-buyer-group-limits">per buyer group limits</a>[<var>buyer</var>] to <var>value</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyerexperimentgroupids" id="ref-for-dom-auctionadconfig-perbuyerexperimentgroupids">perBuyerExperimentGroupIds</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑦">exists</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate⑤">for each</a> <var>key</var> → <var>value</var> of <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyerexperimentgroupids" id="ref-for-dom-auctionadconfig-perbuyerexperimentgroupids①">perBuyerExperimentGroupIds</a></code>"]:</p>
      <ol>
       <li data-md>
        <p>If <var>key</var> equals to "*", then set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-all-buyer-experiment-group-id" id="ref-for-auction-config-all-buyer-experiment-group-id">all buyer experiment group id</a> to <var>value</var>, and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue②">continue</a>.</p>
       <li data-md>
        <p>Let <var>buyer</var> the result of <a data-link-type="dfn" href="#parse-an-origin" id="ref-for-parse-an-origin④">parsing an origin</a> with <var>key</var>. If <var>buyer</var> is an error, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①⑧">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①⑦">TypeError</a></code>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set③">Set</a> <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-experiment-group-ids" id="ref-for-auction-config-per-buyer-experiment-group-ids">per buyer experiment group ids</a>[<var>buyer</var>] to <var>value</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyerprioritysignals" id="ref-for-dom-auctionadconfig-perbuyerprioritysignals">perBuyerPrioritySignals</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑧">exists</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate⑥">for each</a> <var>key</var> → <var>value</var> of <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyerprioritysignals" id="ref-for-dom-auctionadconfig-perbuyerprioritysignals①">perBuyerPrioritySignals</a></code>"]:</p>
      <ol>
       <li data-md>
        <p>Let <var>signals</var> be an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values">values</a> are <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double⑤">double</a></code>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate⑦">for each</a> <var>k</var> → <var>v</var> of <var>value</var>:</p>
        <ol>
         <li data-md>
          <p>If <var>k</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-starts-with" id="ref-for-string-starts-with">starts with</a> "browserSignals.", <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①⑨">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①⑧">TypeError</a></code>.</p>
         <li data-md>
          <p>Set <var>signals</var>[<var>k</var>] to <var>v</var>.</p>
        </ol>
       <li data-md>
        <p>If <var>key</var> equals to "*", then set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-all-buyers-priority-signals" id="ref-for-auction-config-all-buyers-priority-signals">all buyers priority signals</a> to <var>value</var>, and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue③">continue</a>.</p>
       <li data-md>
        <p>Let <var>buyer</var> be the result of <a data-link-type="dfn" href="#parse-an-origin" id="ref-for-parse-an-origin⑤">parsing an origin</a> with <var>key</var>. If it fails, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②⓪">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①⑨">TypeError</a></code>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set④">Set</a> <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-priority-signals" id="ref-for-auction-config-per-buyer-priority-signals">per buyer priority signals</a>[<var>buyer</var>] to <var>signals</var>.</p>
      </ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑤">For each</a> <var>component</var> in <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-componentauctions" id="ref-for-dom-auctionadconfig-componentauctions">componentAuctions</a></code>"]:</p>
      <ol>
       <li data-md>
        <p>If <var>isTopLevel</var> is false, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②①">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②⓪">TypeError</a></code>.</p>
       <li data-md>
        <p>Let <var>componentAuction</var> be the result of running <a data-link-type="dfn" href="#validate-and-convert-auction-ad-config" id="ref-for-validate-and-convert-auction-ad-config①">validate and convert auction ad config</a> with <var>component</var> and <a data-link-type="dfn" href="#validate-and-convert-auction-ad-config-istoplevel" id="ref-for-validate-and-convert-auction-ad-config-istoplevel①">isTopLevel</a> set to false.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②">Append</a> <var>componentAuction</var> to <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-component-auctions" id="ref-for-auction-config-component-auctions">component auctions</a>.</p>
      </ol>
     <li data-md>
      <p>Return <var>auctionConfig</var>.</p>
    </ol>
   </div>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-an-origin">parse an origin</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①">string</a> <var>input</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>url</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser⑦">URL parser</a> on <var>input</var>.</p>
    <li data-md>
     <p>If <var>url</var> is an error, then return failure.</p>
    <li data-md>
     <p>Return <var>url</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin①">origin</a>.</p>
   </ol>
   <div class="algorithm" data-algorithm="build bid generators map">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="build-bid-generators-map">build bid generators map</dfn> given an <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config①">auction config</a> <var>auctionConfig</var>:</p>
    <ol>
     <li data-md>
      <p>Let <var>bidGenerators</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①">keys</a> are <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin②">origins</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①">values</a> are <a data-link-type="dfn" href="#per-buyer-bid-generator" id="ref-for-per-buyer-bid-generator">per buyer bid generators</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑥">For each</a> <var>buyer</var> in <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-interest-group-buyers" id="ref-for-auction-config-interest-group-buyers①">interest group buyers</a>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑦">For each</a> <var>ig</var> of the user agent’s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set①">interest group set</a> whose <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner④">owner</a> is <var>buyer</var>:</p>
        <ol>
         <li data-md>
          <p>Let <var>signalsUrl</var> be <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-url" id="ref-for-interest-group-trusted-bidding-signals-url③">trusted bidding signals url</a>.</p>
         <li data-md>
          <p>Let <var>joiningOrigin</var> be <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-joining-origin" id="ref-for-interest-group-joining-origin①">joining origin</a>.</p>
         <li data-md>
          <p>If <var>bidGenerators</var> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑨">contain</a> <var>buyer</var>:</p>
          <ol>
           <li data-md>
            <p>Let <var>perBuyerGenerator</var> be a new <a data-link-type="dfn" href="#per-buyer-bid-generator" id="ref-for-per-buyer-bid-generator①">per buyer bid generator</a>.</p>
           <li data-md>
            <p>Let <var>perSignalsUrlGenerator</var> be a new <a data-link-type="dfn" href="#per-signals-url-bid-generator" id="ref-for-per-signals-url-bid-generator">per signals url bid generator</a>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set⑤">Set</a> <var>perSignalsUrlGenerator</var>[<var>joiningOrigin</var>] to « <var>ig</var> ».</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set⑥">Set</a> <var>perBuyerGenerator</var>[<var>signalsUrl</var>] to <var>perSignalsUrlGenerator</var>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set⑦">Set</a> <var>bidGenerators</var>[<var>buyer</var>] to <var>perBuyerGenerator</var>.</p>
           <li data-md>
            <p>TODO: add a perBiddingScriptUrlGenerator layer that replaces the list of IGs with a map
from biddingScriptUrl to a list of IGs.</p>
          </ol>
         <li data-md>
          <p>Otherwise:</p>
          <ol>
           <li data-md>
            <p>Let <var>perBuyerGenerator</var> be <var>bidGenerators</var>[<var>buyer</var>].</p>
           <li data-md>
            <p>If <var>perBuyerGenerator</var> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⓪">contain</a> <var>signalsUrl</var>:</p>
            <ol>
             <li data-md>
              <p>Let <var>perSignalsUrlGenerator</var> be a new <a data-link-type="dfn" href="#per-signals-url-bid-generator" id="ref-for-per-signals-url-bid-generator①">per signals url bid generator</a>.</p>
             <li data-md>
              <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set⑧">Set</a> <var>perSignalsUrlGenerator</var>[<var>joiningOrigin</var>] to « <var>ig</var> ».</p>
             <li data-md>
              <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set⑨">Set</a> <var>perBuyerGenerator</var>[<var>signalsUrl</var>] to <var>perSignalsUrlGenerator</var>.</p>
            </ol>
           <li data-md>
            <p>Otherwise:</p>
            <ol>
             <li data-md>
              <p>Let <var>perSignalsUrlGenerator</var> be <var>perBuyerGenerator</var>[<var>signalsUrl</var>].</p>
             <li data-md>
              <p>If <var>perSignalsUrlGenerator</var> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②①">contain</a> <var>joiningOrigin</var>:</p>
              <ol>
               <li data-md>
                <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①⓪">Set</a> <var>perSignalsUrlGenerator</var>[<var>joiningOrigin</var>] to « <var>ig</var> ».</p>
              </ol>
             <li data-md>
              <p>Otherwise:</p>
              <ol>
               <li data-md>
                <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append③">Append</a> <var>ig</var> to <var>perSignalsUrlGenerator</var>[<var>joiningOrigin</var>].</p>
              </ol>
            </ol>
          </ol>
        </ol>
      </ol>
     <li data-md>
      <p>Return <var>bidGenerators</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="generate and score bids">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="generate-and-score-bids">generate and score bids</dfn> given an <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config②">auction config</a> <var>auctionConfig</var>, an <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config③">auction config</a>-or-null <var>topLevelAuctionConfig</var>, and a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#global-object" id="ref-for-global-object">global object</a> <var>global</var>:</p>
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert">Assert</a> that these steps are running <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel">in parallel</a>.</p>
     <li data-md>
      <p>Let <var>decisionLogicScript</var> be the result of <a data-link-type="dfn" href="#create-a-seller-script-runner" id="ref-for-create-a-seller-script-runner">creating a seller script runner</a> with <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-decision-logic-url" id="ref-for-auction-config-decision-logic-url①">decision logic url</a>.</p>
     <li data-md>
      <p>If <var>decisionLogicScript</var> is failure, return null.</p>
     <li data-md>
      <p>Let <var>bidGenerators</var> be the result of running <a data-link-type="dfn" href="#build-bid-generators-map" id="ref-for-build-bid-generators-map">build bid generators map</a> with <var>auctionConfig</var>.</p>
     <li data-md>
      <p>Let <var>leadingBidInfo</var> be a new <a data-link-type="dfn" href="#leading-bid-info" id="ref-for-leading-bid-info">leading bid info</a>.</p>
     <li data-md>
      <p>Let <var>queue</var> be the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue" id="ref-for-starting-a-new-parallel-queue②">starting a new parallel queue</a>.</p>
     <li data-md>
      <p>If <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-component-auctions" id="ref-for-auction-config-component-auctions①">component auctions</a> are not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①">empty</a>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①">Assert</a> <var>topLevelAuctionConfig</var> is null.</p>
       <li data-md>
        <p>Let <var>pendingComponentAuctions</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size">size</a> of <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-component-auctions" id="ref-for-auction-config-component-auctions②">component auctions</a>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑧">For each</a> <var>component</var> in <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-component-auctions" id="ref-for-auction-config-component-auctions③">component auctions</a>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps" id="ref-for-enqueue-the-following-steps②">enqueue the following steps</a> to <var>queue</var>:</p>
        <ol>
         <li data-md>
          <p>Let <var>compWinner</var> be the result of <a data-link-type="dfn" href="#generate-and-score-bids" id="ref-for-generate-and-score-bids①">generate and score bids</a> with <var>component</var>, <var>auctionConfig</var>, and <var>global</var>.</p>
         <li data-md>
          <p>If <var>compWinner</var> is not failure or null, <a data-link-type="dfn" href="#score-and-rank-a-bid" id="ref-for-score-and-rank-a-bid">score and rank a bid</a> with <var>auctionConfig</var>, <var>compWinner</var>, <var>leadingBidInfo</var>, <var>desisionLogicScript</var>, and true.</p>
         <li data-md>
          <p>Decrement <var>pendingComponentAuctions</var> by 1.</p>
        </ol>
       <li data-md>
        <p>Wait until <var>pendingComponentAuctions</var> is 0.</p>
       <li data-md>
        <p>Return <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-leading-bid" id="ref-for-leading-bid-info-leading-bid">leading bid</a>.</p>
      </ol>
     <li data-md>
      <p>Let <var>allBuyersExperimentGroupId</var> be <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-all-buyer-experiment-group-id" id="ref-for-auction-config-all-buyer-experiment-group-id①">all buyer experiment group id</a>.</p>
     <li data-md>
      <p>Let <var>auctionSignals</var> be <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-auction-signals" id="ref-for-auction-config-auction-signals①">auction signals</a>.</p>
     <li data-md>
      <p>Let <var>browserSignals</var> be an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys②">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values②">values</a> are <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any⑤">any</a></code>.</p>
     <li data-md>
      <p>TODO: Set <var>browserSignals</var>’s "topWindowHostname" to hostname of top window</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①①">Set</a> <var>browserSignals</var>["seller"] to <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller④">seller</a>.</p>
     <li data-md>
      <p>If <var>topLevelAuctionConfig</var> is not null:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①②">Set</a> <var>browserSignals</var>["topLevelSeller"] to the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin" id="ref-for-ascii-serialisation-of-an-origin①">serialization</a> of <var>topLevelAuctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller⑤">seller</a>.</p>
      </ol>
     <li data-md>
      <p>Let <var>pendingBuyers</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-size" id="ref-for-map-size">size</a> of <var>bidGenerators</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate⑧">For each</a> <var>buyer</var> → <var>perBuyerGenerator</var> of <var>bidGenerators</var>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps" id="ref-for-enqueue-the-following-steps③">enqueue the following steps</a> to <var>queue</var>:</p>
      <ol>
       <li data-md>
        <p>Let <var>buyerExperimentGroupId</var> be <var>allBuyersExperimentGroupId</var>.</p>
       <li data-md>
        <p>Let <var>perBuyerExperimentGroupIds</var> be <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-experiment-group-ids" id="ref-for-auction-config-per-buyer-experiment-group-ids①">per buyer experiment group ids</a>.</p>
       <li data-md>
        <p>If <var>perBuyerExperimentGroupIds</var> is not null and <var>perBuyerExperimentGroupIds</var>[<var>buyer</var>] exists:</p>
        <ol>
         <li data-md>
          <p>Set <var>buyerExperimentGroupId</var> to <var>perBuyerExperimentGroupIds</var>[<var>buyer</var>].</p>
        </ol>
       <li data-md>
        <p>Let <var>perBuyerSignals</var> be <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-signals" id="ref-for-auction-config-per-buyer-signals①">per buyer signals</a>[<var>buyer</var>] if that
member <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②②">exists</a>, and null otherwise.</p>
       <li data-md>
        <p>If <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-signals" id="ref-for-auction-config-per-buyer-signals②">per buyer signals</a> is not null and <a data-link-type="dfn" href="#auction-config-per-buyer-signals" id="ref-for-auction-config-per-buyer-signals③">per buyer signals</a>[<var>buyer</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②③">exists</a>:</p>
        <ol>
         <li data-md>
          <p>Let <var>perBuyerSignals</var> be <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-signals" id="ref-for-auction-config-per-buyer-signals④">per buyer signals</a>[<var>buyer</var>].</p>
        </ol>
       <li data-md>
        <p>Otherwise:</p>
        <ol>
         <li data-md>
          <p>Let <var>perBuyerSignals</var> be null.</p>
        </ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate⑨">For each</a> <var>signalsUrl</var> -> <var>perSignalsUrlGenerator</var> of <var>perBuyerGenerator</var>:</p>
        <ol>
         <li data-md>
          <p>Let <var>keys</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set">ordered set</a>.</p>
         <li data-md>
          <p>Let <var>igNames</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①">ordered set</a>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate①⓪">For each</a> joiningOrigin -> <var>groups</var> of <var>perSignalsUrlGenerator</var>:</p>
          <ol>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑨">For each</a> <var>ig</var> of <var>groups</var>:</p>
            <ol>
             <li data-md>
              <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append">Append</a> <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-keys" id="ref-for-interest-group-trusted-bidding-signals-keys②">trusted bidding signals keys</a> to <var>keys</var>.</p>
             <li data-md>
              <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append①">Append</a> <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name③">name</a> to <var>igNames</var>.</p>
            </ol>
          </ol>
         <li data-md>
          <p>Let <var>fullSignalsUrl</var> be the result of <a data-link-type="dfn" href="#build-trusted-bidding-signals-url" id="ref-for-build-trusted-bidding-signals-url">building trusted bidding signals url</a> with <var>signalsUrl</var>, <var>keys</var>, <var>igNames</var>, <var>buyerExperimentGroupId</var>.</p>
         <li data-md>
          <p>Let <var>trustedBiddingSignals</var> be the result of <a data-link-type="dfn" href="#fetch-resource" id="ref-for-fetch-resource">fetching resource</a> with <var>fullSignalsUrl</var> and "application/json".</p>
         <li data-md>
          <p>TODO: If <var>trustedBiddingSignals</var> is failure, fail the auction with manually_aborted set to
true.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate①①">For each</a> joiningOrigin -> <var>groups</var> of <var>perSignalsUrlGenerator</var>:</p>
          <ol>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①⓪">For each</a> <var>ig</var> of <var>groups</var>:</p>
            <ol>
             <li data-md>
              <p>TODO: create bidder script runner. If failed, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue④">continue</a>.</p>
             <li data-md>
              <p>TODO: Let <var>interestGroup</var> be ... from <var>ig</var> ... minus priority and prioritySignalsOverrides and any browser-defined pieces</p>
             <li data-md>
              <p>TODO: Set <var>browserSignals</var>’s "joinCount" to <var>ig</var>’s ...need to add and maintain joinCount in interest groups</p>
             <li data-md>
              <p>TODO: Set <var>browserSignals</var>’s "bidCount" to <var>ig</var>’s ...need to add and maintain bidCount in interest groups</p>
             <li data-md>
              <p>TODO: Set <var>browserSignals</var>’s "prevWins" to <var>ig</var>’s ...need to add and maintain prevWins in interest groups</p>
             <li data-md>
              <p>TODO: Set <var>browserSignals</var>’s "wasmHelper" ...need to fetch and prepare WebAssembly.Module object based on <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-bidding-wasm-helper-url" id="ref-for-interest-group-bidding-wasm-helper-url②">bidding wasm helper url</a></p>
             <li data-md>
              <p>TODO: Set <var>browserSignals</var>’s "dataVersion" ...to Data-Version value from the trusted bidding signals server’s response(s)</p>
             <li data-md>
              <p>Let <var>biddingScript</var> be the result of <a data-link-type="dfn" href="#fetch-resource" id="ref-for-fetch-resource①">fetching resource</a> with <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-bidding-url" id="ref-for-interest-group-bidding-url②">bidding url</a>, and "text/javascript". If <var>biddingScript</var> is an error, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑤">continue</a>.</p>
             <li data-md>
              <p>TODO: Let <var>generatedBid</var> be the result of <a data-link-type="dfn" href="#evaluate-script" id="ref-for-evaluate-script">evaluating script</a> with <a data-link-type="dfn" href="#evaluate-script-script" id="ref-for-evaluate-script-script">script</a> set to <var>biddingScript</var>, <a data-link-type="dfn" href="#evaluate-script-functionname" id="ref-for-evaluate-script-functionname">functionName</a> set
to "generateBid", and <a data-link-type="dfn" href="#evaluate-script-arguments" id="ref-for-evaluate-script-arguments">arguments</a> set to « <var>interestGroup</var>, <var>auctionSignals</var>, <var>perBuyerSignals</var>, <var>trustedBiddingSignals</var>, <var>browserSignals</var> ».</p>
             <li data-md>
              <p>If <var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-bid" id="ref-for-generated-bid-bid">bid</a> is negative or 0, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑥">continue</a>.</p>
             <li data-md>
              <p>TODO: Validate other fields of <var>generatedBid</var>.</p>
             <li data-md>
              <p><a data-link-type="dfn" href="#score-and-rank-a-bid" id="ref-for-score-and-rank-a-bid①">Score and rank a bid</a> with <var>auctionConfig</var>, <var>generatedBid</var>, <var>leadingBidInfo</var>, <var>desisionLogicScript</var> and false.</p>
            </ol>
          </ol>
        </ol>
       <li data-md>
        <p>Decrement <var>pendingBuyers</var> by 1.</p>
      </ol>
     <li data-md>
      <p>Wait until <var>pendingBuyers</var> is 0.</p>
     <li data-md>
      <p>Return <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-leading-bid" id="ref-for-leading-bid-info-leading-bid①">leading bid</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="score and rank a bid">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="score-and-rank-a-bid">score and rank a bid</dfn> given an <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config④">auction config</a> <var>auctionConfig</var>, a <a data-link-type="dfn" href="#generated-bid" id="ref-for-generated-bid">generated bid</a> <var>generatedBid</var>, a <a data-link-type="dfn" href="#leading-bid-info" id="ref-for-leading-bid-info①">leading bid info</a> <var>leadingBidInfo</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③">string</a> <var>decisionLogicScript</var>, and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean①">boolean</a> <var>hasComponentAuction</var>:</p>
    <ol>
     <li data-md>
      <p>TODO: Assemble and fetch trusted scoring signals</p>
     <li data-md>
      <p>TODO: Let <var>adMetadata</var> be ... maybe include in <a data-link-type="dfn" href="#generated-bid" id="ref-for-generated-bid①">generated bid</a></p>
     <li data-md>
      <p>Let <var>bid</var> be <var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-bid" id="ref-for-generated-bid-bid①">bid</a>.</p>
     <li data-md>
      <p>TODO: Let <var>trustedScoringSignals</var> ... need to assemble and fetch these</p>
     <li data-md>
      <p>Let <var>browserSignals</var> be an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys③">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string④">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values③">values</a> are <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any⑥">any</a></code>.</p>
     <li data-md>
      <p>TODO: Set <var>browserSignals</var>’s "topWindowHostname" to hostname of top window</p>
     <li data-md>
      <p>TODO: Set <var>browserSignals</var>’s "interestGroupOwner" to ...need to pass in IG</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①③">Set</a> <var>browserSignals</var>["renderUrl"] to <var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-render" id="ref-for-generated-bid-render①">render</a>.</p>
     <li data-md>
      <p>TODO: Set <var>browserSignals</var>’s "adComponents" to ...need to pass in as part of <var>generatedBid</var></p>
     <li data-md>
      <p>TODO: Set <var>browserSignals</var>’s "biddingDurationMsec" to ...need to calculate nad pass in</p>
     <li data-md>
      <p>TODO: Set <var>browserSignals</var>’s "dataVersion" ...to Data-Version value from the trusted scoring signals server’s response</p>
     <li data-md>
      <p>TODO: Remove fields of <var>auctionConfig</var> that don’t pass through.</p>
     <li data-md>
      <p>TODO: Let <var>scoreAdOutput</var> be the result of <a data-link-type="dfn" href="#evaluate-script" id="ref-for-evaluate-script①">evaluating script</a> with <a data-link-type="dfn" href="#evaluate-script-script" id="ref-for-evaluate-script-script①">script</a> set to <var>decisionLogicScript</var>, <a data-link-type="dfn" href="#evaluate-script-functionname" id="ref-for-evaluate-script-functionname①">functionName</a> set to "scoreAd", and <a data-link-type="dfn" href="#evaluate-script-arguments" id="ref-for-evaluate-script-arguments①">arguments</a> set to
« <var>adMetadata</var>, <var>bid</var>, <var>auctionConfig</var>, <var>trustedScoringSignals</var>, <var>browserSignals</var> ».</p>
     <li data-md>
      <p>If <var>hasComponentAuction</var> is true, and <var>scoreAdOutput</var>’s <a data-link-type="dfn" href="#score-ad-output-allow-component-auction" id="ref-for-score-ad-output-allow-component-auction">allow component auction</a> is false, return.</p>
     <li data-md>
      <p>Let <var>score</var> be <var>scoreAdOutput</var>’s <a data-link-type="dfn" href="#score-ad-output-desirability" id="ref-for-score-ad-output-desirability">desirability</a>.</p>
     <li data-md>
      <p>If <var>score</var> is negative or 0, return.</p>
     <li data-md>
      <p>Let <var>maybeModifiedBid</var> be <var>generatedBid</var>.</p>
     <li data-md>
      <p>If <var>hasComponentAuction</var> is true and <var>scoreAdOutput</var>’s <a data-link-type="dfn" href="#score-ad-output-bid" id="ref-for-score-ad-output-bid">bid</a> is not null:</p>
      <ol>
       <li data-md>
        <p>Set <var>maybeModifiedBid</var>’s <a data-link-type="dfn" href="#generated-bid-bid" id="ref-for-generated-bid-bid②">bid</a> to <var>scoreAdOutput</var>’s <a data-link-type="dfn" href="#score-ad-output-bid" id="ref-for-score-ad-output-bid①">bid</a>.</p>
      </ol>
     <li data-md>
      <p>If <var>score</var> is greater than <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-top-score" id="ref-for-leading-bid-info-top-score">top score</a>:</p>
      <ol>
       <li data-md>
        <p>Set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-top-score" id="ref-for-leading-bid-info-top-score①">top score</a> to <var>score</var>.</p>
       <li data-md>
        <p>Set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-leading-bid" id="ref-for-leading-bid-info-leading-bid②">leading bid</a> to <var>maybeModifiedBid</var>.</p>
       <li data-md>
        <p>Set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-top-bids-count" id="ref-for-leading-bid-info-top-bids-count">top bids count</a> to 1.</p>
      </ol>
     <li data-md>
      <p>Otherwise if <var>score</var> equals to <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-top-score" id="ref-for-leading-bid-info-top-score②">top score</a>:</p>
      <ol>
       <li data-md>
        <p>Increment <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-top-bids-count" id="ref-for-leading-bid-info-top-bids-count①">top bids count</a> by 1.</p>
       <li data-md>
        <p>Set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-leading-bid" id="ref-for-leading-bid-info-leading-bid③">leading bid</a> to <var>maybeModifiedBid</var> with 1 in <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-top-bids-count" id="ref-for-leading-bid-info-top-bids-count②">top bids count</a> chance.</p>
      </ol>
    </ol>
   </div>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-a-seller-script-runner">create a seller script runner</dfn> given a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url">URL</a> <var>decisionLogicUrl</var>:</p>
   <ol>
    <li data-md>
     <p>TODO: create the script runner and set up environment.</p>
    <li data-md>
     <p>Let <var>decisionLogicScript</var> be the result of <a data-link-type="dfn" href="#fetch-resource" id="ref-for-fetch-resource②">fetching resource</a> with <var>decisionLogicUrl</var>, and
"text/javascript".</p>
    <li data-md>
     <p>Return <var>decisionLogicScript</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-a-request">create a request</dfn> given a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①">URL</a> <var>url</var>, and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑤">string</a> <dfn class="dfn-paneled" data-dfn-for="create a request" data-dfn-type="dfn" data-lt="accept" data-noexport id="create-a-request-accept"> <var>accept</var></dfn>:</p>
   <ol>
    <li data-md>
     <p>Let <var>request</var> be a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request">request</a> with the following properties:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url">URL</a>
      <dd data-md>
       <p><var>url</var></p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-header-list" id="ref-for-concept-request-header-list">header list</a>
      <dd data-md>
       <p>A new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list" id="ref-for-concept-header-list">header list</a> containing a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header" id="ref-for-concept-header">header</a> named "<code>Accept</code>" whose value is <var>accept</var></p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-client" id="ref-for-concept-request-client">client</a>
      <dd data-md>
       <p><code>null</code></p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-window" id="ref-for-concept-request-window">window</a>
      <dd data-md>
       <p>"<code>no-window</code>" TODO: verify</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#request-service-workers-mode" id="ref-for-request-service-workers-mode">service-workers mode</a>
      <dd data-md>
       <p>"<code>none</code>"</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-origin" id="ref-for-concept-request-origin">origin</a>
      <dd data-md>
       <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque" id="ref-for-concept-origin-opaque">opaque origin</a></p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-referrer" id="ref-for-concept-request-referrer">referrer</a>
      <dd data-md>
       <p>"<code>no-referrer</code>"</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-credentials-mode" id="ref-for-concept-request-credentials-mode">credentials mode</a>
      <dd data-md>
       <p>"<code>omit</code>"</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-cache-mode" id="ref-for-concept-request-cache-mode">cache mode</a>
      <dd data-md>
       <p>"<code>no-store</code>"</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-redirect-mode" id="ref-for-concept-request-redirect-mode">redirect mode</a>
      <dd data-md>
       <p>"<code>error</code>"</p>
     </dl>
    <li data-md>
     <p>Return <var>request</var>.</p>
   </ol>
   <div class="algorithm" data-algorithm="fetch resource">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="fetch-resource">fetch resource</dfn> given a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url②">URL</a> <var>url</var>, and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑥">string</a> <var>mimeType</var>:</p>
    <ol>
     <li data-md>
      <p>Let <var>request</var> be the result of <a data-link-type="dfn" href="#create-a-request" id="ref-for-create-a-request">creating a request</a> with <var>url</var>, and <a data-link-type="dfn" href="#create-a-request-accept" id="ref-for-create-a-request-accept">accept</a> set to <var>mimeType</var>.</p>
     <li data-md>
      <p>Let <var>resource</var> be null.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch">Fetch</a> <var>request</var> with <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#process-response-end-of-body" id="ref-for-process-response-end-of-body">processResponseConsumeBody</a> set to the following steps given a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response">response</a> <var>response</var> and <var>responseBody</var>:</p>
      <ol>
       <li data-md>
        <p>If <var>responseBody</var> is null or failure, set <var>resource</var> to failure and return.</p>
       <li data-md>
        <p>Let <var>headers</var> be <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list">header list</a>.</p>
       <li data-md>
        <p>If <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-get-structured-header" id="ref-for-concept-header-list-get-structured-header">getting a structured field value</a> "X-Allow-FLEDGE" from <var>headers</var> does not
return true, set <var>resource</var> to failure and return.</p>
       <li data-md>
        <p>Let <var>headerMimeType</var> be the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-extract-mime-type" id="ref-for-concept-header-extract-mime-type">extracting a MIME type</a> from <var>headers</var>.</p>
       <li data-md>
        <p>Set <var>resource</var> to failure and return, if any of:</p>
        <ol>
         <li data-md>
          <p><var>headerMimeType</var> is failure.</p>
         <li data-md>
          <p><var>mimeType</var> is "<code>text/javascript</code>" and <var>headerMimeType</var> is not a <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#javascript-mime-type" id="ref-for-javascript-mime-type">JavaScript MIME type</a>.</p>
         <li data-md>
          <p><var>mimeType</var> is "<code>application/json</code>" and <var>headerMimeType</var> is not a <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#json-mime-type" id="ref-for-json-mime-type">JSON MIME type</a>.</p>
        </ol>
       <li data-md>
        <p>Let <var>mimeTypeCharset</var> be <var>headerMimeType</var>’s <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#parameters" id="ref-for-parameters">parameters</a>["<code>charset</code>"].</p>
       <li data-md>
        <p>Set <var>resource</var> to failure and return if any of:</p>
        <ol>
         <li data-md>
          <p>If <var>mimeTypeCharset</var> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②④">exist</a>, or <var>mimeTypeCharset</var> is "utf-8", and <var>responseBody</var> is not <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf-8" id="ref-for-utf-8">UTF-8</a> encoded.</p>
         <li data-md>
          <p>If <var>mimeTypeCharset</var> is "us-ascii", and <var>responseBody</var> is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-string" id="ref-for-ascii-string">ascii string</a>.</p>
        </ol>
       <li data-md>
        <p>Set <var>resource</var> to <var>responseBody</var>.</p>
      </ol>
     <li data-md>
      <p>Wait for <var>resource</var> to be set.</p>
     <li data-md>
      <p>Return <var>resource</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="build trusted bidding signals url">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="build-trusted-bidding-signals-url">build trusted bidding signals url</dfn> given a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url③">URL</a> <var>signalsUrl</var>, an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set②">ordered set</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑦">strings</a> <var>keys</var>, an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set③">ordered set</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑧">strings</a> <var>igNames</var>, and a non-negative 16-bit integer <var>experimentGroupId</var>:</p>
    <ol>
     <li data-md>
      <p>Let <var>queryParamsList</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②">empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②">list</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append④">Append</a> "hostname=" to <var>queryParamsList</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑤">Append</a> the result of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#string-utf-8-percent-encode" id="ref-for-string-utf-8-percent-encode">UTF-8 percent-encoding</a> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object①">relevant settings object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin" id="ref-for-concept-environment-top-level-origin①">top-level origin</a> using <a data-link-type="dfn" href="https://url.spec.whatwg.org/#component-percent-encode-set" id="ref-for-component-percent-encode-set">component percent-encode set</a> to <var>queryParamsList</var>.</p>
     <li data-md>
      <p>If <var>keys</var> is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty③">empty</a>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑥">Append</a> "&amp;keys=" to <var>queryParamsList</var>.</p>
       <li data-md>
        <p>Let <var>keysStr</var> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-concatenate" id="ref-for-string-concatenate">concatenating</a> <var>keys</var> with separator set to ",".</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑦">Append</a> the result of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#string-utf-8-percent-encode" id="ref-for-string-utf-8-percent-encode①">UTF-8 percent-encoding</a> <var>keysStr</var> using <a data-link-type="dfn" href="https://url.spec.whatwg.org/#component-percent-encode-set" id="ref-for-component-percent-encode-set①">component percent-encode set</a> to <var>queryParamsList</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>igNames</var> is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty④">empty</a>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑧">Append</a> "&amp;interestGroupNames=" to <var>queryParamsList</var>.</p>
       <li data-md>
        <p>Let <var>igNamesStr</var> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-concatenate" id="ref-for-string-concatenate①">concatenating</a> <var>igNames</var> with separator set to ",".</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑨">Append</a> the result of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#string-utf-8-percent-encode" id="ref-for-string-utf-8-percent-encode②">UTF-8 percent-encoding</a> <var>igNamesStr</var> using <a data-link-type="dfn" href="https://url.spec.whatwg.org/#component-percent-encode-set" id="ref-for-component-percent-encode-set②">component percent-encode set</a> to <var>queryParamsList</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>experimentGroupId</var> is not null:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①⓪">Append</a> "&amp;experimentGroupId=" to <var>queryParamsList</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①①">Append</a> <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer">serialized</a> <var>experimentGroupId</var> to <var>queryParamsList</var>.</p>
      </ol>
     <li data-md>
      <p>Let <var>fullSignalsUrl</var> be <var>signalsUrl</var>.</p>
     <li data-md>
      <p>Set <var>fullSignalsUrl</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-query" id="ref-for-concept-url-query②">query</a> to the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-concatenate" id="ref-for-string-concatenate②">concatenating</a> <var>queryParamsList</var>.</p>
     <li data-md>
      <p>return <var>fullSignalsUrl</var>.</p>
    </ol>
   </div>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="serialize-an-integer">serialize an integer</dfn>, represent it as a string of the shortest possible decimal
number.</p>
   <p class="issue" id="issue-ccb90c6c"><a class="self-link" href="#issue-ccb90c6c"></a> This would ideally be replaced by a more descriptive algorithm in Infra. See <a href="https://github.com/whatwg/infra/issues/201">infra/201</a></p>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="evaluate-script">evaluate script</dfn> with given <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑨">string</a> <dfn class="dfn-paneled" data-dfn-for="evaluate script" data-dfn-type="dfn" data-noexport id="evaluate-script-script"><var>script</var></dfn>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⓪">string</a> <dfn class="dfn-paneled" data-dfn-for="evaluate script" data-dfn-type="dfn" data-noexport id="evaluate-script-functionname"><var>functionName</var></dfn>, and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③">list</a> <dfn class="dfn-paneled" data-dfn-for="evaluate script" data-dfn-type="dfn" data-noexport id="evaluate-script-arguments"><var>arguments</var></dfn>:</p>
   <ol>
    <li data-md>
     <p>TODO: Return an object or null, which is the result of evaluating <var>script</var>’s <var>functionName</var> with <var>arguments</var>.</p>
   </ol>
   <p>TODO: something like the steps below that need spec-ifying, though some pieces like fetching the
script should likely be pulled out:</p>
   <ol>
    <li data-md>
     <p>Allocate the right process/thread (these are called agent clusters/agents respectively, in ES
land) that’s going to host the script. That’s basically one of the algorithms in:
https://html.spec.whatwg.org/multipage/webappapis.html#integration-with-the-javascript-agent-cluster-formalism.
Might actually literally be able to re-use
https://html.spec.whatwg.org/multipage/webappapis.html#obtaining-a-worker/worklet-agent, but not
sure; otherwise make a new one. This is done in step 6 of [1]</p>
    <li data-md>
     <p>Create a new realm and execution
context. Realms are basically ES environments that run script. This is where the global object in
the environment is defined, so something like FledgeScriptRunner IDL interface that has to create
and define (non-user-supplied) methods on. See step 7 of [1], but step 8 substep 5 of [2] is maybe
better:
https://html.spec.whatwg.org/multipage/document-lifecycle.html#shared-document-creation-infrastructure:creating-a-new-javascript-realm.</p>
    <li data-md>
     <p>Setup the environment or environment settings object. So in HTML an "environment settings
object" is-a "environment". It is used to set a special internal slot on the ES "realm" so that ES
can call back up into the HTML Standard when it needs things that aren’t defined in HTML. May not
need this at all — assuming script doesn’t resolve URLs, fetch things from within the worklet, or
access anything time-related. A realm’s default "\[\[HostDefined\]\]" slot is undefined
(https://tc39.es/ecma262/#table-realm-record-fields) which is likely valid for this use-case.</p>
    <li data-md>
     <p>Fetch the script resource. Everything under step 5 of
https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-classic-script can give some idea of
how to do this and extract the string body appropriately etc</p>
    <li data-md>
     <p>Create the "script". This basically
means parsing the source text inside the ES realm that was created earlier. See this step for more
information, though it won’t need much of the rest of that algorithm:
https://html.spec.whatwg.org/multipage/webappapis.html#creating-a-classic-script:~:text=Let%20result%20be%20ParseScript(source%2C%20settings%27s%20realm%2C%20script),
since this spec wants to create "a classic script" as defined by HTML.</p>
    <li data-md>
     <p>Run the script: basically call ES’s ScriptEvaluation(), like
https://html.spec.whatwg.org/multipage/webappapis.html#run-a-classic-script does), although it’ll
probably need to do some of what that algorithm’s step 3 ("Prepare to run a script") does (pushing
the current realm’s execution context on the stack). This will produce something called a
CompletionRecord which will contain any value that the script contained
(https://tc39.es/ecma262/#sec-completion-record-specification-type).</p>
    <li data-md>
     <p>Run user-provided function.
I think just "running the script" isn’t probably appropriate here though. This step will want to
actually run a specific function inside the script. In that case, an example of doing this is the
last 3 steps of:
https://html.spec.whatwg.org/multipage/worklets.html#fakeworkletglobalscope-process. Not clear how
to pluck the generateBid() function off the global though. Maybe something like "Let function be
Get(realm.\[\[Global\]\], "generateBid"). Rethrow any exceptions." and then either invoke it
directly or covert it to a WebIDL function and use WebIDL to "invoke" that.</p>
   </ol>
   <p>[1]: https://html.spec.whatwg.org/multipage/workers.html#run-a-worker
[2]:
https://html.spec.whatwg.org/multipage/document-lifecycle.html#shared-document-creation-infrastructure</p>
   <div class="algorithm" data-algorithm="generate reporting URLs">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="generate-reporting-urls">generate reporting URLs</dfn> given an <code class="idl"><a data-link-type="idl" href="#dictdef-auctionadconfig" id="ref-for-dictdef-auctionadconfig③">AuctionAdConfig</a></code> <var>config</var> and a <a data-link-type="dfn" href="#generated-bid" id="ref-for-generated-bid②">generated bid</a> <var>bid</var>:</p>
    <ol>
     <li data-md>
      <p>TODO: Fetch buyer reporting script...though first we need the IG.</p>
     <li data-md>
      <p>TODO: Calculate all params to reportWin() using <var>bid</var>.</p>
     <li data-md>
      <p>TODO: Evaluate reportWin() with params and scope that includes sendReportTo().</p>
     <li data-md>
      <p>TODO: Fetch seller reporting script from <var>config</var>’s field.</p>
     <li data-md>
      <p>TODO: Calculate all params to reportResult().</p>
     <li data-md>
      <p>TODO: Evaluate reportResult() with params and scope that includes sendReportTo().</p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="5" id="interest-group-updates"><span class="secno">5. </span><span class="content">Interest Group Updates</span><a class="self-link" href="#interest-group-updates"></a></h2>
   <p>TODO: specify, including move 2 trigger sections out and add updateAdInterestGroup WebIDL.</p>
   <p>Interest groups define a field, dailyUpdateUrl, that allows updating the interest group definition
stored on disk with information periodically retrieved from the dailyUpdateUrl.</p>
   <p>These updates have 2 triggers; the navigator.updateAdInterestGroups() API, which updates all interest
groups owned by the origin of the current frame, and post-auction updates, which, at the conclusion
of navigator.runAdAuction(), updates the interest groups of all bidder origins that participated in the
auction.</p>
   <p>Both update methods trigger the same algorithm, which is described below, and takes a list of owners to
update called "owners":</p>
   <ol>
    <li data-md>
     <p>For each interest group "owner" in "owners":</p>
     <ol>
      <li data-md>
       <p>Load the interest groups of "owner" where the interest group’s "next update after" is before now.
Implementations may consider loading only a portion of these interest groups at a time to avoid
issuing too many requests at once. While the loaded set isn’t empty:</p>
       <ol>
        <li data-md>
         <p>For each loaded interest group:</p>
         <ol>
          <li data-md>
           <p>Fetch the dailyUpdateUrl of the interest group from the network.</p>
          <li data-md>
           <p>If the network fetch failed, continue to the next interest group.</p>
          <li data-md>
           <p>Parse the response body as JSON. If parsing fails, continue to the next interest group.</p>
          <li data-md>
           <p>If the response JSON object is not a JSON dict, continue to the next interest group.</p>
          <li data-md>
           <p>If "name" and or "owner" keys are present in the response dict, they must match the "name" and "owner" of
the original interest group, respectively. If they don’t, continue to the next interest group.</p>
          <li data-md>
           <p>For each remaining field, if the field is one of {priority, enableBiddingSignalsPrioritization,
priorityVector, prioritySignalsOverrides, sellerCapabilities, executionMode, biddingLogicUrl,
biddingWasmHelperUrl, trustedBiddingSignalsUrl, trustedBiddingSignalsKeys, ads,
adComponents, adSizes, sizeGroups}:</p>
           <ol>
            <li data-md>
             <p>If the field is prioritySignalsOverrides, merge with the stored value: for each key, value pair in the JSON prioritySignalsOverrides:</p>
             <ol>
              <li data-md>
               <p>If the value is null, delete the stored prioritySignalsOverrides key, value pair.</p>
              <li data-md>
               <p>Otherise, update the stored value for key to be the new value.</p>
             </ol>
            <li data-md>
             <p>Otherwise, replace the current value of the field in the interest group with that field from the received
interest group update JSON. (Fields that are not specified in the update JSON will remain unmodified).</p>
            <li data-md>
             <p>Set the "last updated" of the interest group to the current time, and set the "next update after" to
the update rate limit period + the current time.</p>
           </ol>
         </ol>
       </ol>
     </ol>
   </ol>
   <h2 class="heading settled" data-level="6" id="permissions-policy-integration"><span class="secno">6. </span><span class="content">Permissions Policy integration</span><a class="self-link" href="#permissions-policy-integration"></a></h2>
   <p>This specification defines two <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature②">policy-controlled features</a> identified by the string
"<code><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="join-ad-interest-group">join-ad-interest-group</dfn></code>", and
"<code><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="run-ad-auction">run-ad-auction</dfn></code>". Their <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist" id="ref-for-policy-controlled-feature-default-allowlist">default allowlists</a> are <code>self</code>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> In the Chromium implementation the <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist" id="ref-for-policy-controlled-feature-default-allowlist①">default allowlists</a> for both
features are temporarily set to <code>*</code> to ease testing.</p>
   <h2 class="heading settled" data-level="7" id="structures"><span class="secno">7. </span><span class="content">Structures</span><a class="self-link" href="#structures"></a></h2>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="7.1" data-lt="Interest group" data-noexport id="interest-group"><span class="secno">7.1. </span><span class="content">Interest group</span><a class="self-link" href="#interest-group" id="ref-for-interest-group④"></a></h3>
   <p>An interest group is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-expiry">expiry</dfn>
    <dd data-md>
     <p>A point in time at which the browser will forget about this interest group.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-owner">owner</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin③">origin</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-name">name</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①①">string</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-priority">priority</dfn>
    <dd data-md>
     <p>A <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double⑥">double</a></code>. Defaulting to 0.0. Used to select which interest groups participate in an auction
when the number of interest groups are limited by <code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyergrouplimits" id="ref-for-dom-auctionadconfig-perbuyergrouplimits②">perBuyerGroupLimits</a></code>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-enable-bidding-signals-prioritization">enable bidding signals prioritization</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean②">boolean</a>. Defaulting to false. Being true if the interest group’s priority should be
calculated using vectors from bidding signals fetch.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-priority-vector">priority vector</dfn>
    <dd data-md>
     <p>Null or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map④">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys④">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①②">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values④">values</a> are <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double⑦">double</a></code>. Its dot product with the <code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyerprioritysignals" id="ref-for-dom-auctionadconfig-perbuyerprioritysignals②">perBuyerPrioritySignals</a></code> will be used
in place of <a data-link-type="dfn" href="#interest-group-priority" id="ref-for-interest-group-priority②">priority</a>, if set.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-priority-signals-overrides">priority signals overrides</dfn>
    <dd data-md>
     <p>Null or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑤">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys⑤">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①③">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values⑤">values</a> are <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double⑧">double</a></code>. Overrides the <code class="idl"><a data-link-type="idl" href="#dictdef-auctionadconfig" id="ref-for-dictdef-auctionadconfig④">AuctionAdConfig</a></code>'s corresponding priority signals.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-execution-mode">execution mode</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①④">string</a>, defaulting to "compatibility".</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-bidding-url">bidding url</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url④">URL</a>. The URL to fetch the buyer’s JavaScript from.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-bidding-wasm-helper-url">bidding wasm helper url</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑤">URL</a>. Lets the bidder provide computationally-expensive subroutines in WebAssembly,
rather than JavaScript, to be driven from the JavaScript function provided by <a data-link-type="dfn" href="#interest-group-bidding-url" id="ref-for-interest-group-bidding-url③">bidding url</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-daily-update-url">daily update url</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑥">URL</a>. Provides a mechanism for the group’s owner to periodically update the
attributes of the interest group.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-trusted-bidding-signals-url">trusted bidding signals url</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑦">URL</a>. Provide a mechanism for making real-time data available for use at bidding
time.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-trusted-bidding-signals-keys">trusted bidding signals keys</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④">list</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑤">string</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-user-bidding-signals">user bidding signals</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑥">string</a>. Additional metadata that the owner can use during on-device bidding.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-ads">ads</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑤">list</a> of <a data-link-type="dfn" href="#interest-group-ad" id="ref-for-interest-group-ad①">interest group ad</a>. Contains various ads that the interest group might
show.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-ad-components">ad components</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑥">list</a> of <a data-link-type="dfn" href="#interest-group-ad" id="ref-for-interest-group-ad②">interest group ad</a>. Contains various ad components (or "products") that
can be used to construct ads composed of multiple pieces — a top-level ad template "container"
which includes some slots that can be filled in with specific "products".</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-joining-origin">joining origin</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin④">origin</a>.The top level page origin from where the interest group was joined.</p>
   </dl>
   <p>TODO: Update the short descriptions of some fields above, and add links when runAdAuction() section
is ready.</p>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="7.2" data-lt="Interest group ad" data-noexport id="interest-group-ad"><span class="secno">7.2. </span><span class="content">Interest group ad</span><a class="self-link" href="#interest-group-ad" id="ref-for-interest-group-ad③"></a></h3>
   <p>An interest group ad is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group ad" data-dfn-type="dfn" data-noexport id="interest-group-ad-render-url">render url</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑧">URL</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group ad" data-dfn-type="dfn" data-noexport id="interest-group-ad-metadata">metadata</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑦">string</a>.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="7.3" data-lt="Auction config" data-noexport id="auction-config"><span class="secno">7.3. </span><span class="content">Auction config</span><a class="self-link" href="#auction-config" id="ref-for-auction-config⑦"></a></h3>
   <p>An auction config is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct②">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-seller">seller</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin⑤">origin</a>.
The origin of the seller running the ad auction.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-decision-logic-url">decision logic url</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑨">URL</a>.
The URL to fetch the seller’s JavaScript from.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-trusted-scoring-signals-url">trusted scoring signals url</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①⓪">URL</a>.
Provide a mechanism for making real-time data (information about a specific creative) available
for use at scoring time, e.g. the results of some ad scanning system.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-interest-group-buyers">interest group buyers</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑦">list</a> of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin⑥">origin</a>.
Owners of interest groups allowed to participate in the auction.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-auction-signals">auction signals</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑧">string</a>.
Opaque JSON data passed to both sellers' and buyers' script runners.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-seller-signals">seller signals</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑨">string</a>.
Opaque JSON data passed to the seller’s script runner.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-seller-timeout">seller timeout</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration">duration</a>. Defaulting to 50 milliseconds.
Restricts the runtime of the seller’s <code>scoreAd()</code> script.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-per-buyer-signals">per buyer signals</dfn>
    <dd data-md>
     <p>Null or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑥">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys⑥">keys</a> are <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin⑦">origins</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values⑥">values</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⓪">strings</a>. <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys⑦">Keys</a> are buyers and must be valid HTTPS origins. <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values⑦">Values</a> are opaque JSON data
passed to corresponding buyer’s script runner.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-per-buyer-timeouts">per buyer timeouts</dfn>
    <dd data-md>
     <p>Null or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑦">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys⑧">keys</a> are <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin⑧">origins</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values⑧">values</a> are
durations. <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys⑨">Keys</a> are buyers and must be valid HTTPS origins. <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values⑨">Values</a> restrict the runtime of
corresponding buyer’s <code>generateBid()</code> script.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-all-buyers-timeout">all buyers timeout</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration①">duration</a>. Defaulting to 50 milliseconds.
Restricts the <code>generateBid()</code> script’s runtime for all buyers without a timeouts specified in <a data-link-type="dfn" href="#auction-config-per-buyer-timeouts" id="ref-for-auction-config-per-buyer-timeouts①">per buyer timeouts</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-per-buyer-group-limits">per buyer group limits</dfn>
    <dd data-md>
     <p>Null or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑧">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①⓪">keys</a> are <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin⑨">origins</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①⓪">values</a> are
non-negative 16-bit integers. <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①①">Keys</a> are buyers and must be valid HTTPS origins. <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①①">Values</a> restrict the number of
bidding interest groups for a particular buyer that can participate in an auction.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-all-buyers-group-limit">all buyers group limit</dfn>
    <dd data-md>
     <p>A non-negative 16-bit integer.
Limit on the number of bidding interest groups for all buyers without a limit specified in <a data-link-type="dfn" href="#auction-config-per-buyer-group-limits" id="ref-for-auction-config-per-buyer-group-limits①">per buyer group limits</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-per-buyer-priority-signals">per buyer priority signals</dfn>
    <dd data-md>
     <p>Null or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑨">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①②">keys</a> are <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin①⓪">origins</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①②">values</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①⓪">ordered maps</a>, whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①③">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②①">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①③">values</a> are <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double⑨">double</a></code>.
Per-buyer sparse vector whose dot product with <a data-link-type="dfn" href="#interest-group-priority-vector" id="ref-for-interest-group-priority-vector③">priority vector</a> is used to
calculate interest group priorities. No signal’s key starts with "browserSignals.", which is
reserved for values coming from the browser.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-all-buyers-priority-signals">all buyers priority signals</dfn>
    <dd data-md>
     <p>Null or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①①">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①④">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②②">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①④">values</a> are <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①⓪">double</a></code>.
Merged with <a data-link-type="dfn" href="#auction-config-per-buyer-priority-signals" id="ref-for-auction-config-per-buyer-priority-signals①">per buyer priority signals</a> before calculating per-interest group
priorities. In the case both have entries with the same key, the entry in <code>per_buyer_priority_signals</code> takes precedence. No signals key start with "browserSignals.", which
is reserved for values coming from the browser.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-component-auctions">component auctions</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑧">list</a> of <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config⑤">auction config</a>s.
Nested auctions whose results will also participate in a top level auction. Only the top level <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config⑥">auction config</a> can have component auctions.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-seller-experiment-group-id">seller experiment group id</dfn>
    <dd data-md>
     <p>A non-negative 16-bit integer.
Optional identifier for an experiment group to support coordinated experiments with the seller’s
trusted server.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-per-buyer-experiment-group-ids">per buyer experiment group ids</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①②">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①⑤">keys</a> are <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin①①">origins</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①⑤">values</a> are
non-negative 16-bit integers. <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①⑥">Keys</a> are buyers and must be valid HTTPS origins. <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①⑥">Values</a> are identifiers for
experiment groups, to support coordinated experiments with buyers' trusted servers.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-all-buyer-experiment-group-id">all buyer experiment group id</dfn>
    <dd data-md>
     <p>A non-negative 16-bit integer.
Optional identifier for an experiment group to support coordinated experiments with buyers'
trusted servers for buyers without a specified experiment group.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="7.4" data-lt="Per buyer bid generator" data-noexport id="per-buyer-bid-generator"><span class="secno">7.4. </span><span class="content">Per buyer bid generator</span><a class="self-link" href="#per-buyer-bid-generator" id="ref-for-per-buyer-bid-generator②"></a></h3>
   <p>A per buyer bid generator is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①③">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①⑦">keys</a> are <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①①">URLs</a> representing <a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-url" id="ref-for-interest-group-trusted-bidding-signals-url④">trusted bidding signals urls</a>, and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①⑦">values</a> are <a data-link-type="dfn" href="#per-signals-url-bid-generator" id="ref-for-per-signals-url-bid-generator②">per signals url bid generators</a>.</p>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="7.5" data-lt="Per signals url bid generator" data-noexport id="per-signals-url-bid-generator"><span class="secno">7.5. </span><span class="content">Per signals url bid generator</span><a class="self-link" href="#per-signals-url-bid-generator" id="ref-for-per-signals-url-bid-generator③"></a></h3>
   <p>A per signals url bid generator is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①④">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①⑧">keys</a> are <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin①②">origins</a> representing <a data-link-type="dfn" href="#interest-group-joining-origin" id="ref-for-interest-group-joining-origin②">joining origins</a>, and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①⑧">values</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑨">lists</a> of <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group③">interest groups</a>.</p>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="7.6" data-lt="Generated bid" data-noexport id="generated-bid"><span class="secno">7.6. </span><span class="content">Generated bid</span><a class="self-link" href="#generated-bid" id="ref-for-generated-bid④"></a></h3>
   <p>The output of running a FLEDGE generateBid() script, which needs to be scored by the seller.</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="generated bid" data-dfn-type="dfn" data-noexport id="generated-bid-bid">bid</dfn>
    <dd data-md>
     <p>A <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①①">double</a></code>. If the bid is zero or negative, then this interest group will not participate in
the auction.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="generated bid" data-dfn-type="dfn" data-noexport id="generated-bid-render">render</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①②">URL</a>, which will be rendered to display the creative if this bid wins the auction.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="7.7" data-lt="Score ad output" data-noexport id="score-ad-output"><span class="secno">7.7. </span><span class="content">Score ad output</span><a class="self-link" href="#score-ad-output" id="ref-for-score-ad-output"></a></h3>
   <p>The output of running a FLEDGE scoreAd() script.</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="score ad output" data-dfn-type="dfn" data-noexport id="score-ad-output-desirability">desirability</dfn>
    <dd data-md>
     <p>A <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①②">double</a></code>.
Numeric score of the bid. Must be positive or the ad will be rejected. The winner of the auction
is the bid which was given the highest score.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="score ad output" data-dfn-type="dfn" data-noexport id="score-ad-output-allow-component-auction">allow component auction</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean③">boolean</a>.
 If the bid being scored is from a component auction and this value is not true, the bid is
 ignored. This field must be present and true both when the component seller scores a bid, and
 when that bid is being scored by the top-level auction.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="score ad output" data-dfn-type="dfn" data-noexport id="score-ad-output-bid">bid</dfn>
    <dd data-md>
     <p>Null or a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①③">double</a></code>.
Is null if the auction has no component auction, or if the auction is a top-level auction.
Modified bid value to provide to the top-level seller script. If present, this will be passed to
the top-level seller’s scoreAd() and reportResult() methods instead of the original bid, if the ad
wins the component auction and top-level auction, respectively.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="7.8" data-lt="Leading bid info" data-noexport id="leading-bid-info"><span class="secno">7.8. </span><span class="content">Leading bid info</span><a class="self-link" href="#leading-bid-info" id="ref-for-leading-bid-info②"></a></h3>
   <p>Information of the auction’s leading bid so far when ranking scored bids.</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="leading bid info" data-dfn-type="dfn" data-noexport id="leading-bid-info-top-score">top score</dfn>
    <dd data-md>
     <p>A <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①④">double</a></code>. Defaulting to 0.0. The highest score so far.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="leading bid info" data-dfn-type="dfn" data-noexport id="leading-bid-info-top-bids-count">top bids count</dfn>
    <dd data-md>
     <p>An integer. Defaulting to 0. The number of bids with the same <code>top score</code>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="leading bid info" data-dfn-type="dfn" data-noexport id="leading-bid-info-leading-bid">leading bid</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="#generated-bid" id="ref-for-generated-bid③">generated bid</a>. The leading bid of the auction so far.</p>
   </dl>
  </main>
<script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#create-a-request-accept">accept</a><span>, in § 4</span>
   <li><a href="#interest-group-ad-components">ad components</a><span>, in § 7.1</span>
   <li><a href="#dom-auctionadinterestgroup-adcomponents">adComponents</a><span>, in § 2</span>
   <li>
    ads
    <ul>
     <li><a href="#interest-group-ads">dfn for interest group</a><span>, in § 7.1</span>
     <li><a href="#dom-auctionadinterestgroup-ads">dict-member for AuctionAdInterestGroup</a><span>, in § 2</span>
    </ul>
   <li><a href="#auction-config-all-buyer-experiment-group-id">all buyer experiment group id</a><span>, in § 7.3</span>
   <li><a href="#auction-config-all-buyers-group-limit">all buyers group limit</a><span>, in § 7.3</span>
   <li><a href="#auction-config-all-buyers-priority-signals">all buyers priority signals</a><span>, in § 7.3</span>
   <li><a href="#auction-config-all-buyers-timeout">all buyers timeout</a><span>, in § 7.3</span>
   <li><a href="#score-ad-output-allow-component-auction">allow component auction</a><span>, in § 7.7</span>
   <li><a href="#evaluate-script-arguments">arguments</a><span>, in § 4</span>
   <li><a href="#dictdef-auctionad">AuctionAd</a><span>, in § 2</span>
   <li><a href="#dictdef-auctionadconfig">AuctionAdConfig</a><span>, in § 4</span>
   <li><a href="#dictdef-auctionadinterestgroup">AuctionAdInterestGroup</a><span>, in § 2</span>
   <li><a href="#auction-config">Auction config</a><span>, in § 7.2</span>
   <li><a href="#auction-config-auction-signals">auction signals</a><span>, in § 7.3</span>
   <li><a href="#dom-auctionadconfig-auctionsignals">auctionSignals</a><span>, in § 4</span>
   <li>
    bid
    <ul>
     <li><a href="#generated-bid-bid">dfn for generated bid</a><span>, in § 7.6</span>
     <li><a href="#score-ad-output-bid">dfn for score ad output</a><span>, in § 7.7</span>
    </ul>
   <li><a href="#dom-auctionadinterestgroup-biddinglogicurl">biddingLogicUrl</a><span>, in § 2</span>
   <li><a href="#interest-group-bidding-url">bidding url</a><span>, in § 7.1</span>
   <li><a href="#interest-group-bidding-wasm-helper-url">bidding wasm helper url</a><span>, in § 7.1</span>
   <li><a href="#dom-auctionadinterestgroup-biddingwasmhelperurl">biddingWasmHelperUrl</a><span>, in § 2</span>
   <li><a href="#build-bid-generators-map">build bid generators map</a><span>, in § 4</span>
   <li><a href="#build-trusted-bidding-signals-url">build trusted bidding signals url</a><span>, in § 4</span>
   <li><a href="#auction-config-component-auctions">component auctions</a><span>, in § 7.3</span>
   <li><a href="#dom-auctionadconfig-componentauctions">componentAuctions</a><span>, in § 4</span>
   <li><a href="#create-a-request">create a request</a><span>, in § 4</span>
   <li><a href="#create-a-seller-script-runner">create a seller script runner</a><span>, in § 4</span>
   <li><a href="#interest-group-daily-update-url">daily update url</a><span>, in § 7.1</span>
   <li><a href="#dom-auctionadinterestgroup-dailyupdateurl">dailyUpdateUrl</a><span>, in § 2</span>
   <li><a href="#auction-config-decision-logic-url">decision logic url</a><span>, in § 7.3</span>
   <li><a href="#dom-auctionadconfig-decisionlogicurl">decisionLogicUrl</a><span>, in § 4</span>
   <li><a href="#score-ad-output-desirability">desirability</a><span>, in § 7.7</span>
   <li><a href="#dom-auctionadconfig-directfromsellersignals">directFromSellerSignals</a><span>, in § 4</span>
   <li><a href="#interest-group-enable-bidding-signals-prioritization">enable bidding signals prioritization</a><span>, in § 7.1</span>
   <li><a href="#dom-auctionadinterestgroup-enablebiddingsignalsprioritization">enableBiddingSignalsPrioritization</a><span>, in § 2</span>
   <li><a href="#interest-group-estimated-size">estimated size</a><span>, in § 2</span>
   <li><a href="#evaluate-script">evaluate script</a><span>, in § 4</span>
   <li><a href="#interest-group-execution-mode">execution mode</a><span>, in § 7.1</span>
   <li><a href="#dom-auctionadinterestgroup-executionmode">executionMode</a><span>, in § 2</span>
   <li><a href="#interest-group-expiry">expiry</a><span>, in § 7.1</span>
   <li><a href="#fetch-resource">fetch resource</a><span>, in § 4</span>
   <li><a href="#evaluate-script-functionname">functionName</a><span>, in § 4</span>
   <li><a href="#generate-and-score-bids">generate and score bids</a><span>, in § 4</span>
   <li><a href="#generated-bid">Generated bid</a><span>, in § 7.5</span>
   <li><a href="#generate-reporting-urls">generate reporting URLs</a><span>, in § 4</span>
   <li><a href="#interest-group">Interest group</a><span>, in § 7</span>
   <li><a href="#interest-group-ad">Interest group ad</a><span>, in § 7.1</span>
   <li><a href="#auction-config-interest-group-buyers">interest group buyers</a><span>, in § 7.3</span>
   <li><a href="#dom-auctionadconfig-interestgroupbuyers">interestGroupBuyers</a><span>, in § 4</span>
   <li><a href="#interest-group-set">interest group set</a><span>, in § 2</span>
   <li><a href="#validate-and-convert-auction-ad-config-istoplevel">isTopLevel</a><span>, in § 4</span>
   <li><a href="#join-ad-interest-group">join-ad-interest-group</a><span>, in § 6</span>
   <li><a href="#dom-navigator-joinadinterestgroup">joinAdInterestGroup(group, durationSeconds)</a><span>, in § 2</span>
   <li><a href="#interest-group-joining-origin">joining origin</a><span>, in § 7.1</span>
   <li><a href="#leading-bid-info-leading-bid">leading bid</a><span>, in § 7.8</span>
   <li><a href="#leading-bid-info">Leading bid info</a><span>, in § 7.7</span>
   <li>
    metadata
    <ul>
     <li><a href="#interest-group-ad-metadata">dfn for interest group ad</a><span>, in § 7.2</span>
     <li><a href="#dom-auctionad-metadata">dict-member for AuctionAd</a><span>, in § 2</span>
    </ul>
   <li>
    name
    <ul>
     <li><a href="#interest-group-name">dfn for interest group</a><span>, in § 7.1</span>
     <li><a href="#dom-auctionadinterestgroup-name">dict-member for AuctionAdInterestGroup</a><span>, in § 2</span>
    </ul>
   <li>
    owner
    <ul>
     <li><a href="#interest-group-owner">dfn for interest group</a><span>, in § 7.1</span>
     <li><a href="#dom-auctionadinterestgroup-owner">dict-member for AuctionAdInterestGroup</a><span>, in § 2</span>
    </ul>
   <li><a href="#parse-an-origin">parse an origin</a><span>, in § 4</span>
   <li><a href="#per-buyer-bid-generator">Per buyer bid generator</a><span>, in § 7.3</span>
   <li><a href="#auction-config-per-buyer-experiment-group-ids">per buyer experiment group ids</a><span>, in § 7.3</span>
   <li><a href="#dom-auctionadconfig-perbuyerexperimentgroupids">perBuyerExperimentGroupIds</a><span>, in § 4</span>
   <li><a href="#auction-config-per-buyer-group-limits">per buyer group limits</a><span>, in § 7.3</span>
   <li><a href="#dom-auctionadconfig-perbuyergrouplimits">perBuyerGroupLimits</a><span>, in § 4</span>
   <li><a href="#auction-config-per-buyer-priority-signals">per buyer priority signals</a><span>, in § 7.3</span>
   <li><a href="#dom-auctionadconfig-perbuyerprioritysignals">perBuyerPrioritySignals</a><span>, in § 4</span>
   <li><a href="#auction-config-per-buyer-signals">per buyer signals</a><span>, in § 7.3</span>
   <li><a href="#dom-auctionadconfig-perbuyersignals">perBuyerSignals</a><span>, in § 4</span>
   <li><a href="#auction-config-per-buyer-timeouts">per buyer timeouts</a><span>, in § 7.3</span>
   <li><a href="#dom-auctionadconfig-perbuyertimeouts">perBuyerTimeouts</a><span>, in § 4</span>
   <li><a href="#per-signals-url-bid-generator">Per signals url bid generator</a><span>, in § 7.4</span>
   <li>
    priority
    <ul>
     <li><a href="#interest-group-priority">dfn for interest group</a><span>, in § 7.1</span>
     <li><a href="#dom-auctionadinterestgroup-priority">dict-member for AuctionAdInterestGroup</a><span>, in § 2</span>
    </ul>
   <li><a href="#interest-group-priority-signals-overrides">priority signals overrides</a><span>, in § 7.1</span>
   <li><a href="#dom-auctionadinterestgroup-prioritysignalsoverrides">prioritySignalsOverrides</a><span>, in § 2</span>
   <li><a href="#interest-group-priority-vector">priority vector</a><span>, in § 7.1</span>
   <li><a href="#dom-auctionadinterestgroup-priorityvector">priorityVector</a><span>, in § 2</span>
   <li><a href="#generated-bid-render">render</a><span>, in § 7.6</span>
   <li><a href="#interest-group-ad-render-url">render url</a><span>, in § 7.2</span>
   <li><a href="#dom-auctionad-renderurl">renderUrl</a><span>, in § 2</span>
   <li><a href="#run-ad-auction">run-ad-auction</a><span>, in § 6</span>
   <li><a href="#dom-navigator-runadauction">runAdAuction(config)</a><span>, in § 4</span>
   <li><a href="#score-ad-output">Score ad output</a><span>, in § 7.6</span>
   <li><a href="#score-and-rank-a-bid">score and rank a bid</a><span>, in § 4</span>
   <li><a href="#evaluate-script-script">script</a><span>, in § 4</span>
   <li>
    seller
    <ul>
     <li><a href="#auction-config-seller">dfn for auction config</a><span>, in § 7.3</span>
     <li><a href="#dom-auctionadconfig-seller">dict-member for AuctionAdConfig</a><span>, in § 4</span>
    </ul>
   <li><a href="#auction-config-seller-experiment-group-id">seller experiment group id</a><span>, in § 7.3</span>
   <li><a href="#dom-auctionadconfig-sellerexperimentgroupid">sellerExperimentGroupId</a><span>, in § 4</span>
   <li><a href="#auction-config-seller-signals">seller signals</a><span>, in § 7.3</span>
   <li><a href="#dom-auctionadconfig-sellersignals">sellerSignals</a><span>, in § 4</span>
   <li><a href="#auction-config-seller-timeout">seller timeout</a><span>, in § 7.3</span>
   <li><a href="#dom-auctionadconfig-sellertimeout">sellerTimeout</a><span>, in § 4</span>
   <li><a href="#serialize-an-integer">serialize an integer</a><span>, in § 4</span>
   <li><a href="#dom-auctionadconfig-signal">signal</a><span>, in § 4</span>
   <li><a href="#leading-bid-info-top-bids-count">top bids count</a><span>, in § 7.8</span>
   <li><a href="#leading-bid-info-top-score">top score</a><span>, in § 7.8</span>
   <li><a href="#interest-group-trusted-bidding-signals-keys">trusted bidding signals keys</a><span>, in § 7.1</span>
   <li><a href="#dom-auctionadinterestgroup-trustedbiddingsignalskeys">trustedBiddingSignalsKeys</a><span>, in § 2</span>
   <li><a href="#interest-group-trusted-bidding-signals-url">trusted bidding signals url</a><span>, in § 7.1</span>
   <li><a href="#dom-auctionadinterestgroup-trustedbiddingsignalsurl">trustedBiddingSignalsUrl</a><span>, in § 2</span>
   <li><a href="#auction-config-trusted-scoring-signals-url">trusted scoring signals url</a><span>, in § 7.3</span>
   <li><a href="#dom-auctionadconfig-trustedscoringsignalsurl">trustedScoringSignalsUrl</a><span>, in § 4</span>
   <li><a href="#interest-group-user-bidding-signals">user bidding signals</a><span>, in § 7.1</span>
   <li><a href="#dom-auctionadinterestgroup-userbiddingsignals">userBiddingSignals</a><span>, in § 2</span>
   <li><a href="#validate-and-convert-auction-ad-config">validate and convert auction ad config</a><span>, in § 4</span>
  </ul>
  <aside aria-labelledby="infopaneltitle-for-0cadfc0f183a5a4a73af55604ddb1ed1" class="dfn-panel" data-for="0cadfc0f183a5a4a73af55604ddb1ed1" id="infopanel-for-0cadfc0f183a5a4a73af55604ddb1ed1">
   <span id="infopaneltitle-for-0cadfc0f183a5a4a73af55604ddb1ed1" style="display:none">Info about the 'AbortSignal' external reference.</span><a href="https://dom.spec.whatwg.org/#abortsignal">https://dom.spec.whatwg.org/#abortsignal</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-abortsignal">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-246d6e5a0d07d2d1f595e370c0ed121e" class="dfn-panel" data-for="246d6e5a0d07d2d1f595e370c0ed121e" id="infopanel-for-246d6e5a0d07d2d1f595e370c0ed121e">
   <span id="infopaneltitle-for-246d6e5a0d07d2d1f595e370c0ed121e" style="display:none">Info about the 'abort reason' external reference.</span><a href="https://dom.spec.whatwg.org/#abortsignal-abort-reason">https://dom.spec.whatwg.org/#abortsignal-abort-reason</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-abortsignal-abort-reason">4. Running Ad Auctions</a> <a href="#ref-for-abortsignal-abort-reason①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-a41e1b0215a841ee3eece2fcae96e01a" class="dfn-panel" data-for="a41e1b0215a841ee3eece2fcae96e01a" id="infopanel-for-a41e1b0215a841ee3eece2fcae96e01a">
   <span id="infopaneltitle-for-a41e1b0215a841ee3eece2fcae96e01a" style="display:none">Info about the 'aborted' external reference.</span><a href="https://dom.spec.whatwg.org/#abortsignal-aborted">https://dom.spec.whatwg.org/#abortsignal-aborted</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-abortsignal-aborted">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-ea86cd4a0dc314bc1093a2d0542c4364" class="dfn-panel" data-for="ea86cd4a0dc314bc1093a2d0542c4364" id="infopanel-for-ea86cd4a0dc314bc1093a2d0542c4364">
   <span id="infopaneltitle-for-ea86cd4a0dc314bc1093a2d0542c4364" style="display:none">Info about the 'add' external reference.</span><a href="https://dom.spec.whatwg.org/#abortsignal-add">https://dom.spec.whatwg.org/#abortsignal-add</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-abortsignal-add">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-8297ed8dbe5ddc8d52a433d25b082796" class="dfn-panel" data-for="8297ed8dbe5ddc8d52a433d25b082796" id="infopanel-for-8297ed8dbe5ddc8d52a433d25b082796">
   <span id="infopaneltitle-for-8297ed8dbe5ddc8d52a433d25b082796" style="display:none">Info about the 'utf-8' external reference.</span><a href="https://encoding.spec.whatwg.org/#utf-8">https://encoding.spec.whatwg.org/#utf-8</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-utf-8">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-b0566d6d660c85a1c0a11fe593f9993d" class="dfn-panel" data-for="b0566d6d660c85a1c0a11fe593f9993d" id="infopanel-for-b0566d6d660c85a1c0a11fe593f9993d">
   <span id="infopaneltitle-for-b0566d6d660c85a1c0a11fe593f9993d" style="display:none">Info about the 'cache mode' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-cache-mode">https://fetch.spec.whatwg.org/#concept-request-cache-mode</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-cache-mode">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-136f2700e84634abd2f3d42487ba7f41" class="dfn-panel" data-for="136f2700e84634abd2f3d42487ba7f41" id="infopanel-for-136f2700e84634abd2f3d42487ba7f41">
   <span id="infopaneltitle-for-136f2700e84634abd2f3d42487ba7f41" style="display:none">Info about the 'client' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-client">https://fetch.spec.whatwg.org/#concept-request-client</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-client">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-28b697a3fde8f7519842ff0d1ae51f77" class="dfn-panel" data-for="28b697a3fde8f7519842ff0d1ae51f77" id="infopanel-for-28b697a3fde8f7519842ff0d1ae51f77">
   <span id="infopaneltitle-for-28b697a3fde8f7519842ff0d1ae51f77" style="display:none">Info about the 'credentials mode' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-credentials-mode">https://fetch.spec.whatwg.org/#concept-request-credentials-mode</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-credentials-mode">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-3444257488f4a193b6f0c4af59b28292" class="dfn-panel" data-for="3444257488f4a193b6f0c4af59b28292" id="infopanel-for-3444257488f4a193b6f0c4af59b28292">
   <span id="infopaneltitle-for-3444257488f4a193b6f0c4af59b28292" style="display:none">Info about the 'extracting a mime type' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-header-extract-mime-type">https://fetch.spec.whatwg.org/#concept-header-extract-mime-type</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-header-extract-mime-type">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-0bae0f8d0fc019614ef3bb69c15d5311" class="dfn-panel" data-for="0bae0f8d0fc019614ef3bb69c15d5311" id="infopanel-for-0bae0f8d0fc019614ef3bb69c15d5311">
   <span id="infopaneltitle-for-0bae0f8d0fc019614ef3bb69c15d5311" style="display:none">Info about the 'fetch' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-fetch">https://fetch.spec.whatwg.org/#concept-fetch</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-fetch">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-7d20d86aab82c14f214b792b61bc7cb8" class="dfn-panel" data-for="7d20d86aab82c14f214b792b61bc7cb8" id="infopanel-for-7d20d86aab82c14f214b792b61bc7cb8">
   <span id="infopaneltitle-for-7d20d86aab82c14f214b792b61bc7cb8" style="display:none">Info about the 'get a structured field value' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-header-list-get-structured-header">https://fetch.spec.whatwg.org/#concept-header-list-get-structured-header</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-header-list-get-structured-header">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-ee7584061c2f45d6a827359cc7178423" class="dfn-panel" data-for="ee7584061c2f45d6a827359cc7178423" id="infopanel-for-ee7584061c2f45d6a827359cc7178423">
   <span id="infopaneltitle-for-ee7584061c2f45d6a827359cc7178423" style="display:none">Info about the 'header' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-header">https://fetch.spec.whatwg.org/#concept-header</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-header">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-5171067c910207c96b5420a19bae87a3" class="dfn-panel" data-for="5171067c910207c96b5420a19bae87a3" id="infopanel-for-5171067c910207c96b5420a19bae87a3">
   <span id="infopaneltitle-for-5171067c910207c96b5420a19bae87a3" style="display:none">Info about the 'header list' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-header-list">https://fetch.spec.whatwg.org/#concept-header-list</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-header-list">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-4fd8d1762cd9c874700296c854598fda" class="dfn-panel" data-for="4fd8d1762cd9c874700296c854598fda" id="infopanel-for-4fd8d1762cd9c874700296c854598fda">
   <span id="infopaneltitle-for-4fd8d1762cd9c874700296c854598fda" style="display:none">Info about the 'header list (for request)' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-header-list">https://fetch.spec.whatwg.org/#concept-request-header-list</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-header-list">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-d94cb5e6252c9158478ebbe8a624e99c" class="dfn-panel" data-for="d94cb5e6252c9158478ebbe8a624e99c" id="infopanel-for-d94cb5e6252c9158478ebbe8a624e99c">
   <span id="infopaneltitle-for-d94cb5e6252c9158478ebbe8a624e99c" style="display:none">Info about the 'header list (for response)' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-response-header-list">https://fetch.spec.whatwg.org/#concept-response-header-list</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-response-header-list">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-ac749183eb78d9110066fea84c5417ad" class="dfn-panel" data-for="ac749183eb78d9110066fea84c5417ad" id="infopanel-for-ac749183eb78d9110066fea84c5417ad">
   <span id="infopaneltitle-for-ac749183eb78d9110066fea84c5417ad" style="display:none">Info about the 'origin' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-origin">https://fetch.spec.whatwg.org/#concept-request-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-origin">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-c5e700d07aef54b7ee1acac43643b591" class="dfn-panel" data-for="c5e700d07aef54b7ee1acac43643b591" id="infopanel-for-c5e700d07aef54b7ee1acac43643b591">
   <span id="infopaneltitle-for-c5e700d07aef54b7ee1acac43643b591" style="display:none">Info about the 'processresponseconsumebody' external reference.</span><a href="https://fetch.spec.whatwg.org/#process-response-end-of-body">https://fetch.spec.whatwg.org/#process-response-end-of-body</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-process-response-end-of-body">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-58f356f0304930913f67ab881e9ca886" class="dfn-panel" data-for="58f356f0304930913f67ab881e9ca886" id="infopanel-for-58f356f0304930913f67ab881e9ca886">
   <span id="infopaneltitle-for-58f356f0304930913f67ab881e9ca886" style="display:none">Info about the 'redirect mode' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-redirect-mode">https://fetch.spec.whatwg.org/#concept-request-redirect-mode</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-redirect-mode">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-4f358b1fbdaf345d2691f5744de6612b" class="dfn-panel" data-for="4f358b1fbdaf345d2691f5744de6612b" id="infopanel-for-4f358b1fbdaf345d2691f5744de6612b">
   <span id="infopaneltitle-for-4f358b1fbdaf345d2691f5744de6612b" style="display:none">Info about the 'referrer' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-referrer">https://fetch.spec.whatwg.org/#concept-request-referrer</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-referrer">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-491791562dd138987138e7051a96c07c" class="dfn-panel" data-for="491791562dd138987138e7051a96c07c" id="infopanel-for-491791562dd138987138e7051a96c07c">
   <span id="infopaneltitle-for-491791562dd138987138e7051a96c07c" style="display:none">Info about the 'request' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request">https://fetch.spec.whatwg.org/#concept-request</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-d203414c2b48c23fddab90ef753bb7cf" class="dfn-panel" data-for="d203414c2b48c23fddab90ef753bb7cf" id="infopanel-for-d203414c2b48c23fddab90ef753bb7cf">
   <span id="infopaneltitle-for-d203414c2b48c23fddab90ef753bb7cf" style="display:none">Info about the 'response' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-response">https://fetch.spec.whatwg.org/#concept-response</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-response">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-53448884e088e162bab57824ad9a7165" class="dfn-panel" data-for="53448884e088e162bab57824ad9a7165" id="infopanel-for-53448884e088e162bab57824ad9a7165">
   <span id="infopaneltitle-for-53448884e088e162bab57824ad9a7165" style="display:none">Info about the 'service-workers mode' external reference.</span><a href="https://fetch.spec.whatwg.org/#request-service-workers-mode">https://fetch.spec.whatwg.org/#request-service-workers-mode</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-request-service-workers-mode">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-6f4775873c70787775f9c70f0f110709" class="dfn-panel" data-for="6f4775873c70787775f9c70f0f110709" id="infopanel-for-6f4775873c70787775f9c70f0f110709">
   <span id="infopaneltitle-for-6f4775873c70787775f9c70f0f110709" style="display:none">Info about the 'url' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-url">https://fetch.spec.whatwg.org/#concept-request-url</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-url">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-d72233a2731c7f5b88c9c3da9700b26a" class="dfn-panel" data-for="d72233a2731c7f5b88c9c3da9700b26a" id="infopanel-for-d72233a2731c7f5b88c9c3da9700b26a">
   <span id="infopaneltitle-for-d72233a2731c7f5b88c9c3da9700b26a" style="display:none">Info about the 'window' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-window">https://fetch.spec.whatwg.org/#concept-request-window</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-window">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-9213a3aff5ff1021ab4c2d780aa70cee" class="dfn-panel" data-for="9213a3aff5ff1021ab4c2d780aa70cee" id="infopanel-for-9213a3aff5ff1021ab4c2d780aa70cee">
   <span id="infopaneltitle-for-9213a3aff5ff1021ab4c2d780aa70cee" style="display:none">Info about the 'duration' external reference.</span><a href="https://w3c.github.io/hr-time/#dfn-duration">https://w3c.github.io/hr-time/#dfn-duration</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-duration">7.3. Auction config</a> <a href="#ref-for-dfn-duration①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-3c82b19be23a00eb4bb6896ec20cd7aa" class="dfn-panel" data-for="3c82b19be23a00eb4bb6896ec20cd7aa" id="infopanel-for-3c82b19be23a00eb4bb6896ec20cd7aa">
   <span id="infopaneltitle-for-3c82b19be23a00eb4bb6896ec20cd7aa" style="display:none">Info about the 'Navigator' external reference.</span><a href="https://html.spec.whatwg.org/multipage/system-state.html#navigator">https://html.spec.whatwg.org/multipage/system-state.html#navigator</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigator">2. Joining Interest Groups</a>
    <li><a href="#ref-for-navigator①">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-3dc9eee4a6a1d169f561b6d87bd08573" class="dfn-panel" data-for="3dc9eee4a6a1d169f561b6d87bd08573" id="infopanel-for-3dc9eee4a6a1d169f561b6d87bd08573">
   <span id="infopaneltitle-for-3dc9eee4a6a1d169f561b6d87bd08573" style="display:none">Info about the 'allowed to use' external reference.</span><a href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-allowed-to-use">2. Joining Interest Groups</a>
    <li><a href="#ref-for-allowed-to-use①">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-04e6c32034490f45e4757ead7871de18" class="dfn-panel" data-for="04e6c32034490f45e4757ead7871de18" id="infopanel-for-04e6c32034490f45e4757ead7871de18">
   <span id="infopaneltitle-for-04e6c32034490f45e4757ead7871de18" style="display:none">Info about the 'associated document' external reference.</span><a href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-document-window">2. Joining Interest Groups</a>
    <li><a href="#ref-for-concept-document-window①">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-819da64c021c76d5b5101cd2634d02f7" class="dfn-panel" data-for="819da64c021c76d5b5101cd2634d02f7" id="infopanel-for-819da64c021c76d5b5101cd2634d02f7">
   <span id="infopaneltitle-for-819da64c021c76d5b5101cd2634d02f7" style="display:none">Info about the 'dom manipulation task source' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source">https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-manipulation-task-source">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-45195a15648533962d6056ddb7495628" class="dfn-panel" data-for="45195a15648533962d6056ddb7495628" id="infopanel-for-45195a15648533962d6056ddb7495628">
   <span id="infopaneltitle-for-45195a15648533962d6056ddb7495628" style="display:none">Info about the 'enqueue steps' external reference.</span><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps">https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enqueue-the-following-steps">2. Joining Interest Groups</a>
    <li><a href="#ref-for-enqueue-the-following-steps①">4. Running Ad Auctions</a> <a href="#ref-for-enqueue-the-following-steps②">(2)</a> <a href="#ref-for-enqueue-the-following-steps③">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dfd386d6786e19e14e8be334215a486e" class="dfn-panel" data-for="dfd386d6786e19e14e8be334215a486e" id="infopanel-for-dfd386d6786e19e14e8be334215a486e">
   <span id="infopaneltitle-for-dfd386d6786e19e14e8be334215a486e" style="display:none">Info about the 'global object' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#global-object">https://html.spec.whatwg.org/multipage/webappapis.html#global-object</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-global-object">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-3a2763fcaa6bc82693554cf36780c0dd" class="dfn-panel" data-for="3a2763fcaa6bc82693554cf36780c0dd" id="infopanel-for-3a2763fcaa6bc82693554cf36780c0dd">
   <span id="infopaneltitle-for-3a2763fcaa6bc82693554cf36780c0dd" style="display:none">Info about the 'in parallel' external reference.</span><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-in-parallel">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-e817c0877b8b0aa9a44aab98d651d5de" class="dfn-panel" data-for="e817c0877b8b0aa9a44aab98d651d5de" id="infopanel-for-e817c0877b8b0aa9a44aab98d651d5de">
   <span id="infopaneltitle-for-e817c0877b8b0aa9a44aab98d651d5de" style="display:none">Info about the 'navigator' external reference.</span><a href="https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator">https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigator">1. Introduction</a> <a href="#ref-for-dom-navigator①">(2)</a>
    <li><a href="#ref-for-dom-navigator②">2. Joining Interest Groups</a>
    <li><a href="#ref-for-dom-navigator③">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-23307d34220e7159f8e5d8c231db141f" class="dfn-panel" data-for="23307d34220e7159f8e5d8c231db141f" id="infopanel-for-23307d34220e7159f8e5d8c231db141f">
   <span id="infopaneltitle-for-23307d34220e7159f8e5d8c231db141f" style="display:none">Info about the 'opaque origin' external reference.</span><a href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque">https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-origin-opaque">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-a8756513b792b8f203588906035a13bb" class="dfn-panel" data-for="a8756513b792b8f203588906035a13bb" id="infopanel-for-a8756513b792b8f203588906035a13bb">
   <span id="infopaneltitle-for-a8756513b792b8f203588906035a13bb" style="display:none">Info about the 'queue a global task' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-queue-a-global-task">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-da7ed5f190c4eedd375552d6f7876301" class="dfn-panel" data-for="da7ed5f190c4eedd375552d6f7876301" id="infopanel-for-da7ed5f190c4eedd375552d6f7876301">
   <span id="infopaneltitle-for-da7ed5f190c4eedd375552d6f7876301" style="display:none">Info about the 'queue a task' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-queue-a-task">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-2233058c8f0998915af8393ee2abbc1d" class="dfn-panel" data-for="2233058c8f0998915af8393ee2abbc1d" id="infopanel-for-2233058c8f0998915af8393ee2abbc1d">
   <span id="infopaneltitle-for-2233058c8f0998915af8393ee2abbc1d" style="display:none">Info about the 'relevant global object' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-relevant-global">2. Joining Interest Groups</a>
    <li><a href="#ref-for-concept-relevant-global①">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-bfb9cb6617f81a424ab20212af73bae3" class="dfn-panel" data-for="bfb9cb6617f81a424ab20212af73bae3" id="infopanel-for-bfb9cb6617f81a424ab20212af73bae3">
   <span id="infopaneltitle-for-bfb9cb6617f81a424ab20212af73bae3" style="display:none">Info about the 'relevant settings object' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object">https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-relevant-settings-object">2. Joining Interest Groups</a>
    <li><a href="#ref-for-relevant-settings-object①">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-3bd07dd1ec2f367091cfd0df47c118a5" class="dfn-panel" data-for="3bd07dd1ec2f367091cfd0df47c118a5" id="infopanel-for-3bd07dd1ec2f367091cfd0df47c118a5">
   <span id="infopaneltitle-for-3bd07dd1ec2f367091cfd0df47c118a5" style="display:none">Info about the 'same origin' external reference.</span><a href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin">https://html.spec.whatwg.org/multipage/browsers.html#same-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-same-origin">2. Joining Interest Groups</a>
    <li><a href="#ref-for-same-origin①">4. Running Ad Auctions</a> <a href="#ref-for-same-origin②">(2)</a> <a href="#ref-for-same-origin③">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-2aeb953708ac6466a37697c533cf366f" class="dfn-panel" data-for="2aeb953708ac6466a37697c533cf366f" id="infopanel-for-2aeb953708ac6466a37697c533cf366f">
   <span id="infopaneltitle-for-2aeb953708ac6466a37697c533cf366f" style="display:none">Info about the 'serialization of an origin' external reference.</span><a href="https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin">https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ascii-serialisation-of-an-origin">2. Joining Interest Groups</a>
    <li><a href="#ref-for-ascii-serialisation-of-an-origin①">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-3fb76ef5543342a528980b7992fbd75c" class="dfn-panel" data-for="3fb76ef5543342a528980b7992fbd75c" id="infopanel-for-3fb76ef5543342a528980b7992fbd75c">
   <span id="infopaneltitle-for-3fb76ef5543342a528980b7992fbd75c" style="display:none">Info about the 'starting a new parallel queue' external reference.</span><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue">https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-starting-a-new-parallel-queue">2. Joining Interest Groups</a>
    <li><a href="#ref-for-starting-a-new-parallel-queue①">4. Running Ad Auctions</a> <a href="#ref-for-starting-a-new-parallel-queue②">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-fad46e4a016cd6e3ca0c81a3c004e4c3" class="dfn-panel" data-for="fad46e4a016cd6e3ca0c81a3c004e4c3" id="infopanel-for-fad46e4a016cd6e3ca0c81a3c004e4c3">
   <span id="infopaneltitle-for-fad46e4a016cd6e3ca0c81a3c004e4c3" style="display:none">Info about the 'top-level origin' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin">https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-environment-top-level-origin">2. Joining Interest Groups</a>
    <li><a href="#ref-for-concept-environment-top-level-origin①">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-fcfc8b0ed220faa237969aed00e2586d" class="dfn-panel" data-for="fcfc8b0ed220faa237969aed00e2586d" id="infopanel-for-fcfc8b0ed220faa237969aed00e2586d">
   <span id="infopaneltitle-for-fcfc8b0ed220faa237969aed00e2586d" style="display:none">Info about the 'append (for list)' external reference.</span><a href="https://infra.spec.whatwg.org/#list-append">https://infra.spec.whatwg.org/#list-append</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-append">2. Joining Interest Groups</a>
    <li><a href="#ref-for-list-append①">4. Running Ad Auctions</a> <a href="#ref-for-list-append②">(2)</a> <a href="#ref-for-list-append③">(3)</a> <a href="#ref-for-list-append④">(4)</a> <a href="#ref-for-list-append⑤">(5)</a> <a href="#ref-for-list-append⑥">(6)</a> <a href="#ref-for-list-append⑦">(7)</a> <a href="#ref-for-list-append⑧">(8)</a> <a href="#ref-for-list-append⑨">(9)</a> <a href="#ref-for-list-append①⓪">(10)</a> <a href="#ref-for-list-append①①">(11)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-53c2c70bc752d6cf2a1f7deddc029549" class="dfn-panel" data-for="53c2c70bc752d6cf2a1f7deddc029549" id="infopanel-for-53c2c70bc752d6cf2a1f7deddc029549">
   <span id="infopaneltitle-for-53c2c70bc752d6cf2a1f7deddc029549" style="display:none">Info about the 'append (for set)' external reference.</span><a href="https://infra.spec.whatwg.org/#set-append">https://infra.spec.whatwg.org/#set-append</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-set-append">4. Running Ad Auctions</a> <a href="#ref-for-set-append①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-61c7c9c76ff1cedf412e7a18bbe24e2c" class="dfn-panel" data-for="61c7c9c76ff1cedf412e7a18bbe24e2c" id="infopanel-for-61c7c9c76ff1cedf412e7a18bbe24e2c">
   <span id="infopaneltitle-for-61c7c9c76ff1cedf412e7a18bbe24e2c" style="display:none">Info about the 'ascii string' external reference.</span><a href="https://infra.spec.whatwg.org/#ascii-string">https://infra.spec.whatwg.org/#ascii-string</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ascii-string">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-7618b9a6d44febb7e784c8f39faac140" class="dfn-panel" data-for="7618b9a6d44febb7e784c8f39faac140" id="infopanel-for-7618b9a6d44febb7e784c8f39faac140">
   <span id="infopaneltitle-for-7618b9a6d44febb7e784c8f39faac140" style="display:none">Info about the 'assert' external reference.</span><a href="https://infra.spec.whatwg.org/#assert">https://infra.spec.whatwg.org/#assert</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-assert">4. Running Ad Auctions</a> <a href="#ref-for-assert①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-0d4cc8e47c65b15b2be5e5e730a09d3c" class="dfn-panel" data-for="0d4cc8e47c65b15b2be5e5e730a09d3c" id="infopanel-for-0d4cc8e47c65b15b2be5e5e730a09d3c">
   <span id="infopaneltitle-for-0d4cc8e47c65b15b2be5e5e730a09d3c" style="display:none">Info about the 'boolean' external reference.</span><a href="https://infra.spec.whatwg.org/#boolean">https://infra.spec.whatwg.org/#boolean</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-boolean">4. Running Ad Auctions</a> <a href="#ref-for-boolean①">(2)</a>
    <li><a href="#ref-for-boolean②">7.1. Interest group</a>
    <li><a href="#ref-for-boolean③">7.7. Score ad output</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-7605aa4703a0a6921736ddd5321cfc07" class="dfn-panel" data-for="7605aa4703a0a6921736ddd5321cfc07" id="infopanel-for-7605aa4703a0a6921736ddd5321cfc07">
   <span id="infopaneltitle-for-7605aa4703a0a6921736ddd5321cfc07" style="display:none">Info about the 'concatenate' external reference.</span><a href="https://infra.spec.whatwg.org/#string-concatenate">https://infra.spec.whatwg.org/#string-concatenate</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-string-concatenate">4. Running Ad Auctions</a> <a href="#ref-for-string-concatenate①">(2)</a> <a href="#ref-for-string-concatenate②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-7aa70202d36f53e6295b249241561d26" class="dfn-panel" data-for="7aa70202d36f53e6295b249241561d26" id="infopanel-for-7aa70202d36f53e6295b249241561d26">
   <span id="infopaneltitle-for-7aa70202d36f53e6295b249241561d26" style="display:none">Info about the 'contain' external reference.</span><a href="https://infra.spec.whatwg.org/#map-exists">https://infra.spec.whatwg.org/#map-exists</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-map-exists">2. Joining Interest Groups</a> <a href="#ref-for-map-exists①">(2)</a> <a href="#ref-for-map-exists②">(3)</a> <a href="#ref-for-map-exists③">(4)</a> <a href="#ref-for-map-exists④">(5)</a> <a href="#ref-for-map-exists⑤">(6)</a>
    <li><a href="#ref-for-map-exists⑥">4. Running Ad Auctions</a> <a href="#ref-for-map-exists⑦">(2)</a> <a href="#ref-for-map-exists⑧">(3)</a> <a href="#ref-for-map-exists⑨">(4)</a> <a href="#ref-for-map-exists①⓪">(5)</a> <a href="#ref-for-map-exists①①">(6)</a> <a href="#ref-for-map-exists①②">(7)</a> <a href="#ref-for-map-exists①③">(8)</a> <a href="#ref-for-map-exists①④">(9)</a> <a href="#ref-for-map-exists①⑤">(10)</a> <a href="#ref-for-map-exists①⑥">(11)</a> <a href="#ref-for-map-exists①⑦">(12)</a> <a href="#ref-for-map-exists①⑧">(13)</a> <a href="#ref-for-map-exists①⑨">(14)</a> <a href="#ref-for-map-exists②⓪">(15)</a> <a href="#ref-for-map-exists②①">(16)</a> <a href="#ref-for-map-exists②②">(17)</a> <a href="#ref-for-map-exists②③">(18)</a> <a href="#ref-for-map-exists②④">(19)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-ce9efec0e74a2cbfe986593eb861ade6" class="dfn-panel" data-for="ce9efec0e74a2cbfe986593eb861ade6" id="infopanel-for-ce9efec0e74a2cbfe986593eb861ade6">
   <span id="infopaneltitle-for-ce9efec0e74a2cbfe986593eb861ade6" style="display:none">Info about the 'continue' external reference.</span><a href="https://infra.spec.whatwg.org/#iteration-continue">https://infra.spec.whatwg.org/#iteration-continue</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-iteration-continue">4. Running Ad Auctions</a> <a href="#ref-for-iteration-continue①">(2)</a> <a href="#ref-for-iteration-continue②">(3)</a> <a href="#ref-for-iteration-continue③">(4)</a> <a href="#ref-for-iteration-continue④">(5)</a> <a href="#ref-for-iteration-continue⑤">(6)</a> <a href="#ref-for-iteration-continue⑥">(7)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-0d3ee326a162c16997e7bb20e8b7133c" class="dfn-panel" data-for="0d3ee326a162c16997e7bb20e8b7133c" id="infopanel-for-0d3ee326a162c16997e7bb20e8b7133c">
   <span id="infopaneltitle-for-0d3ee326a162c16997e7bb20e8b7133c" style="display:none">Info about the 'exist' external reference.</span><a href="https://infra.spec.whatwg.org/#map-exists">https://infra.spec.whatwg.org/#map-exists</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-map-exists">2. Joining Interest Groups</a> <a href="#ref-for-map-exists①">(2)</a> <a href="#ref-for-map-exists②">(3)</a> <a href="#ref-for-map-exists③">(4)</a> <a href="#ref-for-map-exists④">(5)</a> <a href="#ref-for-map-exists⑤">(6)</a>
    <li><a href="#ref-for-map-exists⑥">4. Running Ad Auctions</a> <a href="#ref-for-map-exists⑦">(2)</a> <a href="#ref-for-map-exists⑧">(3)</a> <a href="#ref-for-map-exists⑨">(4)</a> <a href="#ref-for-map-exists①⓪">(5)</a> <a href="#ref-for-map-exists①①">(6)</a> <a href="#ref-for-map-exists①②">(7)</a> <a href="#ref-for-map-exists①③">(8)</a> <a href="#ref-for-map-exists①④">(9)</a> <a href="#ref-for-map-exists①⑤">(10)</a> <a href="#ref-for-map-exists①⑥">(11)</a> <a href="#ref-for-map-exists①⑦">(12)</a> <a href="#ref-for-map-exists①⑧">(13)</a> <a href="#ref-for-map-exists①⑨">(14)</a> <a href="#ref-for-map-exists②⓪">(15)</a> <a href="#ref-for-map-exists②①">(16)</a> <a href="#ref-for-map-exists②②">(17)</a> <a href="#ref-for-map-exists②③">(18)</a> <a href="#ref-for-map-exists②④">(19)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-8b9e78ceedde26e69095bd6f6cce47bf" class="dfn-panel" data-for="8b9e78ceedde26e69095bd6f6cce47bf" id="infopanel-for-8b9e78ceedde26e69095bd6f6cce47bf">
   <span id="infopaneltitle-for-8b9e78ceedde26e69095bd6f6cce47bf" style="display:none">Info about the 'for each (for list)' external reference.</span><a href="https://infra.spec.whatwg.org/#list-iterate">https://infra.spec.whatwg.org/#list-iterate</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-iterate">2. Joining Interest Groups</a> <a href="#ref-for-list-iterate①">(2)</a> <a href="#ref-for-list-iterate②">(3)</a> <a href="#ref-for-list-iterate③">(4)</a>
    <li><a href="#ref-for-list-iterate④">4. Running Ad Auctions</a> <a href="#ref-for-list-iterate⑤">(2)</a> <a href="#ref-for-list-iterate⑥">(3)</a> <a href="#ref-for-list-iterate⑦">(4)</a> <a href="#ref-for-list-iterate⑧">(5)</a> <a href="#ref-for-list-iterate⑨">(6)</a> <a href="#ref-for-list-iterate①⓪">(7)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-fa396dfe2ff99ebb3815418bc73c40fb" class="dfn-panel" data-for="fa396dfe2ff99ebb3815418bc73c40fb" id="infopanel-for-fa396dfe2ff99ebb3815418bc73c40fb">
   <span id="infopaneltitle-for-fa396dfe2ff99ebb3815418bc73c40fb" style="display:none">Info about the 'for each (for map)' external reference.</span><a href="https://infra.spec.whatwg.org/#map-iterate">https://infra.spec.whatwg.org/#map-iterate</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-map-iterate">2. Joining Interest Groups</a> <a href="#ref-for-map-iterate①">(2)</a>
    <li><a href="#ref-for-map-iterate②">4. Running Ad Auctions</a> <a href="#ref-for-map-iterate③">(2)</a> <a href="#ref-for-map-iterate④">(3)</a> <a href="#ref-for-map-iterate⑤">(4)</a> <a href="#ref-for-map-iterate⑥">(5)</a> <a href="#ref-for-map-iterate⑦">(6)</a> <a href="#ref-for-map-iterate⑧">(7)</a> <a href="#ref-for-map-iterate⑨">(8)</a> <a href="#ref-for-map-iterate①⓪">(9)</a> <a href="#ref-for-map-iterate①①">(10)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-774d035c53e63931c91186473c19a838" class="dfn-panel" data-for="774d035c53e63931c91186473c19a838" id="infopanel-for-774d035c53e63931c91186473c19a838">
   <span id="infopaneltitle-for-774d035c53e63931c91186473c19a838" style="display:none">Info about the 'is empty' external reference.</span><a href="https://infra.spec.whatwg.org/#list-is-empty">https://infra.spec.whatwg.org/#list-is-empty</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-is-empty">4. Running Ad Auctions</a> <a href="#ref-for-list-is-empty①">(2)</a> <a href="#ref-for-list-is-empty②">(3)</a> <a href="#ref-for-list-is-empty③">(4)</a> <a href="#ref-for-list-is-empty④">(5)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-d970c9402d2ebe6e16b496ab9414f037" class="dfn-panel" data-for="d970c9402d2ebe6e16b496ab9414f037" id="infopanel-for-d970c9402d2ebe6e16b496ab9414f037">
   <span id="infopaneltitle-for-d970c9402d2ebe6e16b496ab9414f037" style="display:none">Info about the 'keys' external reference.</span><a href="https://infra.spec.whatwg.org/#map-getting-the-keys">https://infra.spec.whatwg.org/#map-getting-the-keys</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-map-getting-the-keys">4. Running Ad Auctions</a> <a href="#ref-for-map-getting-the-keys①">(2)</a> <a href="#ref-for-map-getting-the-keys②">(3)</a> <a href="#ref-for-map-getting-the-keys③">(4)</a>
    <li><a href="#ref-for-map-getting-the-keys④">7.1. Interest group</a> <a href="#ref-for-map-getting-the-keys⑤">(2)</a>
    <li><a href="#ref-for-map-getting-the-keys⑥">7.3. Auction config</a> <a href="#ref-for-map-getting-the-keys⑦">(2)</a> <a href="#ref-for-map-getting-the-keys⑧">(3)</a> <a href="#ref-for-map-getting-the-keys⑨">(4)</a> <a href="#ref-for-map-getting-the-keys①⓪">(5)</a> <a href="#ref-for-map-getting-the-keys①①">(6)</a> <a href="#ref-for-map-getting-the-keys①②">(7)</a> <a href="#ref-for-map-getting-the-keys①③">(8)</a> <a href="#ref-for-map-getting-the-keys①④">(9)</a> <a href="#ref-for-map-getting-the-keys①⑤">(10)</a> <a href="#ref-for-map-getting-the-keys①⑥">(11)</a>
    <li><a href="#ref-for-map-getting-the-keys①⑦">7.4. Per buyer bid generator</a>
    <li><a href="#ref-for-map-getting-the-keys①⑧">7.5. Per signals url bid generator</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-81b03c84949641fc3081227509aab38f" class="dfn-panel" data-for="81b03c84949641fc3081227509aab38f" id="infopanel-for-81b03c84949641fc3081227509aab38f">
   <span id="infopaneltitle-for-81b03c84949641fc3081227509aab38f" style="display:none">Info about the 'length' external reference.</span><a href="https://infra.spec.whatwg.org/#string-length">https://infra.spec.whatwg.org/#string-length</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-string-length">2. Joining Interest Groups</a> <a href="#ref-for-string-length①">(2)</a> <a href="#ref-for-string-length②">(3)</a> <a href="#ref-for-string-length③">(4)</a> <a href="#ref-for-string-length④">(5)</a> <a href="#ref-for-string-length⑤">(6)</a> <a href="#ref-for-string-length⑥">(7)</a> <a href="#ref-for-string-length⑦">(8)</a> <a href="#ref-for-string-length⑧">(9)</a> <a href="#ref-for-string-length⑨">(10)</a> <a href="#ref-for-string-length①⓪">(11)</a> <a href="#ref-for-string-length①①">(12)</a> <a href="#ref-for-string-length①②">(13)</a> <a href="#ref-for-string-length①③">(14)</a> <a href="#ref-for-string-length①④">(15)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-fafd38d2108e357bcc9a6fd7f3cd04a7" class="dfn-panel" data-for="fafd38d2108e357bcc9a6fd7f3cd04a7" id="infopanel-for-fafd38d2108e357bcc9a6fd7f3cd04a7">
   <span id="infopaneltitle-for-fafd38d2108e357bcc9a6fd7f3cd04a7" style="display:none">Info about the 'list' external reference.</span><a href="https://infra.spec.whatwg.org/#list">https://infra.spec.whatwg.org/#list</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list">2. Joining Interest Groups</a>
    <li><a href="#ref-for-list①">4. Running Ad Auctions</a> <a href="#ref-for-list②">(2)</a> <a href="#ref-for-list③">(3)</a>
    <li><a href="#ref-for-list④">7.1. Interest group</a> <a href="#ref-for-list⑤">(2)</a> <a href="#ref-for-list⑥">(3)</a>
    <li><a href="#ref-for-list⑦">7.3. Auction config</a> <a href="#ref-for-list⑧">(2)</a>
    <li><a href="#ref-for-list⑨">7.5. Per signals url bid generator</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-6f2e2caca6e93162e900d159efe5b573" class="dfn-panel" data-for="6f2e2caca6e93162e900d159efe5b573" id="infopanel-for-6f2e2caca6e93162e900d159efe5b573">
   <span id="infopaneltitle-for-6f2e2caca6e93162e900d159efe5b573" style="display:none">Info about the 'ordered map' external reference.</span><a href="https://infra.spec.whatwg.org/#ordered-map">https://infra.spec.whatwg.org/#ordered-map</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ordered-map">4. Running Ad Auctions</a> <a href="#ref-for-ordered-map①">(2)</a> <a href="#ref-for-ordered-map②">(3)</a> <a href="#ref-for-ordered-map③">(4)</a>
    <li><a href="#ref-for-ordered-map④">7.1. Interest group</a> <a href="#ref-for-ordered-map⑤">(2)</a>
    <li><a href="#ref-for-ordered-map⑥">7.3. Auction config</a> <a href="#ref-for-ordered-map⑦">(2)</a> <a href="#ref-for-ordered-map⑧">(3)</a> <a href="#ref-for-ordered-map⑨">(4)</a> <a href="#ref-for-ordered-map①⓪">(5)</a> <a href="#ref-for-ordered-map①①">(6)</a> <a href="#ref-for-ordered-map①②">(7)</a>
    <li><a href="#ref-for-ordered-map①③">7.4. Per buyer bid generator</a>
    <li><a href="#ref-for-ordered-map①④">7.5. Per signals url bid generator</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-80524ea4c0063fe3cf0b6c49a40e31bf" class="dfn-panel" data-for="80524ea4c0063fe3cf0b6c49a40e31bf" id="infopanel-for-80524ea4c0063fe3cf0b6c49a40e31bf">
   <span id="infopaneltitle-for-80524ea4c0063fe3cf0b6c49a40e31bf" style="display:none">Info about the 'ordered set' external reference.</span><a href="https://infra.spec.whatwg.org/#ordered-set">https://infra.spec.whatwg.org/#ordered-set</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ordered-set">4. Running Ad Auctions</a> <a href="#ref-for-ordered-set①">(2)</a> <a href="#ref-for-ordered-set②">(3)</a> <a href="#ref-for-ordered-set③">(4)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-c186cdbfe7e0e7f10f543af94aebdac4" class="dfn-panel" data-for="c186cdbfe7e0e7f10f543af94aebdac4" id="infopanel-for-c186cdbfe7e0e7f10f543af94aebdac4">
   <span id="infopaneltitle-for-c186cdbfe7e0e7f10f543af94aebdac4" style="display:none">Info about the 'serializing a javascript value to a json string' external reference.</span><a href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string">https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-serialize-a-javascript-value-to-a-json-string">2. Joining Interest Groups</a> <a href="#ref-for-serialize-a-javascript-value-to-a-json-string①">(2)</a>
    <li><a href="#ref-for-serialize-a-javascript-value-to-a-json-string②">4. Running Ad Auctions</a> <a href="#ref-for-serialize-a-javascript-value-to-a-json-string③">(2)</a> <a href="#ref-for-serialize-a-javascript-value-to-a-json-string④">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-5c3d3462610d78bc92b91000cc511bc4" class="dfn-panel" data-for="5c3d3462610d78bc92b91000cc511bc4" id="infopanel-for-5c3d3462610d78bc92b91000cc511bc4">
   <span id="infopaneltitle-for-5c3d3462610d78bc92b91000cc511bc4" style="display:none">Info about the 'set' external reference.</span><a href="https://infra.spec.whatwg.org/#map-set">https://infra.spec.whatwg.org/#map-set</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-map-set">4. Running Ad Auctions</a> <a href="#ref-for-map-set①">(2)</a> <a href="#ref-for-map-set②">(3)</a> <a href="#ref-for-map-set③">(4)</a> <a href="#ref-for-map-set④">(5)</a> <a href="#ref-for-map-set⑤">(6)</a> <a href="#ref-for-map-set⑥">(7)</a> <a href="#ref-for-map-set⑦">(8)</a> <a href="#ref-for-map-set⑧">(9)</a> <a href="#ref-for-map-set⑨">(10)</a> <a href="#ref-for-map-set①⓪">(11)</a> <a href="#ref-for-map-set①①">(12)</a> <a href="#ref-for-map-set①②">(13)</a> <a href="#ref-for-map-set①③">(14)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-bed8381510f5967f5d37a33de776e857" class="dfn-panel" data-for="bed8381510f5967f5d37a33de776e857" id="infopanel-for-bed8381510f5967f5d37a33de776e857">
   <span id="infopaneltitle-for-bed8381510f5967f5d37a33de776e857" style="display:none">Info about the 'size (for list)' external reference.</span><a href="https://infra.spec.whatwg.org/#list-size">https://infra.spec.whatwg.org/#list-size</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-size">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-cb6090a4148c3b79aef250d4d6625e39" class="dfn-panel" data-for="cb6090a4148c3b79aef250d4d6625e39" id="infopanel-for-cb6090a4148c3b79aef250d4d6625e39">
   <span id="infopaneltitle-for-cb6090a4148c3b79aef250d4d6625e39" style="display:none">Info about the 'size (for map)' external reference.</span><a href="https://infra.spec.whatwg.org/#map-size">https://infra.spec.whatwg.org/#map-size</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-map-size">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-2d700262fcde3097fbf89ef2496f1f0d" class="dfn-panel" data-for="2d700262fcde3097fbf89ef2496f1f0d" id="infopanel-for-2d700262fcde3097fbf89ef2496f1f0d">
   <span id="infopaneltitle-for-2d700262fcde3097fbf89ef2496f1f0d" style="display:none">Info about the 'starts with' external reference.</span><a href="https://infra.spec.whatwg.org/#string-starts-with">https://infra.spec.whatwg.org/#string-starts-with</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-string-starts-with">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-40b59bc325bd4d66701dfd8b7f1847c0" class="dfn-panel" data-for="40b59bc325bd4d66701dfd8b7f1847c0" id="infopanel-for-40b59bc325bd4d66701dfd8b7f1847c0">
   <span id="infopaneltitle-for-40b59bc325bd4d66701dfd8b7f1847c0" style="display:none">Info about the 'string' external reference.</span><a href="https://infra.spec.whatwg.org/#string">https://infra.spec.whatwg.org/#string</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-string">4. Running Ad Auctions</a> <a href="#ref-for-string①">(2)</a> <a href="#ref-for-string②">(3)</a> <a href="#ref-for-string③">(4)</a> <a href="#ref-for-string④">(5)</a> <a href="#ref-for-string⑤">(6)</a> <a href="#ref-for-string⑥">(7)</a> <a href="#ref-for-string⑦">(8)</a> <a href="#ref-for-string⑧">(9)</a> <a href="#ref-for-string⑨">(10)</a> <a href="#ref-for-string①⓪">(11)</a>
    <li><a href="#ref-for-string①①">7.1. Interest group</a> <a href="#ref-for-string①②">(2)</a> <a href="#ref-for-string①③">(3)</a> <a href="#ref-for-string①④">(4)</a> <a href="#ref-for-string①⑤">(5)</a> <a href="#ref-for-string①⑥">(6)</a>
    <li><a href="#ref-for-string①⑦">7.2. Interest group ad</a>
    <li><a href="#ref-for-string①⑧">7.3. Auction config</a> <a href="#ref-for-string①⑨">(2)</a> <a href="#ref-for-string②⓪">(3)</a> <a href="#ref-for-string②①">(4)</a> <a href="#ref-for-string②②">(5)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-3ee316b93eb2dbe81d01a666cce50f9b" class="dfn-panel" data-for="3ee316b93eb2dbe81d01a666cce50f9b" id="infopanel-for-3ee316b93eb2dbe81d01a666cce50f9b">
   <span id="infopaneltitle-for-3ee316b93eb2dbe81d01a666cce50f9b" style="display:none">Info about the 'struct' external reference.</span><a href="https://infra.spec.whatwg.org/#struct">https://infra.spec.whatwg.org/#struct</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-struct">7.1. Interest group</a>
    <li><a href="#ref-for-struct①">7.2. Interest group ad</a>
    <li><a href="#ref-for-struct②">7.3. Auction config</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-f3303f924992de4a9bec051b5191187a" class="dfn-panel" data-for="f3303f924992de4a9bec051b5191187a" id="infopanel-for-f3303f924992de4a9bec051b5191187a">
   <span id="infopaneltitle-for-f3303f924992de4a9bec051b5191187a" style="display:none">Info about the 'values' external reference.</span><a href="https://infra.spec.whatwg.org/#map-getting-the-values">https://infra.spec.whatwg.org/#map-getting-the-values</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-map-getting-the-values">4. Running Ad Auctions</a> <a href="#ref-for-map-getting-the-values①">(2)</a> <a href="#ref-for-map-getting-the-values②">(3)</a> <a href="#ref-for-map-getting-the-values③">(4)</a>
    <li><a href="#ref-for-map-getting-the-values④">7.1. Interest group</a> <a href="#ref-for-map-getting-the-values⑤">(2)</a>
    <li><a href="#ref-for-map-getting-the-values⑥">7.3. Auction config</a> <a href="#ref-for-map-getting-the-values⑦">(2)</a> <a href="#ref-for-map-getting-the-values⑧">(3)</a> <a href="#ref-for-map-getting-the-values⑨">(4)</a> <a href="#ref-for-map-getting-the-values①⓪">(5)</a> <a href="#ref-for-map-getting-the-values①①">(6)</a> <a href="#ref-for-map-getting-the-values①②">(7)</a> <a href="#ref-for-map-getting-the-values①③">(8)</a> <a href="#ref-for-map-getting-the-values①④">(9)</a> <a href="#ref-for-map-getting-the-values①⑤">(10)</a> <a href="#ref-for-map-getting-the-values①⑥">(11)</a>
    <li><a href="#ref-for-map-getting-the-values①⑦">7.4. Per buyer bid generator</a>
    <li><a href="#ref-for-map-getting-the-values①⑧">7.5. Per signals url bid generator</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-5f9330a8f7c5b66d2adf3d3370ae74c1" class="dfn-panel" data-for="5f9330a8f7c5b66d2adf3d3370ae74c1" id="infopanel-for-5f9330a8f7c5b66d2adf3d3370ae74c1">
   <span id="infopaneltitle-for-5f9330a8f7c5b66d2adf3d3370ae74c1" style="display:none">Info about the 'javascript mime type' external reference.</span><a href="https://mimesniff.spec.whatwg.org/#javascript-mime-type">https://mimesniff.spec.whatwg.org/#javascript-mime-type</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-javascript-mime-type">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-ecd77f8d0b60bd81f3277adf5fb2d3f3" class="dfn-panel" data-for="ecd77f8d0b60bd81f3277adf5fb2d3f3" id="infopanel-for-ecd77f8d0b60bd81f3277adf5fb2d3f3">
   <span id="infopaneltitle-for-ecd77f8d0b60bd81f3277adf5fb2d3f3" style="display:none">Info about the 'json mime type' external reference.</span><a href="https://mimesniff.spec.whatwg.org/#json-mime-type">https://mimesniff.spec.whatwg.org/#json-mime-type</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-json-mime-type">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-6999afece714837dd460347910a5a28d" class="dfn-panel" data-for="6999afece714837dd460347910a5a28d" id="infopanel-for-6999afece714837dd460347910a5a28d">
   <span id="infopaneltitle-for-6999afece714837dd460347910a5a28d" style="display:none">Info about the 'parameters' external reference.</span><a href="https://mimesniff.spec.whatwg.org/#parameters">https://mimesniff.spec.whatwg.org/#parameters</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-parameters">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-597f16a11d2e9b68ceae30c52291ae72" class="dfn-panel" data-for="597f16a11d2e9b68ceae30c52291ae72" id="infopanel-for-597f16a11d2e9b68ceae30c52291ae72">
   <span id="infopaneltitle-for-597f16a11d2e9b68ceae30c52291ae72" style="display:none">Info about the 'default allowlists' external reference.</span><a href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist">https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-policy-controlled-feature-default-allowlist">6. Permissions Policy integration</a> <a href="#ref-for-policy-controlled-feature-default-allowlist①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-cbc4165961071efad91900c4c7b2fe8b" class="dfn-panel" data-for="cbc4165961071efad91900c4c7b2fe8b" id="infopanel-for-cbc4165961071efad91900c4c7b2fe8b">
   <span id="infopaneltitle-for-cbc4165961071efad91900c4c7b2fe8b" style="display:none">Info about the 'policy-controlled feature' external reference.</span><a href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature">https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-policy-controlled-feature">2. Joining Interest Groups</a>
    <li><a href="#ref-for-policy-controlled-feature①">4. Running Ad Auctions</a>
    <li><a href="#ref-for-policy-controlled-feature②">6. Permissions Policy integration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-2050d5e7ce0fb9db5cc184a49b67d60f" class="dfn-panel" data-for="2050d5e7ce0fb9db5cc184a49b67d60f" id="infopanel-for-2050d5e7ce0fb9db5cc184a49b67d60f">
   <span id="infopaneltitle-for-2050d5e7ce0fb9db5cc184a49b67d60f" style="display:none">Info about the 'component percent-encode set' external reference.</span><a href="https://url.spec.whatwg.org/#component-percent-encode-set">https://url.spec.whatwg.org/#component-percent-encode-set</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-component-percent-encode-set">4. Running Ad Auctions</a> <a href="#ref-for-component-percent-encode-set①">(2)</a> <a href="#ref-for-component-percent-encode-set②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-60cc34e102fbb39581626f2f37e3179a" class="dfn-panel" data-for="60cc34e102fbb39581626f2f37e3179a" id="infopanel-for-60cc34e102fbb39581626f2f37e3179a">
   <span id="infopaneltitle-for-60cc34e102fbb39581626f2f37e3179a" style="display:none">Info about the 'fragment' external reference.</span><a href="https://url.spec.whatwg.org/#concept-url-fragment">https://url.spec.whatwg.org/#concept-url-fragment</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-url-fragment">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-7162945c2118778c48f40774f8d7344b" class="dfn-panel" data-for="7162945c2118778c48f40774f8d7344b" id="infopanel-for-7162945c2118778c48f40774f8d7344b">
   <span id="infopaneltitle-for-7162945c2118778c48f40774f8d7344b" style="display:none">Info about the 'includes credentials' external reference.</span><a href="https://url.spec.whatwg.org/#include-credentials">https://url.spec.whatwg.org/#include-credentials</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-include-credentials">2. Joining Interest Groups</a> <a href="#ref-for-include-credentials①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-eb0e1698348a5ae30cd3aa882b6dff01" class="dfn-panel" data-for="eb0e1698348a5ae30cd3aa882b6dff01" id="infopanel-for-eb0e1698348a5ae30cd3aa882b6dff01">
   <span id="infopaneltitle-for-eb0e1698348a5ae30cd3aa882b6dff01" style="display:none">Info about the 'origin' external reference.</span><a href="https://url.spec.whatwg.org/#concept-url-origin">https://url.spec.whatwg.org/#concept-url-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-url-origin">2. Joining Interest Groups</a>
    <li><a href="#ref-for-concept-url-origin①">4. Running Ad Auctions</a> <a href="#ref-for-concept-url-origin②">(2)</a>
    <li><a href="#ref-for-concept-url-origin③">7.1. Interest group</a> <a href="#ref-for-concept-url-origin④">(2)</a>
    <li><a href="#ref-for-concept-url-origin⑤">7.3. Auction config</a> <a href="#ref-for-concept-url-origin⑥">(2)</a> <a href="#ref-for-concept-url-origin⑦">(3)</a> <a href="#ref-for-concept-url-origin⑧">(4)</a> <a href="#ref-for-concept-url-origin⑨">(5)</a> <a href="#ref-for-concept-url-origin①⓪">(6)</a> <a href="#ref-for-concept-url-origin①①">(7)</a>
    <li><a href="#ref-for-concept-url-origin①②">7.5. Per signals url bid generator</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-d4903414a495f752f42338823a0b455e" class="dfn-panel" data-for="d4903414a495f752f42338823a0b455e" id="infopanel-for-d4903414a495f752f42338823a0b455e">
   <span id="infopaneltitle-for-d4903414a495f752f42338823a0b455e" style="display:none">Info about the 'query' external reference.</span><a href="https://url.spec.whatwg.org/#concept-url-query">https://url.spec.whatwg.org/#concept-url-query</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-url-query">2. Joining Interest Groups</a>
    <li><a href="#ref-for-concept-url-query①">4. Running Ad Auctions</a> <a href="#ref-for-concept-url-query②">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-67f83ca6d3c695660bfc2f054f534ffb" class="dfn-panel" data-for="67f83ca6d3c695660bfc2f054f534ffb" id="infopanel-for-67f83ca6d3c695660bfc2f054f534ffb">
   <span id="infopaneltitle-for-67f83ca6d3c695660bfc2f054f534ffb" style="display:none">Info about the 'scheme' external reference.</span><a href="https://url.spec.whatwg.org/#concept-url-scheme">https://url.spec.whatwg.org/#concept-url-scheme</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-url-scheme">2. Joining Interest Groups</a> <a href="#ref-for-concept-url-scheme①">(2)</a>
    <li><a href="#ref-for-concept-url-scheme②">4. Running Ad Auctions</a> <a href="#ref-for-concept-url-scheme③">(2)</a> <a href="#ref-for-concept-url-scheme④">(3)</a> <a href="#ref-for-concept-url-scheme⑤">(4)</a> <a href="#ref-for-concept-url-scheme⑥">(5)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-fc05c76e016d3aec6a25a91c066500c8" class="dfn-panel" data-for="fc05c76e016d3aec6a25a91c066500c8" id="infopanel-for-fc05c76e016d3aec6a25a91c066500c8">
   <span id="infopaneltitle-for-fc05c76e016d3aec6a25a91c066500c8" style="display:none">Info about the 'url' external reference.</span><a href="https://url.spec.whatwg.org/#concept-url">https://url.spec.whatwg.org/#concept-url</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-url">4. Running Ad Auctions</a> <a href="#ref-for-concept-url①">(2)</a> <a href="#ref-for-concept-url②">(3)</a> <a href="#ref-for-concept-url③">(4)</a>
    <li><a href="#ref-for-concept-url④">7.1. Interest group</a> <a href="#ref-for-concept-url⑤">(2)</a> <a href="#ref-for-concept-url⑥">(3)</a> <a href="#ref-for-concept-url⑦">(4)</a>
    <li><a href="#ref-for-concept-url⑧">7.2. Interest group ad</a>
    <li><a href="#ref-for-concept-url⑨">7.3. Auction config</a> <a href="#ref-for-concept-url①⓪">(2)</a>
    <li><a href="#ref-for-concept-url①①">7.4. Per buyer bid generator</a>
    <li><a href="#ref-for-concept-url①②">7.6. Generated bid</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-07df417653faafb38ece7480f2c15a3e" class="dfn-panel" data-for="07df417653faafb38ece7480f2c15a3e" id="infopanel-for-07df417653faafb38ece7480f2c15a3e">
   <span id="infopaneltitle-for-07df417653faafb38ece7480f2c15a3e" style="display:none">Info about the 'url parser' external reference.</span><a href="https://url.spec.whatwg.org/#concept-url-parser">https://url.spec.whatwg.org/#concept-url-parser</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-url-parser">2. Joining Interest Groups</a> <a href="#ref-for-concept-url-parser①">(2)</a> <a href="#ref-for-concept-url-parser②">(3)</a>
    <li><a href="#ref-for-concept-url-parser③">4. Running Ad Auctions</a> <a href="#ref-for-concept-url-parser④">(2)</a> <a href="#ref-for-concept-url-parser⑤">(3)</a> <a href="#ref-for-concept-url-parser⑥">(4)</a> <a href="#ref-for-concept-url-parser⑦">(5)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-4cd5cba6c3b356beb9ed1d910eaf8ee9" class="dfn-panel" data-for="4cd5cba6c3b356beb9ed1d910eaf8ee9" id="infopanel-for-4cd5cba6c3b356beb9ed1d910eaf8ee9">
   <span id="infopaneltitle-for-4cd5cba6c3b356beb9ed1d910eaf8ee9" style="display:none">Info about the 'url serializer' external reference.</span><a href="https://url.spec.whatwg.org/#concept-url-serializer">https://url.spec.whatwg.org/#concept-url-serializer</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-url-serializer">2. Joining Interest Groups</a> <a href="#ref-for-concept-url-serializer①">(2)</a> <a href="#ref-for-concept-url-serializer②">(3)</a> <a href="#ref-for-concept-url-serializer③">(4)</a> <a href="#ref-for-concept-url-serializer④">(5)</a> <a href="#ref-for-concept-url-serializer⑤">(6)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-89c942a6be0752175bb866d54a9b3ec0" class="dfn-panel" data-for="89c942a6be0752175bb866d54a9b3ec0" id="infopanel-for-89c942a6be0752175bb866d54a9b3ec0">
   <span id="infopaneltitle-for-89c942a6be0752175bb866d54a9b3ec0" style="display:none">Info about the 'utf-8 percent-encode' external reference.</span><a href="https://url.spec.whatwg.org/#string-utf-8-percent-encode">https://url.spec.whatwg.org/#string-utf-8-percent-encode</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-string-utf-8-percent-encode">4. Running Ad Auctions</a> <a href="#ref-for-string-utf-8-percent-encode①">(2)</a> <a href="#ref-for-string-utf-8-percent-encode②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-0ab204fb9cc9a746edaff83c0db0740a" class="dfn-panel" data-for="0ab204fb9cc9a746edaff83c0db0740a" id="infopanel-for-0ab204fb9cc9a746edaff83c0db0740a">
   <span id="infopaneltitle-for-0ab204fb9cc9a746edaff83c0db0740a" style="display:none">Info about the 'DOMException' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-DOMException">https://webidl.spec.whatwg.org/#idl-DOMException</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-DOMException">2. Joining Interest Groups</a>
    <li><a href="#ref-for-idl-DOMException①">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-d0f238a61de9310f1738a214749fab18" class="dfn-panel" data-for="d0f238a61de9310f1738a214749fab18" id="infopanel-for-d0f238a61de9310f1738a214749fab18">
   <span id="infopaneltitle-for-d0f238a61de9310f1738a214749fab18" style="display:none">Info about the 'DOMString' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-DOMString">https://webidl.spec.whatwg.org/#idl-DOMString</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-DOMString">2. Joining Interest Groups</a> <a href="#ref-for-idl-DOMString①">(2)</a> <a href="#ref-for-idl-DOMString②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-aa43258e2b51dc6ebe6268a36e6fd733" class="dfn-panel" data-for="aa43258e2b51dc6ebe6268a36e6fd733" id="infopanel-for-aa43258e2b51dc6ebe6268a36e6fd733">
   <span id="infopaneltitle-for-aa43258e2b51dc6ebe6268a36e6fd733" style="display:none">Info about the 'NotAllowedError' external reference.</span><a href="https://webidl.spec.whatwg.org/#notallowederror">https://webidl.spec.whatwg.org/#notallowederror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-notallowederror">2. Joining Interest Groups</a>
    <li><a href="#ref-for-notallowederror①">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-93669c631ec1ef8e696b4c083bdbe12c" class="dfn-panel" data-for="93669c631ec1ef8e696b4c083bdbe12c" id="infopanel-for-93669c631ec1ef8e696b4c083bdbe12c">
   <span id="infopaneltitle-for-93669c631ec1ef8e696b4c083bdbe12c" style="display:none">Info about the 'Promise' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-promise">https://webidl.spec.whatwg.org/#idl-promise</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-promise">2. Joining Interest Groups</a>
    <li><a href="#ref-for-idl-promise①">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-cdf224ec60dc3b08449a2fbdf3a90406" class="dfn-panel" data-for="cdf224ec60dc3b08449a2fbdf3a90406" id="infopanel-for-cdf224ec60dc3b08449a2fbdf3a90406">
   <span id="infopaneltitle-for-cdf224ec60dc3b08449a2fbdf3a90406" style="display:none">Info about the 'SecureContext' external reference.</span><a href="https://webidl.spec.whatwg.org/#SecureContext">https://webidl.spec.whatwg.org/#SecureContext</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-SecureContext">2. Joining Interest Groups</a>
    <li><a href="#ref-for-SecureContext①">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-3f9c3eac015894a734faa8068fd8c2a1" class="dfn-panel" data-for="3f9c3eac015894a734faa8068fd8c2a1" id="infopanel-for-3f9c3eac015894a734faa8068fd8c2a1">
   <span id="infopaneltitle-for-3f9c3eac015894a734faa8068fd8c2a1" style="display:none">Info about the 'TypeError' external reference.</span><a href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror">https://webidl.spec.whatwg.org/#exceptiondef-typeerror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-exceptiondef-typeerror">2. Joining Interest Groups</a> <a href="#ref-for-exceptiondef-typeerror①">(2)</a> <a href="#ref-for-exceptiondef-typeerror②">(3)</a> <a href="#ref-for-exceptiondef-typeerror③">(4)</a> <a href="#ref-for-exceptiondef-typeerror④">(5)</a> <a href="#ref-for-exceptiondef-typeerror⑤">(6)</a> <a href="#ref-for-exceptiondef-typeerror⑥">(7)</a>
    <li><a href="#ref-for-exceptiondef-typeerror⑦">4. Running Ad Auctions</a> <a href="#ref-for-exceptiondef-typeerror⑧">(2)</a> <a href="#ref-for-exceptiondef-typeerror⑨">(3)</a> <a href="#ref-for-exceptiondef-typeerror①⓪">(4)</a> <a href="#ref-for-exceptiondef-typeerror①①">(5)</a> <a href="#ref-for-exceptiondef-typeerror①②">(6)</a> <a href="#ref-for-exceptiondef-typeerror①③">(7)</a> <a href="#ref-for-exceptiondef-typeerror①④">(8)</a> <a href="#ref-for-exceptiondef-typeerror①⑤">(9)</a> <a href="#ref-for-exceptiondef-typeerror①⑥">(10)</a> <a href="#ref-for-exceptiondef-typeerror①⑦">(11)</a> <a href="#ref-for-exceptiondef-typeerror①⑧">(12)</a> <a href="#ref-for-exceptiondef-typeerror①⑨">(13)</a> <a href="#ref-for-exceptiondef-typeerror②⓪">(14)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-e270bcd7cdb4abe27bc3bb16a1975937" class="dfn-panel" data-for="e270bcd7cdb4abe27bc3bb16a1975937" id="infopanel-for-e270bcd7cdb4abe27bc3bb16a1975937">
   <span id="infopaneltitle-for-e270bcd7cdb4abe27bc3bb16a1975937" style="display:none">Info about the 'USVString' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-USVString">https://webidl.spec.whatwg.org/#idl-USVString</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-USVString">2. Joining Interest Groups</a> <a href="#ref-for-idl-USVString①">(2)</a> <a href="#ref-for-idl-USVString②">(3)</a> <a href="#ref-for-idl-USVString③">(4)</a> <a href="#ref-for-idl-USVString④">(5)</a> <a href="#ref-for-idl-USVString⑤">(6)</a> <a href="#ref-for-idl-USVString⑥">(7)</a> <a href="#ref-for-idl-USVString⑦">(8)</a>
    <li><a href="#ref-for-idl-USVString⑧">4. Running Ad Auctions</a> <a href="#ref-for-idl-USVString⑨">(2)</a> <a href="#ref-for-idl-USVString①⓪">(3)</a> <a href="#ref-for-idl-USVString①①">(4)</a> <a href="#ref-for-idl-USVString①②">(5)</a> <a href="#ref-for-idl-USVString①③">(6)</a> <a href="#ref-for-idl-USVString①④">(7)</a> <a href="#ref-for-idl-USVString①⑤">(8)</a> <a href="#ref-for-idl-USVString①⑥">(9)</a> <a href="#ref-for-idl-USVString①⑦">(10)</a> <a href="#ref-for-idl-USVString①⑧">(11)</a> <a href="#ref-for-idl-USVString①⑨">(12)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-bbe33fc7ac016834e4aaddbfd1b084a1" class="dfn-panel" data-for="bbe33fc7ac016834e4aaddbfd1b084a1" id="infopanel-for-bbe33fc7ac016834e4aaddbfd1b084a1">
   <span id="infopaneltitle-for-bbe33fc7ac016834e4aaddbfd1b084a1" style="display:none">Info about the 'a new promise' external reference.</span><a href="https://webidl.spec.whatwg.org/#a-new-promise">https://webidl.spec.whatwg.org/#a-new-promise</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-a-new-promise">2. Joining Interest Groups</a>
    <li><a href="#ref-for-a-new-promise①">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-cf8339c4a39778ea039900ab8a77d2fe" class="dfn-panel" data-for="cf8339c4a39778ea039900ab8a77d2fe" id="infopanel-for-cf8339c4a39778ea039900ab8a77d2fe">
   <span id="infopaneltitle-for-cf8339c4a39778ea039900ab8a77d2fe" style="display:none">Info about the 'a promise rejected with' external reference.</span><a href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">https://webidl.spec.whatwg.org/#a-promise-rejected-with</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-a-promise-rejected-with">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-8eec6bb7878bb17dddbbb727b8d77c28" class="dfn-panel" data-for="8eec6bb7878bb17dddbbb727b8d77c28" id="infopanel-for-8eec6bb7878bb17dddbbb727b8d77c28">
   <span id="infopaneltitle-for-8eec6bb7878bb17dddbbb727b8d77c28" style="display:none">Info about the 'any' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-any">https://webidl.spec.whatwg.org/#idl-any</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-any">2. Joining Interest Groups</a> <a href="#ref-for-idl-any①">(2)</a>
    <li><a href="#ref-for-idl-any②">4. Running Ad Auctions</a> <a href="#ref-for-idl-any③">(2)</a> <a href="#ref-for-idl-any④">(3)</a> <a href="#ref-for-idl-any⑤">(4)</a> <a href="#ref-for-idl-any⑥">(5)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-f8062b07e25ed0281f5cbfb9a54070b4" class="dfn-panel" data-for="f8062b07e25ed0281f5cbfb9a54070b4" id="infopanel-for-f8062b07e25ed0281f5cbfb9a54070b4">
   <span id="infopaneltitle-for-f8062b07e25ed0281f5cbfb9a54070b4" style="display:none">Info about the 'boolean' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-boolean">https://webidl.spec.whatwg.org/#idl-boolean</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-boolean">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-d3fd0dc5b12c87e613395fec1824ac77" class="dfn-panel" data-for="d3fd0dc5b12c87e613395fec1824ac77" id="infopanel-for-d3fd0dc5b12c87e613395fec1824ac77">
   <span id="infopaneltitle-for-d3fd0dc5b12c87e613395fec1824ac77" style="display:none">Info about the 'double' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-double">https://webidl.spec.whatwg.org/#idl-double</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-double">2. Joining Interest Groups</a> <a href="#ref-for-idl-double①">(2)</a> <a href="#ref-for-idl-double②">(3)</a> <a href="#ref-for-idl-double③">(4)</a>
    <li><a href="#ref-for-idl-double④">4. Running Ad Auctions</a> <a href="#ref-for-idl-double⑤">(2)</a>
    <li><a href="#ref-for-idl-double⑥">7.1. Interest group</a> <a href="#ref-for-idl-double⑦">(2)</a> <a href="#ref-for-idl-double⑧">(3)</a>
    <li><a href="#ref-for-idl-double⑨">7.3. Auction config</a> <a href="#ref-for-idl-double①⓪">(2)</a>
    <li><a href="#ref-for-idl-double①①">7.6. Generated bid</a>
    <li><a href="#ref-for-idl-double①②">7.7. Score ad output</a> <a href="#ref-for-idl-double①③">(2)</a>
    <li><a href="#ref-for-idl-double①④">7.8. Leading bid info</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-98c84278a4f9d1aa9fa4e4dd12bb7fb2" class="dfn-panel" data-for="98c84278a4f9d1aa9fa4e4dd12bb7fb2" id="infopanel-for-98c84278a4f9d1aa9fa4e4dd12bb7fb2">
   <span id="infopaneltitle-for-98c84278a4f9d1aa9fa4e4dd12bb7fb2" style="display:none">Info about the 'record' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-record">https://webidl.spec.whatwg.org/#idl-record</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-record">2. Joining Interest Groups</a> <a href="#ref-for-idl-record①">(2)</a>
    <li><a href="#ref-for-idl-record②">4. Running Ad Auctions</a> <a href="#ref-for-idl-record③">(2)</a> <a href="#ref-for-idl-record④">(3)</a> <a href="#ref-for-idl-record⑤">(4)</a> <a href="#ref-for-idl-record⑥">(5)</a> <a href="#ref-for-idl-record⑦">(6)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-f7204c0306e7ffcb24c31adf6e629e1d" class="dfn-panel" data-for="f7204c0306e7ffcb24c31adf6e629e1d" id="infopanel-for-f7204c0306e7ffcb24c31adf6e629e1d">
   <span id="infopaneltitle-for-f7204c0306e7ffcb24c31adf6e629e1d" style="display:none">Info about the 'reject' external reference.</span><a href="https://webidl.spec.whatwg.org/#reject">https://webidl.spec.whatwg.org/#reject</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-reject">4. Running Ad Auctions</a> <a href="#ref-for-reject①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-f4f973f92274819781816b033aea1f11" class="dfn-panel" data-for="f4f973f92274819781816b033aea1f11" id="infopanel-for-f4f973f92274819781816b033aea1f11">
   <span id="infopaneltitle-for-f4f973f92274819781816b033aea1f11" style="display:none">Info about the 'resolve' external reference.</span><a href="https://webidl.spec.whatwg.org/#resolve">https://webidl.spec.whatwg.org/#resolve</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-resolve">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-38ab7db52e46bed36993204c29f67202" class="dfn-panel" data-for="38ab7db52e46bed36993204c29f67202" id="infopanel-for-38ab7db52e46bed36993204c29f67202">
   <span id="infopaneltitle-for-38ab7db52e46bed36993204c29f67202" style="display:none">Info about the 'sequence' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-sequence">https://webidl.spec.whatwg.org/#idl-sequence</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-sequence">2. Joining Interest Groups</a> <a href="#ref-for-idl-sequence①">(2)</a> <a href="#ref-for-idl-sequence②">(3)</a>
    <li><a href="#ref-for-idl-sequence③">4. Running Ad Auctions</a> <a href="#ref-for-idl-sequence④">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-be0933df03cd63338f98de217c4158c7" class="dfn-panel" data-for="be0933df03cd63338f98de217c4158c7" id="infopanel-for-be0933df03cd63338f98de217c4158c7">
   <span id="infopaneltitle-for-be0933df03cd63338f98de217c4158c7" style="display:none">Info about the 'this' external reference.</span><a href="https://webidl.spec.whatwg.org/#this">https://webidl.spec.whatwg.org/#this</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-this">2. Joining Interest Groups</a> <a href="#ref-for-this①">(2)</a>
    <li><a href="#ref-for-this②">4. Running Ad Auctions</a> <a href="#ref-for-this③">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-2ffe113543b75964c47c7e6248fef5eb" class="dfn-panel" data-for="2ffe113543b75964c47c7e6248fef5eb" id="infopanel-for-2ffe113543b75964c47c7e6248fef5eb">
   <span id="infopaneltitle-for-2ffe113543b75964c47c7e6248fef5eb" style="display:none">Info about the 'throw' external reference.</span><a href="https://webidl.spec.whatwg.org/#dfn-throw">https://webidl.spec.whatwg.org/#dfn-throw</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-throw">2. Joining Interest Groups</a> <a href="#ref-for-dfn-throw①">(2)</a> <a href="#ref-for-dfn-throw②">(3)</a> <a href="#ref-for-dfn-throw③">(4)</a> <a href="#ref-for-dfn-throw④">(5)</a> <a href="#ref-for-dfn-throw⑤">(6)</a> <a href="#ref-for-dfn-throw⑥">(7)</a> <a href="#ref-for-dfn-throw⑦">(8)</a>
    <li><a href="#ref-for-dfn-throw⑧">4. Running Ad Auctions</a> <a href="#ref-for-dfn-throw⑨">(2)</a> <a href="#ref-for-dfn-throw①⓪">(3)</a> <a href="#ref-for-dfn-throw①①">(4)</a> <a href="#ref-for-dfn-throw①②">(5)</a> <a href="#ref-for-dfn-throw①③">(6)</a> <a href="#ref-for-dfn-throw①④">(7)</a> <a href="#ref-for-dfn-throw①⑤">(8)</a> <a href="#ref-for-dfn-throw①⑥">(9)</a> <a href="#ref-for-dfn-throw①⑦">(10)</a> <a href="#ref-for-dfn-throw①⑧">(11)</a> <a href="#ref-for-dfn-throw①⑨">(12)</a> <a href="#ref-for-dfn-throw②⓪">(13)</a> <a href="#ref-for-dfn-throw②①">(14)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-cee863f1f2ec91066cfb7f5d309d59dc" class="dfn-panel" data-for="cee863f1f2ec91066cfb7f5d309d59dc" id="infopanel-for-cee863f1f2ec91066cfb7f5d309d59dc">
   <span id="infopaneltitle-for-cee863f1f2ec91066cfb7f5d309d59dc" style="display:none">Info about the 'undefined' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-undefined">https://webidl.spec.whatwg.org/#idl-undefined</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-undefined">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-db891cb1cc28e2bf626982240ec36b2a" class="dfn-panel" data-for="db891cb1cc28e2bf626982240ec36b2a" id="infopanel-for-db891cb1cc28e2bf626982240ec36b2a">
   <span id="infopaneltitle-for-db891cb1cc28e2bf626982240ec36b2a" style="display:none">Info about the 'unsigned long long' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long">https://webidl.spec.whatwg.org/#idl-unsigned-long-long</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-unsigned-long-long">4. Running Ad Auctions</a> <a href="#ref-for-idl-unsigned-long-long①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-85ad66f191d72a7d6508e0bab70044dc" class="dfn-panel" data-for="85ad66f191d72a7d6508e0bab70044dc" id="infopanel-for-85ad66f191d72a7d6508e0bab70044dc">
   <span id="infopaneltitle-for-85ad66f191d72a7d6508e0bab70044dc" style="display:none">Info about the 'unsigned short' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-unsigned-short">https://webidl.spec.whatwg.org/#idl-unsigned-short</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-unsigned-short">4. Running Ad Auctions</a> <a href="#ref-for-idl-unsigned-short①">(2)</a> <a href="#ref-for-idl-unsigned-short②">(3)</a>
   </ul>
  </aside>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[DOM]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="0cadfc0f183a5a4a73af55604ddb1ed1">AbortSignal</span>
     <li><span class="dfn-paneled" id="246d6e5a0d07d2d1f595e370c0ed121e">abort reason</span>
     <li><span class="dfn-paneled" id="a41e1b0215a841ee3eece2fcae96e01a">aborted</span>
     <li><span class="dfn-paneled" id="ea86cd4a0dc314bc1093a2d0542c4364">add</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ENCODING]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="8297ed8dbe5ddc8d52a433d25b082796">utf-8</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FETCH]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="b0566d6d660c85a1c0a11fe593f9993d">cache mode</span>
     <li><span class="dfn-paneled" id="136f2700e84634abd2f3d42487ba7f41">client</span>
     <li><span class="dfn-paneled" id="28b697a3fde8f7519842ff0d1ae51f77">credentials mode</span>
     <li><span class="dfn-paneled" id="3444257488f4a193b6f0c4af59b28292">extracting a mime type</span>
     <li><span class="dfn-paneled" id="0bae0f8d0fc019614ef3bb69c15d5311">fetch</span>
     <li><span class="dfn-paneled" id="7d20d86aab82c14f214b792b61bc7cb8">get a structured field value</span>
     <li><span class="dfn-paneled" id="ee7584061c2f45d6a827359cc7178423">header</span>
     <li><span class="dfn-paneled" id="5171067c910207c96b5420a19bae87a3">header list</span>
     <li><span class="dfn-paneled" id="4fd8d1762cd9c874700296c854598fda">header list <small>(for request)</small></span>
     <li><span class="dfn-paneled" id="d94cb5e6252c9158478ebbe8a624e99c">header list <small>(for response)</small></span>
     <li><span class="dfn-paneled" id="ac749183eb78d9110066fea84c5417ad">origin</span>
     <li><span class="dfn-paneled" id="c5e700d07aef54b7ee1acac43643b591">processresponseconsumebody</span>
     <li><span class="dfn-paneled" id="58f356f0304930913f67ab881e9ca886">redirect mode</span>
     <li><span class="dfn-paneled" id="4f358b1fbdaf345d2691f5744de6612b">referrer</span>
     <li><span class="dfn-paneled" id="491791562dd138987138e7051a96c07c">request</span>
     <li><span class="dfn-paneled" id="d203414c2b48c23fddab90ef753bb7cf">response</span>
     <li><span class="dfn-paneled" id="53448884e088e162bab57824ad9a7165">service-workers mode</span>
     <li><span class="dfn-paneled" id="6f4775873c70787775f9c70f0f110709">url</span>
     <li><span class="dfn-paneled" id="d72233a2731c7f5b88c9c3da9700b26a">window</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HR-TIME-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="9213a3aff5ff1021ab4c2d780aa70cee">duration</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="3c82b19be23a00eb4bb6896ec20cd7aa">Navigator</span>
     <li><span class="dfn-paneled" id="3dc9eee4a6a1d169f561b6d87bd08573">allowed to use</span>
     <li><span class="dfn-paneled" id="04e6c32034490f45e4757ead7871de18">associated document</span>
     <li><span class="dfn-paneled" id="819da64c021c76d5b5101cd2634d02f7">dom manipulation task source</span>
     <li><span class="dfn-paneled" id="45195a15648533962d6056ddb7495628">enqueue steps</span>
     <li><span class="dfn-paneled" id="dfd386d6786e19e14e8be334215a486e">global object</span>
     <li><span class="dfn-paneled" id="3a2763fcaa6bc82693554cf36780c0dd">in parallel</span>
     <li><span class="dfn-paneled" id="e817c0877b8b0aa9a44aab98d651d5de">navigator</span>
     <li><span class="dfn-paneled" id="23307d34220e7159f8e5d8c231db141f">opaque origin</span>
     <li><span class="dfn-paneled" id="a8756513b792b8f203588906035a13bb">queue a global task</span>
     <li><span class="dfn-paneled" id="da7ed5f190c4eedd375552d6f7876301">queue a task</span>
     <li><span class="dfn-paneled" id="2233058c8f0998915af8393ee2abbc1d">relevant global object</span>
     <li><span class="dfn-paneled" id="bfb9cb6617f81a424ab20212af73bae3">relevant settings object</span>
     <li><span class="dfn-paneled" id="3bd07dd1ec2f367091cfd0df47c118a5">same origin</span>
     <li><span class="dfn-paneled" id="2aeb953708ac6466a37697c533cf366f">serialization of an origin</span>
     <li><span class="dfn-paneled" id="3fb76ef5543342a528980b7992fbd75c">starting a new parallel queue</span>
     <li><span class="dfn-paneled" id="fad46e4a016cd6e3ca0c81a3c004e4c3">top-level origin</span>
    </ul>
   <li>
    <a data-link-type="biblio">[INFRA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="fcfc8b0ed220faa237969aed00e2586d">append <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="53c2c70bc752d6cf2a1f7deddc029549">append <small>(for set)</small></span>
     <li><span class="dfn-paneled" id="61c7c9c76ff1cedf412e7a18bbe24e2c">ascii string</span>
     <li><span class="dfn-paneled" id="7618b9a6d44febb7e784c8f39faac140">assert</span>
     <li><span class="dfn-paneled" id="0d4cc8e47c65b15b2be5e5e730a09d3c">boolean</span>
     <li><span class="dfn-paneled" id="7605aa4703a0a6921736ddd5321cfc07">concatenate</span>
     <li><span class="dfn-paneled" id="7aa70202d36f53e6295b249241561d26">contain</span>
     <li><span class="dfn-paneled" id="ce9efec0e74a2cbfe986593eb861ade6">continue</span>
     <li><span class="dfn-paneled" id="0d3ee326a162c16997e7bb20e8b7133c">exist</span>
     <li><span class="dfn-paneled" id="8b9e78ceedde26e69095bd6f6cce47bf">for each <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="fa396dfe2ff99ebb3815418bc73c40fb">for each <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="774d035c53e63931c91186473c19a838">is empty</span>
     <li><span class="dfn-paneled" id="d970c9402d2ebe6e16b496ab9414f037">keys</span>
     <li><span class="dfn-paneled" id="81b03c84949641fc3081227509aab38f">length</span>
     <li><span class="dfn-paneled" id="fafd38d2108e357bcc9a6fd7f3cd04a7">list</span>
     <li><span class="dfn-paneled" id="6f2e2caca6e93162e900d159efe5b573">ordered map</span>
     <li><span class="dfn-paneled" id="80524ea4c0063fe3cf0b6c49a40e31bf">ordered set</span>
     <li><span class="dfn-paneled" id="c186cdbfe7e0e7f10f543af94aebdac4">serializing a javascript value to a json string</span>
     <li><span class="dfn-paneled" id="5c3d3462610d78bc92b91000cc511bc4">set</span>
     <li><span class="dfn-paneled" id="bed8381510f5967f5d37a33de776e857">size <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="cb6090a4148c3b79aef250d4d6625e39">size <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="2d700262fcde3097fbf89ef2496f1f0d">starts with</span>
     <li><span class="dfn-paneled" id="40b59bc325bd4d66701dfd8b7f1847c0">string</span>
     <li><span class="dfn-paneled" id="3ee316b93eb2dbe81d01a666cce50f9b">struct</span>
     <li><span class="dfn-paneled" id="f3303f924992de4a9bec051b5191187a">values</span>
    </ul>
   <li>
    <a data-link-type="biblio">[MIMESNIFF]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="5f9330a8f7c5b66d2adf3d3370ae74c1">javascript mime type</span>
     <li><span class="dfn-paneled" id="ecd77f8d0b60bd81f3277adf5fb2d3f3">json mime type</span>
     <li><span class="dfn-paneled" id="6999afece714837dd460347910a5a28d">parameters</span>
    </ul>
   <li>
    <a data-link-type="biblio">[PERMISSIONS-POLICY-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="597f16a11d2e9b68ceae30c52291ae72">default allowlists</span>
     <li><span class="dfn-paneled" id="cbc4165961071efad91900c4c7b2fe8b">policy-controlled feature</span>
    </ul>
   <li>
    <a data-link-type="biblio">[URL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="2050d5e7ce0fb9db5cc184a49b67d60f">component percent-encode set</span>
     <li><span class="dfn-paneled" id="60cc34e102fbb39581626f2f37e3179a">fragment</span>
     <li><span class="dfn-paneled" id="7162945c2118778c48f40774f8d7344b">includes credentials</span>
     <li><span class="dfn-paneled" id="eb0e1698348a5ae30cd3aa882b6dff01">origin</span>
     <li><span class="dfn-paneled" id="d4903414a495f752f42338823a0b455e">query</span>
     <li><span class="dfn-paneled" id="67f83ca6d3c695660bfc2f054f534ffb">scheme</span>
     <li><span class="dfn-paneled" id="fc05c76e016d3aec6a25a91c066500c8">url</span>
     <li><span class="dfn-paneled" id="07df417653faafb38ece7480f2c15a3e">url parser</span>
     <li><span class="dfn-paneled" id="4cd5cba6c3b356beb9ed1d910eaf8ee9">url serializer</span>
     <li><span class="dfn-paneled" id="89c942a6be0752175bb866d54a9b3ec0">utf-8 percent-encode</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="0ab204fb9cc9a746edaff83c0db0740a">DOMException</span>
     <li><span class="dfn-paneled" id="d0f238a61de9310f1738a214749fab18">DOMString</span>
     <li><span class="dfn-paneled" id="aa43258e2b51dc6ebe6268a36e6fd733">NotAllowedError</span>
     <li><span class="dfn-paneled" id="93669c631ec1ef8e696b4c083bdbe12c">Promise</span>
     <li><span class="dfn-paneled" id="cdf224ec60dc3b08449a2fbdf3a90406">SecureContext</span>
     <li><span class="dfn-paneled" id="3f9c3eac015894a734faa8068fd8c2a1">TypeError</span>
     <li><span class="dfn-paneled" id="e270bcd7cdb4abe27bc3bb16a1975937">USVString</span>
     <li><span class="dfn-paneled" id="bbe33fc7ac016834e4aaddbfd1b084a1">a new promise</span>
     <li><span class="dfn-paneled" id="cf8339c4a39778ea039900ab8a77d2fe">a promise rejected with</span>
     <li><span class="dfn-paneled" id="8eec6bb7878bb17dddbbb727b8d77c28">any</span>
     <li><span class="dfn-paneled" id="f8062b07e25ed0281f5cbfb9a54070b4">boolean</span>
     <li><span class="dfn-paneled" id="d3fd0dc5b12c87e613395fec1824ac77">double</span>
     <li><span class="dfn-paneled" id="98c84278a4f9d1aa9fa4e4dd12bb7fb2">record</span>
     <li><span class="dfn-paneled" id="f7204c0306e7ffcb24c31adf6e629e1d">reject</span>
     <li><span class="dfn-paneled" id="f4f973f92274819781816b033aea1f11">resolve</span>
     <li><span class="dfn-paneled" id="38ab7db52e46bed36993204c29f67202">sequence</span>
     <li><span class="dfn-paneled" id="be0933df03cd63338f98de217c4158c7">this</span>
     <li><span class="dfn-paneled" id="2ffe113543b75964c47c7e6248fef5eb">throw</span>
     <li><span class="dfn-paneled" id="cee863f1f2ec91066cfb7f5d309d59dc">undefined</span>
     <li><span class="dfn-paneled" id="db891cb1cc28e2bf626982240ec36b2a">unsigned long long</span>
     <li><span class="dfn-paneled" id="85ad66f191d72a7d6508e0bab70044dc">unsigned short</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-dom">[DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-encoding">[ENCODING]
   <dd>Anne van Kesteren. <a href="https://encoding.spec.whatwg.org/"><cite>Encoding Standard</cite></a>. Living Standard. URL: <a href="https://encoding.spec.whatwg.org/">https://encoding.spec.whatwg.org/</a>
   <dt id="biblio-fetch">[FETCH]
   <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/"><cite>Fetch Standard</cite></a>. Living Standard. URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
   <dt id="biblio-hr-time-3">[HR-TIME-3]
   <dd>Yoav Weiss. <a href="https://w3c.github.io/hr-time/"><cite>High Resolution Time</cite></a>. URL: <a href="https://w3c.github.io/hr-time/">https://w3c.github.io/hr-time/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-infra">[INFRA]
   <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   <dt id="biblio-mimesniff">[MIMESNIFF]
   <dd>Gordon P. Hemsley. <a href="https://mimesniff.spec.whatwg.org/"><cite>MIME Sniffing Standard</cite></a>. Living Standard. URL: <a href="https://mimesniff.spec.whatwg.org/">https://mimesniff.spec.whatwg.org/</a>
   <dt id="biblio-permissions-policy-1">[PERMISSIONS-POLICY-1]
   <dd>Ian Clelland. <a href="https://w3c.github.io/webappsec-permissions-policy/"><cite>Permissions Policy</cite></a>. URL: <a href="https://w3c.github.io/webappsec-permissions-policy/">https://w3c.github.io/webappsec-permissions-policy/</a>
   <dt id="biblio-url">[URL]
   <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>. Living Standard. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"><c- g>Navigator</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigator-joinadinterestgroup"><c- g>joinAdInterestGroup</c-></a>(<a data-link-type="idl-name" href="#dictdef-auctionadinterestgroup"><c- n>AuctionAdInterestGroup</c-></a> <a href="#dom-navigator-joinadinterestgroup-group-durationseconds-group"><code><c- g>group</c-></code></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a href="#dom-navigator-joinadinterestgroup-group-durationseconds-durationseconds"><code><c- g>durationSeconds</c-></code></a>);
};

<c- b>dictionary</c-> <a href="#dictdef-auctionad"><code><c- g>AuctionAd</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionad-renderurl"><code><c- g>renderUrl</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a data-type="any " href="#dom-auctionad-metadata"><code><c- g>metadata</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-auctionadinterestgroup"><code><c- g>AuctionAdInterestGroup</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionadinterestgroup-owner"><code><c- g>owner</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionadinterestgroup-name"><code><c- g>name</c-></code></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a data-default="0.0" data-type="double " href="#dom-auctionadinterestgroup-priority"><code><c- g>priority</c-></code></a> = 0.0;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean " href="#dom-auctionadinterestgroup-enablebiddingsignalsprioritization"><code><c- g>enableBiddingSignalsPrioritization</c-></code></a> = <c- b>false</c->;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>> <a data-type="record<DOMString, double> " href="#dom-auctionadinterestgroup-priorityvector"><code><c- g>priorityVector</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>> <a data-type="record<DOMString, double> " href="#dom-auctionadinterestgroup-prioritysignalsoverrides"><code><c- g>prioritySignalsOverrides</c-></code></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-default="&quot;compatibility&quot;" data-type="DOMString " href="#dom-auctionadinterestgroup-executionmode"><code><c- g>executionMode</c-></code></a> = "compatibility";
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionadinterestgroup-biddinglogicurl"><code><c- g>biddingLogicUrl</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionadinterestgroup-biddingwasmhelperurl"><code><c- g>biddingWasmHelperUrl</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionadinterestgroup-dailyupdateurl"><code><c- g>dailyUpdateUrl</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionadinterestgroup-trustedbiddingsignalsurl"><code><c- g>trustedBiddingSignalsUrl</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>> <a data-type="sequence<USVString> " href="#dom-auctionadinterestgroup-trustedbiddingsignalskeys"><code><c- g>trustedBiddingSignalsKeys</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a data-type="any " href="#dom-auctionadinterestgroup-userbiddingsignals"><code><c- g>userBiddingSignals</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-auctionad"><c- n>AuctionAd</c-></a>> <a data-type="sequence<AuctionAd> " href="#dom-auctionadinterestgroup-ads"><code><c- g>ads</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-auctionad"><c- n>AuctionAd</c-></a>> <a data-type="sequence<AuctionAd> " href="#dom-auctionadinterestgroup-adcomponents"><code><c- g>adComponents</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"><c- g>Navigator</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>?> <a class="idl-code" data-link-type="method" href="#dom-navigator-runadauction"><c- g>runAdAuction</c-></a>(<a data-link-type="idl-name" href="#dictdef-auctionadconfig"><c- n>AuctionAdConfig</c-></a> <a href="#dom-navigator-runadauction-config-config"><code><c- g>config</c-></code></a>);
};

<c- b>dictionary</c-> <a href="#dictdef-auctionadconfig"><code><c- g>AuctionAdConfig</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionadconfig-seller"><code><c- g>seller</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionadconfig-decisionlogicurl"><code><c- g>decisionLogicUrl</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionadconfig-trustedscoringsignalsurl"><code><c- g>trustedScoringSignalsUrl</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>> <a data-type="sequence<USVString> " href="#dom-auctionadconfig-interestgroupbuyers"><code><c- g>interestGroupBuyers</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a data-type="any " href="#dom-auctionadconfig-auctionsignals"><code><c- g>auctionSignals</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a data-type="any " href="#dom-auctionadconfig-sellersignals"><code><c- g>sellerSignals</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionadconfig-directfromsellersignals"><code><c- g>directFromSellerSignals</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a data-type="unsigned long long " href="#dom-auctionadconfig-sellertimeout"><code><c- g>sellerTimeout</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short"><c- b>unsigned</c-> <c- b>short</c-></a> <a data-type="unsigned short " href="#dom-auctionadconfig-sellerexperimentgroupid"><code><c- g>sellerExperimentGroupId</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a>> <a data-type="record<USVString, any> " href="#dom-auctionadconfig-perbuyersignals"><code><c- g>perBuyerSignals</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a>> <a data-type="record<USVString, unsigned long long> " href="#dom-auctionadconfig-perbuyertimeouts"><code><c- g>perBuyerTimeouts</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short"><c- b>unsigned</c-> <c- b>short</c-></a>> <a data-type="record<USVString, unsigned short> " href="#dom-auctionadconfig-perbuyergrouplimits"><code><c- g>perBuyerGroupLimits</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short"><c- b>unsigned</c-> <c- b>short</c-></a>> <a data-type="record<USVString, unsigned short> " href="#dom-auctionadconfig-perbuyerexperimentgroupids"><code><c- g>perBuyerExperimentGroupIds</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>>> <a data-type="record<USVString, record<USVString, double>> " href="#dom-auctionadconfig-perbuyerprioritysignals"><code><c- g>perBuyerPrioritySignals</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-auctionadconfig"><c- n>AuctionAdConfig</c-></a>> <a data-default="[]" data-type="sequence<AuctionAdConfig> " href="#dom-auctionadconfig-componentauctions"><code><c- g>componentAuctions</c-></code></a> = [];
  <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#abortsignal"><c- n>AbortSignal</c-></a>? <a data-type="AbortSignal? " href="#dom-auctionadconfig-signal"><code><c- g>signal</c-></code></a>;
};

</pre>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> This would ideally be replaced by a more descriptive algorithm in Infra. See <a href="https://github.com/whatwg/infra/issues/201">infra/201</a> <a class="issue-return" href="#issue-ccb90c6c" title="Jump to section">↵</a></div>
  </div>
  <aside aria-labelledby="infopaneltitle-for-interest-group-set" class="dfn-panel" data-for="interest-group-set" id="infopanel-for-interest-group-set">
   <span id="infopaneltitle-for-interest-group-set" style="display:none">Info about the 'interest group set' definition.</span><b><a href="#interest-group-set">#interest-group-set</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-set">2. Joining Interest Groups</a>
    <li><a href="#ref-for-interest-group-set①">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dictdef-auctionad" class="dfn-panel" data-for="dictdef-auctionad" id="infopanel-for-dictdef-auctionad">
   <span id="infopaneltitle-for-dictdef-auctionad" style="display:none">Info about the 'AuctionAd' definition.</span><b><a href="#dictdef-auctionad">#dictdef-auctionad</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-auctionad">2. Joining Interest Groups</a> <a href="#ref-for-dictdef-auctionad①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionad-renderurl" class="dfn-panel" data-for="dom-auctionad-renderurl" id="infopanel-for-dom-auctionad-renderurl">
   <span id="infopaneltitle-for-dom-auctionad-renderurl" style="display:none">Info about the 'renderUrl' definition.</span><b><a href="#dom-auctionad-renderurl">#dom-auctionad-renderurl</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionad-renderurl">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionad-metadata" class="dfn-panel" data-for="dom-auctionad-metadata" id="infopanel-for-dom-auctionad-metadata">
   <span id="infopaneltitle-for-dom-auctionad-metadata" style="display:none">Info about the 'metadata' definition.</span><b><a href="#dom-auctionad-metadata">#dom-auctionad-metadata</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionad-metadata">2. Joining Interest Groups</a> <a href="#ref-for-dom-auctionad-metadata①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dictdef-auctionadinterestgroup" class="dfn-panel" data-for="dictdef-auctionadinterestgroup" id="infopanel-for-dictdef-auctionadinterestgroup">
   <span id="infopaneltitle-for-dictdef-auctionadinterestgroup" style="display:none">Info about the 'AuctionAdInterestGroup' definition.</span><b><a href="#dictdef-auctionadinterestgroup">#dictdef-auctionadinterestgroup</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-auctionadinterestgroup">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroup-owner" class="dfn-panel" data-for="dom-auctionadinterestgroup-owner" id="infopanel-for-dom-auctionadinterestgroup-owner">
   <span id="infopaneltitle-for-dom-auctionadinterestgroup-owner" style="display:none">Info about the 'owner' definition.</span><b><a href="#dom-auctionadinterestgroup-owner">#dom-auctionadinterestgroup-owner</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroup-owner">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroup-name" class="dfn-panel" data-for="dom-auctionadinterestgroup-name" id="infopanel-for-dom-auctionadinterestgroup-name">
   <span id="infopaneltitle-for-dom-auctionadinterestgroup-name" style="display:none">Info about the 'name' definition.</span><b><a href="#dom-auctionadinterestgroup-name">#dom-auctionadinterestgroup-name</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroup-name">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroup-priority" class="dfn-panel" data-for="dom-auctionadinterestgroup-priority" id="infopanel-for-dom-auctionadinterestgroup-priority">
   <span id="infopaneltitle-for-dom-auctionadinterestgroup-priority" style="display:none">Info about the 'priority' definition.</span><b><a href="#dom-auctionadinterestgroup-priority">#dom-auctionadinterestgroup-priority</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroup-priority">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroup-enablebiddingsignalsprioritization" class="dfn-panel" data-for="dom-auctionadinterestgroup-enablebiddingsignalsprioritization" id="infopanel-for-dom-auctionadinterestgroup-enablebiddingsignalsprioritization">
   <span id="infopaneltitle-for-dom-auctionadinterestgroup-enablebiddingsignalsprioritization" style="display:none">Info about the 'enableBiddingSignalsPrioritization' definition.</span><b><a href="#dom-auctionadinterestgroup-enablebiddingsignalsprioritization">#dom-auctionadinterestgroup-enablebiddingsignalsprioritization</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroup-enablebiddingsignalsprioritization">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroup-priorityvector" class="dfn-panel" data-for="dom-auctionadinterestgroup-priorityvector" id="infopanel-for-dom-auctionadinterestgroup-priorityvector">
   <span id="infopaneltitle-for-dom-auctionadinterestgroup-priorityvector" style="display:none">Info about the 'priorityVector' definition.</span><b><a href="#dom-auctionadinterestgroup-priorityvector">#dom-auctionadinterestgroup-priorityvector</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroup-priorityvector">2. Joining Interest Groups</a> <a href="#ref-for-dom-auctionadinterestgroup-priorityvector①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroup-prioritysignalsoverrides" class="dfn-panel" data-for="dom-auctionadinterestgroup-prioritysignalsoverrides" id="infopanel-for-dom-auctionadinterestgroup-prioritysignalsoverrides">
   <span id="infopaneltitle-for-dom-auctionadinterestgroup-prioritysignalsoverrides" style="display:none">Info about the 'prioritySignalsOverrides' definition.</span><b><a href="#dom-auctionadinterestgroup-prioritysignalsoverrides">#dom-auctionadinterestgroup-prioritysignalsoverrides</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroup-prioritysignalsoverrides">2. Joining Interest Groups</a> <a href="#ref-for-dom-auctionadinterestgroup-prioritysignalsoverrides①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroup-executionmode" class="dfn-panel" data-for="dom-auctionadinterestgroup-executionmode" id="infopanel-for-dom-auctionadinterestgroup-executionmode">
   <span id="infopaneltitle-for-dom-auctionadinterestgroup-executionmode" style="display:none">Info about the 'executionMode' definition.</span><b><a href="#dom-auctionadinterestgroup-executionmode">#dom-auctionadinterestgroup-executionmode</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroup-executionmode">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroup-biddinglogicurl" class="dfn-panel" data-for="dom-auctionadinterestgroup-biddinglogicurl" id="infopanel-for-dom-auctionadinterestgroup-biddinglogicurl">
   <span id="infopaneltitle-for-dom-auctionadinterestgroup-biddinglogicurl" style="display:none">Info about the 'biddingLogicUrl' definition.</span><b><a href="#dom-auctionadinterestgroup-biddinglogicurl">#dom-auctionadinterestgroup-biddinglogicurl</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroup-biddinglogicurl">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroup-biddingwasmhelperurl" class="dfn-panel" data-for="dom-auctionadinterestgroup-biddingwasmhelperurl" id="infopanel-for-dom-auctionadinterestgroup-biddingwasmhelperurl">
   <span id="infopaneltitle-for-dom-auctionadinterestgroup-biddingwasmhelperurl" style="display:none">Info about the 'biddingWasmHelperUrl' definition.</span><b><a href="#dom-auctionadinterestgroup-biddingwasmhelperurl">#dom-auctionadinterestgroup-biddingwasmhelperurl</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroup-biddingwasmhelperurl">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroup-dailyupdateurl" class="dfn-panel" data-for="dom-auctionadinterestgroup-dailyupdateurl" id="infopanel-for-dom-auctionadinterestgroup-dailyupdateurl">
   <span id="infopaneltitle-for-dom-auctionadinterestgroup-dailyupdateurl" style="display:none">Info about the 'dailyUpdateUrl' definition.</span><b><a href="#dom-auctionadinterestgroup-dailyupdateurl">#dom-auctionadinterestgroup-dailyupdateurl</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroup-dailyupdateurl">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroup-trustedbiddingsignalsurl" class="dfn-panel" data-for="dom-auctionadinterestgroup-trustedbiddingsignalsurl" id="infopanel-for-dom-auctionadinterestgroup-trustedbiddingsignalsurl">
   <span id="infopaneltitle-for-dom-auctionadinterestgroup-trustedbiddingsignalsurl" style="display:none">Info about the 'trustedBiddingSignalsUrl' definition.</span><b><a href="#dom-auctionadinterestgroup-trustedbiddingsignalsurl">#dom-auctionadinterestgroup-trustedbiddingsignalsurl</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroup-trustedbiddingsignalsurl">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroup-trustedbiddingsignalskeys" class="dfn-panel" data-for="dom-auctionadinterestgroup-trustedbiddingsignalskeys" id="infopanel-for-dom-auctionadinterestgroup-trustedbiddingsignalskeys">
   <span id="infopaneltitle-for-dom-auctionadinterestgroup-trustedbiddingsignalskeys" style="display:none">Info about the 'trustedBiddingSignalsKeys' definition.</span><b><a href="#dom-auctionadinterestgroup-trustedbiddingsignalskeys">#dom-auctionadinterestgroup-trustedbiddingsignalskeys</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroup-trustedbiddingsignalskeys">2. Joining Interest Groups</a> <a href="#ref-for-dom-auctionadinterestgroup-trustedbiddingsignalskeys①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroup-userbiddingsignals" class="dfn-panel" data-for="dom-auctionadinterestgroup-userbiddingsignals" id="infopanel-for-dom-auctionadinterestgroup-userbiddingsignals">
   <span id="infopaneltitle-for-dom-auctionadinterestgroup-userbiddingsignals" style="display:none">Info about the 'userBiddingSignals' definition.</span><b><a href="#dom-auctionadinterestgroup-userbiddingsignals">#dom-auctionadinterestgroup-userbiddingsignals</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroup-userbiddingsignals">2. Joining Interest Groups</a> <a href="#ref-for-dom-auctionadinterestgroup-userbiddingsignals①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroup-ads" class="dfn-panel" data-for="dom-auctionadinterestgroup-ads" id="infopanel-for-dom-auctionadinterestgroup-ads">
   <span id="infopaneltitle-for-dom-auctionadinterestgroup-ads" style="display:none">Info about the 'ads' definition.</span><b><a href="#dom-auctionadinterestgroup-ads">#dom-auctionadinterestgroup-ads</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroup-ads">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroup-adcomponents" class="dfn-panel" data-for="dom-auctionadinterestgroup-adcomponents" id="infopanel-for-dom-auctionadinterestgroup-adcomponents">
   <span id="infopaneltitle-for-dom-auctionadinterestgroup-adcomponents" style="display:none">Info about the 'adComponents' definition.</span><b><a href="#dom-auctionadinterestgroup-adcomponents">#dom-auctionadinterestgroup-adcomponents</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroup-adcomponents">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-navigator-joinadinterestgroup" class="dfn-panel" data-for="dom-navigator-joinadinterestgroup" id="infopanel-for-dom-navigator-joinadinterestgroup">
   <span id="infopaneltitle-for-dom-navigator-joinadinterestgroup" style="display:none">Info about the 'joinAdInterestGroup(group, durationSeconds)' definition.</span><b><a href="#dom-navigator-joinadinterestgroup">#dom-navigator-joinadinterestgroup</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigator-joinadinterestgroup">1. Introduction</a>
    <li><a href="#ref-for-dom-navigator-joinadinterestgroup①">2. Joining Interest Groups</a> <a href="#ref-for-dom-navigator-joinadinterestgroup②">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-estimated-size" class="dfn-panel" data-for="interest-group-estimated-size" id="infopanel-for-interest-group-estimated-size">
   <span id="infopaneltitle-for-interest-group-estimated-size" style="display:none">Info about the 'estimated size' definition.</span><b><a href="#interest-group-estimated-size">#interest-group-estimated-size</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-estimated-size">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dictdef-auctionadconfig" class="dfn-panel" data-for="dictdef-auctionadconfig" id="infopanel-for-dictdef-auctionadconfig">
   <span id="infopaneltitle-for-dictdef-auctionadconfig" style="display:none">Info about the 'AuctionAdConfig' definition.</span><b><a href="#dictdef-auctionadconfig">#dictdef-auctionadconfig</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-auctionadconfig">4. Running Ad Auctions</a> <a href="#ref-for-dictdef-auctionadconfig①">(2)</a> <a href="#ref-for-dictdef-auctionadconfig②">(3)</a> <a href="#ref-for-dictdef-auctionadconfig③">(4)</a>
    <li><a href="#ref-for-dictdef-auctionadconfig④">7.1. Interest group</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-seller" class="dfn-panel" data-for="dom-auctionadconfig-seller" id="infopanel-for-dom-auctionadconfig-seller">
   <span id="infopaneltitle-for-dom-auctionadconfig-seller" style="display:none">Info about the 'seller' definition.</span><b><a href="#dom-auctionadconfig-seller">#dom-auctionadconfig-seller</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-seller">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-decisionlogicurl" class="dfn-panel" data-for="dom-auctionadconfig-decisionlogicurl" id="infopanel-for-dom-auctionadconfig-decisionlogicurl">
   <span id="infopaneltitle-for-dom-auctionadconfig-decisionlogicurl" style="display:none">Info about the 'decisionLogicUrl' definition.</span><b><a href="#dom-auctionadconfig-decisionlogicurl">#dom-auctionadconfig-decisionlogicurl</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-decisionlogicurl">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-trustedscoringsignalsurl" class="dfn-panel" data-for="dom-auctionadconfig-trustedscoringsignalsurl" id="infopanel-for-dom-auctionadconfig-trustedscoringsignalsurl">
   <span id="infopaneltitle-for-dom-auctionadconfig-trustedscoringsignalsurl" style="display:none">Info about the 'trustedScoringSignalsUrl' definition.</span><b><a href="#dom-auctionadconfig-trustedscoringsignalsurl">#dom-auctionadconfig-trustedscoringsignalsurl</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-trustedscoringsignalsurl">4. Running Ad Auctions</a> <a href="#ref-for-dom-auctionadconfig-trustedscoringsignalsurl①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-interestgroupbuyers" class="dfn-panel" data-for="dom-auctionadconfig-interestgroupbuyers" id="infopanel-for-dom-auctionadconfig-interestgroupbuyers">
   <span id="infopaneltitle-for-dom-auctionadconfig-interestgroupbuyers" style="display:none">Info about the 'interestGroupBuyers' definition.</span><b><a href="#dom-auctionadconfig-interestgroupbuyers">#dom-auctionadconfig-interestgroupbuyers</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-interestgroupbuyers">4. Running Ad Auctions</a> <a href="#ref-for-dom-auctionadconfig-interestgroupbuyers①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-auctionsignals" class="dfn-panel" data-for="dom-auctionadconfig-auctionsignals" id="infopanel-for-dom-auctionadconfig-auctionsignals">
   <span id="infopaneltitle-for-dom-auctionadconfig-auctionsignals" style="display:none">Info about the 'auctionSignals' definition.</span><b><a href="#dom-auctionadconfig-auctionsignals">#dom-auctionadconfig-auctionsignals</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-auctionsignals">4. Running Ad Auctions</a> <a href="#ref-for-dom-auctionadconfig-auctionsignals①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-sellersignals" class="dfn-panel" data-for="dom-auctionadconfig-sellersignals" id="infopanel-for-dom-auctionadconfig-sellersignals">
   <span id="infopaneltitle-for-dom-auctionadconfig-sellersignals" style="display:none">Info about the 'sellerSignals' definition.</span><b><a href="#dom-auctionadconfig-sellersignals">#dom-auctionadconfig-sellersignals</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-sellersignals">4. Running Ad Auctions</a> <a href="#ref-for-dom-auctionadconfig-sellersignals①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-directfromsellersignals" class="dfn-panel" data-for="dom-auctionadconfig-directfromsellersignals" id="infopanel-for-dom-auctionadconfig-directfromsellersignals">
   <span id="infopaneltitle-for-dom-auctionadconfig-directfromsellersignals" style="display:none">Info about the 'directFromSellerSignals' definition.</span><b><a href="#dom-auctionadconfig-directfromsellersignals">#dom-auctionadconfig-directfromsellersignals</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-directfromsellersignals">4. Running Ad Auctions</a> <a href="#ref-for-dom-auctionadconfig-directfromsellersignals①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-sellertimeout" class="dfn-panel" data-for="dom-auctionadconfig-sellertimeout" id="infopanel-for-dom-auctionadconfig-sellertimeout">
   <span id="infopaneltitle-for-dom-auctionadconfig-sellertimeout" style="display:none">Info about the 'sellerTimeout' definition.</span><b><a href="#dom-auctionadconfig-sellertimeout">#dom-auctionadconfig-sellertimeout</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-sellertimeout">4. Running Ad Auctions</a> <a href="#ref-for-dom-auctionadconfig-sellertimeout①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-sellerexperimentgroupid" class="dfn-panel" data-for="dom-auctionadconfig-sellerexperimentgroupid" id="infopanel-for-dom-auctionadconfig-sellerexperimentgroupid">
   <span id="infopaneltitle-for-dom-auctionadconfig-sellerexperimentgroupid" style="display:none">Info about the 'sellerExperimentGroupId' definition.</span><b><a href="#dom-auctionadconfig-sellerexperimentgroupid">#dom-auctionadconfig-sellerexperimentgroupid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-sellerexperimentgroupid">4. Running Ad Auctions</a> <a href="#ref-for-dom-auctionadconfig-sellerexperimentgroupid①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-perbuyersignals" class="dfn-panel" data-for="dom-auctionadconfig-perbuyersignals" id="infopanel-for-dom-auctionadconfig-perbuyersignals">
   <span id="infopaneltitle-for-dom-auctionadconfig-perbuyersignals" style="display:none">Info about the 'perBuyerSignals' definition.</span><b><a href="#dom-auctionadconfig-perbuyersignals">#dom-auctionadconfig-perbuyersignals</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-perbuyersignals">4. Running Ad Auctions</a> <a href="#ref-for-dom-auctionadconfig-perbuyersignals①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-perbuyertimeouts" class="dfn-panel" data-for="dom-auctionadconfig-perbuyertimeouts" id="infopanel-for-dom-auctionadconfig-perbuyertimeouts">
   <span id="infopaneltitle-for-dom-auctionadconfig-perbuyertimeouts" style="display:none">Info about the 'perBuyerTimeouts' definition.</span><b><a href="#dom-auctionadconfig-perbuyertimeouts">#dom-auctionadconfig-perbuyertimeouts</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-perbuyertimeouts">4. Running Ad Auctions</a> <a href="#ref-for-dom-auctionadconfig-perbuyertimeouts①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-perbuyergrouplimits" class="dfn-panel" data-for="dom-auctionadconfig-perbuyergrouplimits" id="infopanel-for-dom-auctionadconfig-perbuyergrouplimits">
   <span id="infopaneltitle-for-dom-auctionadconfig-perbuyergrouplimits" style="display:none">Info about the 'perBuyerGroupLimits' definition.</span><b><a href="#dom-auctionadconfig-perbuyergrouplimits">#dom-auctionadconfig-perbuyergrouplimits</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-perbuyergrouplimits">4. Running Ad Auctions</a> <a href="#ref-for-dom-auctionadconfig-perbuyergrouplimits①">(2)</a>
    <li><a href="#ref-for-dom-auctionadconfig-perbuyergrouplimits②">7.1. Interest group</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-perbuyerexperimentgroupids" class="dfn-panel" data-for="dom-auctionadconfig-perbuyerexperimentgroupids" id="infopanel-for-dom-auctionadconfig-perbuyerexperimentgroupids">
   <span id="infopaneltitle-for-dom-auctionadconfig-perbuyerexperimentgroupids" style="display:none">Info about the 'perBuyerExperimentGroupIds' definition.</span><b><a href="#dom-auctionadconfig-perbuyerexperimentgroupids">#dom-auctionadconfig-perbuyerexperimentgroupids</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-perbuyerexperimentgroupids">4. Running Ad Auctions</a> <a href="#ref-for-dom-auctionadconfig-perbuyerexperimentgroupids①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-perbuyerprioritysignals" class="dfn-panel" data-for="dom-auctionadconfig-perbuyerprioritysignals" id="infopanel-for-dom-auctionadconfig-perbuyerprioritysignals">
   <span id="infopaneltitle-for-dom-auctionadconfig-perbuyerprioritysignals" style="display:none">Info about the 'perBuyerPrioritySignals' definition.</span><b><a href="#dom-auctionadconfig-perbuyerprioritysignals">#dom-auctionadconfig-perbuyerprioritysignals</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-perbuyerprioritysignals">4. Running Ad Auctions</a> <a href="#ref-for-dom-auctionadconfig-perbuyerprioritysignals①">(2)</a>
    <li><a href="#ref-for-dom-auctionadconfig-perbuyerprioritysignals②">7.1. Interest group</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-componentauctions" class="dfn-panel" data-for="dom-auctionadconfig-componentauctions" id="infopanel-for-dom-auctionadconfig-componentauctions">
   <span id="infopaneltitle-for-dom-auctionadconfig-componentauctions" style="display:none">Info about the 'componentAuctions' definition.</span><b><a href="#dom-auctionadconfig-componentauctions">#dom-auctionadconfig-componentauctions</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-componentauctions">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-signal" class="dfn-panel" data-for="dom-auctionadconfig-signal" id="infopanel-for-dom-auctionadconfig-signal">
   <span id="infopaneltitle-for-dom-auctionadconfig-signal" style="display:none">Info about the 'signal' definition.</span><b><a href="#dom-auctionadconfig-signal">#dom-auctionadconfig-signal</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-signal">4. Running Ad Auctions</a> <a href="#ref-for-dom-auctionadconfig-signal①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-navigator-runadauction" class="dfn-panel" data-for="dom-navigator-runadauction" id="infopanel-for-dom-navigator-runadauction">
   <span id="infopaneltitle-for-dom-navigator-runadauction" style="display:none">Info about the 'runAdAuction(config)' definition.</span><b><a href="#dom-navigator-runadauction">#dom-navigator-runadauction</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigator-runadauction">1. Introduction</a>
    <li><a href="#ref-for-dom-navigator-runadauction①">4. Running Ad Auctions</a> <a href="#ref-for-dom-navigator-runadauction②">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-validate-and-convert-auction-ad-config" class="dfn-panel" data-for="validate-and-convert-auction-ad-config" id="infopanel-for-validate-and-convert-auction-ad-config">
   <span id="infopaneltitle-for-validate-and-convert-auction-ad-config" style="display:none">Info about the 'validate and convert auction ad config' definition.</span><b><a href="#validate-and-convert-auction-ad-config">#validate-and-convert-auction-ad-config</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-validate-and-convert-auction-ad-config">4. Running Ad Auctions</a> <a href="#ref-for-validate-and-convert-auction-ad-config①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-validate-and-convert-auction-ad-config-istoplevel" class="dfn-panel" data-for="validate-and-convert-auction-ad-config-istoplevel" id="infopanel-for-validate-and-convert-auction-ad-config-istoplevel">
   <span id="infopaneltitle-for-validate-and-convert-auction-ad-config-istoplevel" style="display:none">Info about the 'isTopLevel' definition.</span><b><a href="#validate-and-convert-auction-ad-config-istoplevel">#validate-and-convert-auction-ad-config-istoplevel</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-validate-and-convert-auction-ad-config-istoplevel">4. Running Ad Auctions</a> <a href="#ref-for-validate-and-convert-auction-ad-config-istoplevel①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-parse-an-origin" class="dfn-panel" data-for="parse-an-origin" id="infopanel-for-parse-an-origin">
   <span id="infopaneltitle-for-parse-an-origin" style="display:none">Info about the 'parse an origin' definition.</span><b><a href="#parse-an-origin">#parse-an-origin</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-parse-an-origin">4. Running Ad Auctions</a> <a href="#ref-for-parse-an-origin①">(2)</a> <a href="#ref-for-parse-an-origin②">(3)</a> <a href="#ref-for-parse-an-origin③">(4)</a> <a href="#ref-for-parse-an-origin④">(5)</a> <a href="#ref-for-parse-an-origin⑤">(6)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-build-bid-generators-map" class="dfn-panel" data-for="build-bid-generators-map" id="infopanel-for-build-bid-generators-map">
   <span id="infopaneltitle-for-build-bid-generators-map" style="display:none">Info about the 'build bid generators map' definition.</span><b><a href="#build-bid-generators-map">#build-bid-generators-map</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-build-bid-generators-map">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-generate-and-score-bids" class="dfn-panel" data-for="generate-and-score-bids" id="infopanel-for-generate-and-score-bids">
   <span id="infopaneltitle-for-generate-and-score-bids" style="display:none">Info about the 'generate and score bids' definition.</span><b><a href="#generate-and-score-bids">#generate-and-score-bids</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-generate-and-score-bids">4. Running Ad Auctions</a> <a href="#ref-for-generate-and-score-bids①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-score-and-rank-a-bid" class="dfn-panel" data-for="score-and-rank-a-bid" id="infopanel-for-score-and-rank-a-bid">
   <span id="infopaneltitle-for-score-and-rank-a-bid" style="display:none">Info about the 'score and rank a bid' definition.</span><b><a href="#score-and-rank-a-bid">#score-and-rank-a-bid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-score-and-rank-a-bid">4. Running Ad Auctions</a> <a href="#ref-for-score-and-rank-a-bid①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-create-a-seller-script-runner" class="dfn-panel" data-for="create-a-seller-script-runner" id="infopanel-for-create-a-seller-script-runner">
   <span id="infopaneltitle-for-create-a-seller-script-runner" style="display:none">Info about the 'create a seller script runner' definition.</span><b><a href="#create-a-seller-script-runner">#create-a-seller-script-runner</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-create-a-seller-script-runner">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-create-a-request" class="dfn-panel" data-for="create-a-request" id="infopanel-for-create-a-request">
   <span id="infopaneltitle-for-create-a-request" style="display:none">Info about the 'create a request' definition.</span><b><a href="#create-a-request">#create-a-request</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-create-a-request">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-create-a-request-accept" class="dfn-panel" data-for="create-a-request-accept" id="infopanel-for-create-a-request-accept">
   <span id="infopaneltitle-for-create-a-request-accept" style="display:none">Info about the '
accept' definition.</span><b><a href="#create-a-request-accept">#create-a-request-accept</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-create-a-request-accept">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-fetch-resource" class="dfn-panel" data-for="fetch-resource" id="infopanel-for-fetch-resource">
   <span id="infopaneltitle-for-fetch-resource" style="display:none">Info about the 'fetch resource' definition.</span><b><a href="#fetch-resource">#fetch-resource</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fetch-resource">4. Running Ad Auctions</a> <a href="#ref-for-fetch-resource①">(2)</a> <a href="#ref-for-fetch-resource②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-build-trusted-bidding-signals-url" class="dfn-panel" data-for="build-trusted-bidding-signals-url" id="infopanel-for-build-trusted-bidding-signals-url">
   <span id="infopaneltitle-for-build-trusted-bidding-signals-url" style="display:none">Info about the 'build trusted bidding signals url' definition.</span><b><a href="#build-trusted-bidding-signals-url">#build-trusted-bidding-signals-url</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-build-trusted-bidding-signals-url">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-serialize-an-integer" class="dfn-panel" data-for="serialize-an-integer" id="infopanel-for-serialize-an-integer">
   <span id="infopaneltitle-for-serialize-an-integer" style="display:none">Info about the 'serialize an integer' definition.</span><b><a href="#serialize-an-integer">#serialize-an-integer</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-serialize-an-integer">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-evaluate-script" class="dfn-panel" data-for="evaluate-script" id="infopanel-for-evaluate-script">
   <span id="infopaneltitle-for-evaluate-script" style="display:none">Info about the 'evaluate script' definition.</span><b><a href="#evaluate-script">#evaluate-script</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-evaluate-script">4. Running Ad Auctions</a> <a href="#ref-for-evaluate-script①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-evaluate-script-script" class="dfn-panel" data-for="evaluate-script-script" id="infopanel-for-evaluate-script-script">
   <span id="infopaneltitle-for-evaluate-script-script" style="display:none">Info about the 'script' definition.</span><b><a href="#evaluate-script-script">#evaluate-script-script</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-evaluate-script-script">4. Running Ad Auctions</a> <a href="#ref-for-evaluate-script-script①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-evaluate-script-functionname" class="dfn-panel" data-for="evaluate-script-functionname" id="infopanel-for-evaluate-script-functionname">
   <span id="infopaneltitle-for-evaluate-script-functionname" style="display:none">Info about the 'functionName' definition.</span><b><a href="#evaluate-script-functionname">#evaluate-script-functionname</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-evaluate-script-functionname">4. Running Ad Auctions</a> <a href="#ref-for-evaluate-script-functionname①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-evaluate-script-arguments" class="dfn-panel" data-for="evaluate-script-arguments" id="infopanel-for-evaluate-script-arguments">
   <span id="infopaneltitle-for-evaluate-script-arguments" style="display:none">Info about the 'arguments' definition.</span><b><a href="#evaluate-script-arguments">#evaluate-script-arguments</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-evaluate-script-arguments">4. Running Ad Auctions</a> <a href="#ref-for-evaluate-script-arguments①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-generate-reporting-urls" class="dfn-panel" data-for="generate-reporting-urls" id="infopanel-for-generate-reporting-urls">
   <span id="infopaneltitle-for-generate-reporting-urls" style="display:none">Info about the 'generate reporting URLs' definition.</span><b><a href="#generate-reporting-urls">#generate-reporting-urls</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-generate-reporting-urls">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-join-ad-interest-group" class="dfn-panel" data-for="join-ad-interest-group" id="infopanel-for-join-ad-interest-group">
   <span id="infopaneltitle-for-join-ad-interest-group" style="display:none">Info about the 'join-ad-interest-group' definition.</span><b><a href="#join-ad-interest-group">#join-ad-interest-group</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-join-ad-interest-group">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-run-ad-auction" class="dfn-panel" data-for="run-ad-auction" id="infopanel-for-run-ad-auction">
   <span id="infopaneltitle-for-run-ad-auction" style="display:none">Info about the 'run-ad-auction' definition.</span><b><a href="#run-ad-auction">#run-ad-auction</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-run-ad-auction">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group" class="dfn-panel" data-for="interest-group" id="infopanel-for-interest-group">
   <span id="infopaneltitle-for-interest-group" style="display:none">Info about the '7.1. Interest group' definition.</span><b><a href="#interest-group">#interest-group</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group">2. Joining Interest Groups</a> <a href="#ref-for-interest-group①">(2)</a> <a href="#ref-for-interest-group②">(3)</a>
    <li><a href="#ref-for-interest-group">7.1. Interest group</a>
    <li><a href="#ref-for-interest-group③">7.5. Per signals url bid generator</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-expiry" class="dfn-panel" data-for="interest-group-expiry" id="infopanel-for-interest-group-expiry">
   <span id="infopaneltitle-for-interest-group-expiry" style="display:none">Info about the 'expiry' definition.</span><b><a href="#interest-group-expiry">#interest-group-expiry</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-expiry">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-owner" class="dfn-panel" data-for="interest-group-owner" id="infopanel-for-interest-group-owner">
   <span id="infopaneltitle-for-interest-group-owner" style="display:none">Info about the 'owner' definition.</span><b><a href="#interest-group-owner">#interest-group-owner</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-owner">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-owner①">(2)</a> <a href="#ref-for-interest-group-owner②">(3)</a> <a href="#ref-for-interest-group-owner③">(4)</a>
    <li><a href="#ref-for-interest-group-owner④">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-name" class="dfn-panel" data-for="interest-group-name" id="infopanel-for-interest-group-name">
   <span id="infopaneltitle-for-interest-group-name" style="display:none">Info about the 'name' definition.</span><b><a href="#interest-group-name">#interest-group-name</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-name">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-name①">(2)</a> <a href="#ref-for-interest-group-name②">(3)</a>
    <li><a href="#ref-for-interest-group-name③">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-priority" class="dfn-panel" data-for="interest-group-priority" id="infopanel-for-interest-group-priority">
   <span id="infopaneltitle-for-interest-group-priority" style="display:none">Info about the 'priority' definition.</span><b><a href="#interest-group-priority">#interest-group-priority</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-priority">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-priority①">(2)</a>
    <li><a href="#ref-for-interest-group-priority②">7.1. Interest group</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-enable-bidding-signals-prioritization" class="dfn-panel" data-for="interest-group-enable-bidding-signals-prioritization" id="infopanel-for-interest-group-enable-bidding-signals-prioritization">
   <span id="infopaneltitle-for-interest-group-enable-bidding-signals-prioritization" style="display:none">Info about the 'enable bidding signals prioritization' definition.</span><b><a href="#interest-group-enable-bidding-signals-prioritization">#interest-group-enable-bidding-signals-prioritization</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-enable-bidding-signals-prioritization">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-enable-bidding-signals-prioritization①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-priority-vector" class="dfn-panel" data-for="interest-group-priority-vector" id="infopanel-for-interest-group-priority-vector">
   <span id="infopaneltitle-for-interest-group-priority-vector" style="display:none">Info about the 'priority vector' definition.</span><b><a href="#interest-group-priority-vector">#interest-group-priority-vector</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-priority-vector">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-priority-vector①">(2)</a> <a href="#ref-for-interest-group-priority-vector②">(3)</a>
    <li><a href="#ref-for-interest-group-priority-vector③">7.3. Auction config</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-priority-signals-overrides" class="dfn-panel" data-for="interest-group-priority-signals-overrides" id="infopanel-for-interest-group-priority-signals-overrides">
   <span id="infopaneltitle-for-interest-group-priority-signals-overrides" style="display:none">Info about the 'priority signals overrides' definition.</span><b><a href="#interest-group-priority-signals-overrides">#interest-group-priority-signals-overrides</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-priority-signals-overrides">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-priority-signals-overrides①">(2)</a> <a href="#ref-for-interest-group-priority-signals-overrides②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-execution-mode" class="dfn-panel" data-for="interest-group-execution-mode" id="infopanel-for-interest-group-execution-mode">
   <span id="infopaneltitle-for-interest-group-execution-mode" style="display:none">Info about the 'execution mode' definition.</span><b><a href="#interest-group-execution-mode">#interest-group-execution-mode</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-execution-mode">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-execution-mode①">(2)</a> <a href="#ref-for-interest-group-execution-mode②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-bidding-url" class="dfn-panel" data-for="interest-group-bidding-url" id="infopanel-for-interest-group-bidding-url">
   <span id="infopaneltitle-for-interest-group-bidding-url" style="display:none">Info about the 'bidding url' definition.</span><b><a href="#interest-group-bidding-url">#interest-group-bidding-url</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-bidding-url">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-bidding-url①">(2)</a>
    <li><a href="#ref-for-interest-group-bidding-url②">4. Running Ad Auctions</a>
    <li><a href="#ref-for-interest-group-bidding-url③">7.1. Interest group</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-bidding-wasm-helper-url" class="dfn-panel" data-for="interest-group-bidding-wasm-helper-url" id="infopanel-for-interest-group-bidding-wasm-helper-url">
   <span id="infopaneltitle-for-interest-group-bidding-wasm-helper-url" style="display:none">Info about the 'bidding wasm helper url' definition.</span><b><a href="#interest-group-bidding-wasm-helper-url">#interest-group-bidding-wasm-helper-url</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-bidding-wasm-helper-url">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-bidding-wasm-helper-url①">(2)</a>
    <li><a href="#ref-for-interest-group-bidding-wasm-helper-url②">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-daily-update-url" class="dfn-panel" data-for="interest-group-daily-update-url" id="infopanel-for-interest-group-daily-update-url">
   <span id="infopaneltitle-for-interest-group-daily-update-url" style="display:none">Info about the 'daily update url' definition.</span><b><a href="#interest-group-daily-update-url">#interest-group-daily-update-url</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-daily-update-url">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-daily-update-url①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-trusted-bidding-signals-url" class="dfn-panel" data-for="interest-group-trusted-bidding-signals-url" id="infopanel-for-interest-group-trusted-bidding-signals-url">
   <span id="infopaneltitle-for-interest-group-trusted-bidding-signals-url" style="display:none">Info about the 'trusted bidding signals url' definition.</span><b><a href="#interest-group-trusted-bidding-signals-url">#interest-group-trusted-bidding-signals-url</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-trusted-bidding-signals-url">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-trusted-bidding-signals-url①">(2)</a> <a href="#ref-for-interest-group-trusted-bidding-signals-url②">(3)</a>
    <li><a href="#ref-for-interest-group-trusted-bidding-signals-url③">4. Running Ad Auctions</a>
    <li><a href="#ref-for-interest-group-trusted-bidding-signals-url④">7.4. Per buyer bid generator</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-trusted-bidding-signals-keys" class="dfn-panel" data-for="interest-group-trusted-bidding-signals-keys" id="infopanel-for-interest-group-trusted-bidding-signals-keys">
   <span id="infopaneltitle-for-interest-group-trusted-bidding-signals-keys" style="display:none">Info about the 'trusted bidding signals keys' definition.</span><b><a href="#interest-group-trusted-bidding-signals-keys">#interest-group-trusted-bidding-signals-keys</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-trusted-bidding-signals-keys">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-trusted-bidding-signals-keys①">(2)</a>
    <li><a href="#ref-for-interest-group-trusted-bidding-signals-keys②">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-user-bidding-signals" class="dfn-panel" data-for="interest-group-user-bidding-signals" id="infopanel-for-interest-group-user-bidding-signals">
   <span id="infopaneltitle-for-interest-group-user-bidding-signals" style="display:none">Info about the 'user bidding signals' definition.</span><b><a href="#interest-group-user-bidding-signals">#interest-group-user-bidding-signals</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-user-bidding-signals">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-user-bidding-signals①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-ads" class="dfn-panel" data-for="interest-group-ads" id="infopanel-for-interest-group-ads">
   <span id="infopaneltitle-for-interest-group-ads" style="display:none">Info about the 'ads' definition.</span><b><a href="#interest-group-ads">#interest-group-ads</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-ads">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-ads①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-ad-components" class="dfn-panel" data-for="interest-group-ad-components" id="infopanel-for-interest-group-ad-components">
   <span id="infopaneltitle-for-interest-group-ad-components" style="display:none">Info about the 'ad components' definition.</span><b><a href="#interest-group-ad-components">#interest-group-ad-components</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-ad-components">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-ad-components①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-joining-origin" class="dfn-panel" data-for="interest-group-joining-origin" id="infopanel-for-interest-group-joining-origin">
   <span id="infopaneltitle-for-interest-group-joining-origin" style="display:none">Info about the 'joining origin' definition.</span><b><a href="#interest-group-joining-origin">#interest-group-joining-origin</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-joining-origin">2. Joining Interest Groups</a>
    <li><a href="#ref-for-interest-group-joining-origin①">4. Running Ad Auctions</a>
    <li><a href="#ref-for-interest-group-joining-origin②">7.5. Per signals url bid generator</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-ad" class="dfn-panel" data-for="interest-group-ad" id="infopanel-for-interest-group-ad">
   <span id="infopaneltitle-for-interest-group-ad" style="display:none">Info about the '7.2. Interest group ad' definition.</span><b><a href="#interest-group-ad">#interest-group-ad</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-ad">2. Joining Interest Groups</a>
    <li><a href="#ref-for-interest-group-ad①">7.1. Interest group</a> <a href="#ref-for-interest-group-ad②">(2)</a>
    <li><a href="#ref-for-interest-group-ad">7.2. Interest group ad</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-ad-render-url" class="dfn-panel" data-for="interest-group-ad-render-url" id="infopanel-for-interest-group-ad-render-url">
   <span id="infopaneltitle-for-interest-group-ad-render-url" style="display:none">Info about the 'render url' definition.</span><b><a href="#interest-group-ad-render-url">#interest-group-ad-render-url</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-ad-render-url">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-ad-render-url①">(2)</a> <a href="#ref-for-interest-group-ad-render-url②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-ad-metadata" class="dfn-panel" data-for="interest-group-ad-metadata" id="infopanel-for-interest-group-ad-metadata">
   <span id="infopaneltitle-for-interest-group-ad-metadata" style="display:none">Info about the 'metadata' definition.</span><b><a href="#interest-group-ad-metadata">#interest-group-ad-metadata</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-ad-metadata">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-ad-metadata①">(2)</a> <a href="#ref-for-interest-group-ad-metadata②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config" class="dfn-panel" data-for="auction-config" id="infopanel-for-auction-config">
   <span id="infopaneltitle-for-auction-config" style="display:none">Info about the '7.3. Auction config' definition.</span><b><a href="#auction-config">#auction-config</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config">4. Running Ad Auctions</a> <a href="#ref-for-auction-config①">(2)</a> <a href="#ref-for-auction-config②">(3)</a> <a href="#ref-for-auction-config③">(4)</a> <a href="#ref-for-auction-config④">(5)</a>
    <li><a href="#ref-for-auction-config">7.3. Auction config</a> <a href="#ref-for-auction-config⑤">(2)</a> <a href="#ref-for-auction-config⑥">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-seller" class="dfn-panel" data-for="auction-config-seller" id="infopanel-for-auction-config-seller">
   <span id="infopaneltitle-for-auction-config-seller" style="display:none">Info about the 'seller' definition.</span><b><a href="#auction-config-seller">#auction-config-seller</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-seller">4. Running Ad Auctions</a> <a href="#ref-for-auction-config-seller①">(2)</a> <a href="#ref-for-auction-config-seller②">(3)</a> <a href="#ref-for-auction-config-seller③">(4)</a> <a href="#ref-for-auction-config-seller④">(5)</a> <a href="#ref-for-auction-config-seller⑤">(6)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-decision-logic-url" class="dfn-panel" data-for="auction-config-decision-logic-url" id="infopanel-for-auction-config-decision-logic-url">
   <span id="infopaneltitle-for-auction-config-decision-logic-url" style="display:none">Info about the 'decision logic url' definition.</span><b><a href="#auction-config-decision-logic-url">#auction-config-decision-logic-url</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-decision-logic-url">4. Running Ad Auctions</a> <a href="#ref-for-auction-config-decision-logic-url①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-trusted-scoring-signals-url" class="dfn-panel" data-for="auction-config-trusted-scoring-signals-url" id="infopanel-for-auction-config-trusted-scoring-signals-url">
   <span id="infopaneltitle-for-auction-config-trusted-scoring-signals-url" style="display:none">Info about the 'trusted scoring signals url' definition.</span><b><a href="#auction-config-trusted-scoring-signals-url">#auction-config-trusted-scoring-signals-url</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-trusted-scoring-signals-url">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-interest-group-buyers" class="dfn-panel" data-for="auction-config-interest-group-buyers" id="infopanel-for-auction-config-interest-group-buyers">
   <span id="infopaneltitle-for-auction-config-interest-group-buyers" style="display:none">Info about the 'interest group buyers' definition.</span><b><a href="#auction-config-interest-group-buyers">#auction-config-interest-group-buyers</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-interest-group-buyers">4. Running Ad Auctions</a> <a href="#ref-for-auction-config-interest-group-buyers①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-auction-signals" class="dfn-panel" data-for="auction-config-auction-signals" id="infopanel-for-auction-config-auction-signals">
   <span id="infopaneltitle-for-auction-config-auction-signals" style="display:none">Info about the 'auction signals' definition.</span><b><a href="#auction-config-auction-signals">#auction-config-auction-signals</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-auction-signals">4. Running Ad Auctions</a> <a href="#ref-for-auction-config-auction-signals①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-seller-signals" class="dfn-panel" data-for="auction-config-seller-signals" id="infopanel-for-auction-config-seller-signals">
   <span id="infopaneltitle-for-auction-config-seller-signals" style="display:none">Info about the 'seller signals' definition.</span><b><a href="#auction-config-seller-signals">#auction-config-seller-signals</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-seller-signals">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-seller-timeout" class="dfn-panel" data-for="auction-config-seller-timeout" id="infopanel-for-auction-config-seller-timeout">
   <span id="infopaneltitle-for-auction-config-seller-timeout" style="display:none">Info about the 'seller timeout' definition.</span><b><a href="#auction-config-seller-timeout">#auction-config-seller-timeout</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-seller-timeout">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-per-buyer-signals" class="dfn-panel" data-for="auction-config-per-buyer-signals" id="infopanel-for-auction-config-per-buyer-signals">
   <span id="infopaneltitle-for-auction-config-per-buyer-signals" style="display:none">Info about the 'per buyer signals' definition.</span><b><a href="#auction-config-per-buyer-signals">#auction-config-per-buyer-signals</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-per-buyer-signals">4. Running Ad Auctions</a> <a href="#ref-for-auction-config-per-buyer-signals①">(2)</a> <a href="#ref-for-auction-config-per-buyer-signals②">(3)</a> <a href="#ref-for-auction-config-per-buyer-signals③">(4)</a> <a href="#ref-for-auction-config-per-buyer-signals④">(5)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-per-buyer-timeouts" class="dfn-panel" data-for="auction-config-per-buyer-timeouts" id="infopanel-for-auction-config-per-buyer-timeouts">
   <span id="infopaneltitle-for-auction-config-per-buyer-timeouts" style="display:none">Info about the 'per buyer timeouts' definition.</span><b><a href="#auction-config-per-buyer-timeouts">#auction-config-per-buyer-timeouts</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-per-buyer-timeouts">4. Running Ad Auctions</a>
    <li><a href="#ref-for-auction-config-per-buyer-timeouts①">7.3. Auction config</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-all-buyers-timeout" class="dfn-panel" data-for="auction-config-all-buyers-timeout" id="infopanel-for-auction-config-all-buyers-timeout">
   <span id="infopaneltitle-for-auction-config-all-buyers-timeout" style="display:none">Info about the 'all buyers timeout' definition.</span><b><a href="#auction-config-all-buyers-timeout">#auction-config-all-buyers-timeout</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-all-buyers-timeout">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-per-buyer-group-limits" class="dfn-panel" data-for="auction-config-per-buyer-group-limits" id="infopanel-for-auction-config-per-buyer-group-limits">
   <span id="infopaneltitle-for-auction-config-per-buyer-group-limits" style="display:none">Info about the 'per buyer group limits' definition.</span><b><a href="#auction-config-per-buyer-group-limits">#auction-config-per-buyer-group-limits</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-per-buyer-group-limits">4. Running Ad Auctions</a>
    <li><a href="#ref-for-auction-config-per-buyer-group-limits①">7.3. Auction config</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-all-buyers-group-limit" class="dfn-panel" data-for="auction-config-all-buyers-group-limit" id="infopanel-for-auction-config-all-buyers-group-limit">
   <span id="infopaneltitle-for-auction-config-all-buyers-group-limit" style="display:none">Info about the 'all buyers group limit' definition.</span><b><a href="#auction-config-all-buyers-group-limit">#auction-config-all-buyers-group-limit</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-all-buyers-group-limit">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-per-buyer-priority-signals" class="dfn-panel" data-for="auction-config-per-buyer-priority-signals" id="infopanel-for-auction-config-per-buyer-priority-signals">
   <span id="infopaneltitle-for-auction-config-per-buyer-priority-signals" style="display:none">Info about the 'per buyer priority signals' definition.</span><b><a href="#auction-config-per-buyer-priority-signals">#auction-config-per-buyer-priority-signals</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-per-buyer-priority-signals">4. Running Ad Auctions</a>
    <li><a href="#ref-for-auction-config-per-buyer-priority-signals①">7.3. Auction config</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-all-buyers-priority-signals" class="dfn-panel" data-for="auction-config-all-buyers-priority-signals" id="infopanel-for-auction-config-all-buyers-priority-signals">
   <span id="infopaneltitle-for-auction-config-all-buyers-priority-signals" style="display:none">Info about the 'all buyers priority signals' definition.</span><b><a href="#auction-config-all-buyers-priority-signals">#auction-config-all-buyers-priority-signals</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-all-buyers-priority-signals">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-component-auctions" class="dfn-panel" data-for="auction-config-component-auctions" id="infopanel-for-auction-config-component-auctions">
   <span id="infopaneltitle-for-auction-config-component-auctions" style="display:none">Info about the 'component auctions' definition.</span><b><a href="#auction-config-component-auctions">#auction-config-component-auctions</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-component-auctions">4. Running Ad Auctions</a> <a href="#ref-for-auction-config-component-auctions①">(2)</a> <a href="#ref-for-auction-config-component-auctions②">(3)</a> <a href="#ref-for-auction-config-component-auctions③">(4)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-seller-experiment-group-id" class="dfn-panel" data-for="auction-config-seller-experiment-group-id" id="infopanel-for-auction-config-seller-experiment-group-id">
   <span id="infopaneltitle-for-auction-config-seller-experiment-group-id" style="display:none">Info about the 'seller experiment group id' definition.</span><b><a href="#auction-config-seller-experiment-group-id">#auction-config-seller-experiment-group-id</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-seller-experiment-group-id">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-per-buyer-experiment-group-ids" class="dfn-panel" data-for="auction-config-per-buyer-experiment-group-ids" id="infopanel-for-auction-config-per-buyer-experiment-group-ids">
   <span id="infopaneltitle-for-auction-config-per-buyer-experiment-group-ids" style="display:none">Info about the 'per buyer experiment group ids' definition.</span><b><a href="#auction-config-per-buyer-experiment-group-ids">#auction-config-per-buyer-experiment-group-ids</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-per-buyer-experiment-group-ids">4. Running Ad Auctions</a> <a href="#ref-for-auction-config-per-buyer-experiment-group-ids①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-all-buyer-experiment-group-id" class="dfn-panel" data-for="auction-config-all-buyer-experiment-group-id" id="infopanel-for-auction-config-all-buyer-experiment-group-id">
   <span id="infopaneltitle-for-auction-config-all-buyer-experiment-group-id" style="display:none">Info about the 'all buyer experiment group id' definition.</span><b><a href="#auction-config-all-buyer-experiment-group-id">#auction-config-all-buyer-experiment-group-id</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-all-buyer-experiment-group-id">4. Running Ad Auctions</a> <a href="#ref-for-auction-config-all-buyer-experiment-group-id①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-per-buyer-bid-generator" class="dfn-panel" data-for="per-buyer-bid-generator" id="infopanel-for-per-buyer-bid-generator">
   <span id="infopaneltitle-for-per-buyer-bid-generator" style="display:none">Info about the '7.4. Per buyer bid generator' definition.</span><b><a href="#per-buyer-bid-generator">#per-buyer-bid-generator</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-per-buyer-bid-generator">4. Running Ad Auctions</a> <a href="#ref-for-per-buyer-bid-generator①">(2)</a>
    <li><a href="#ref-for-per-buyer-bid-generator">7.4. Per buyer bid generator</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-per-signals-url-bid-generator" class="dfn-panel" data-for="per-signals-url-bid-generator" id="infopanel-for-per-signals-url-bid-generator">
   <span id="infopaneltitle-for-per-signals-url-bid-generator" style="display:none">Info about the '7.5. Per signals url bid generator' definition.</span><b><a href="#per-signals-url-bid-generator">#per-signals-url-bid-generator</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-per-signals-url-bid-generator">4. Running Ad Auctions</a> <a href="#ref-for-per-signals-url-bid-generator①">(2)</a>
    <li><a href="#ref-for-per-signals-url-bid-generator②">7.4. Per buyer bid generator</a>
    <li><a href="#ref-for-per-signals-url-bid-generator">7.5. Per signals url bid generator</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-generated-bid" class="dfn-panel" data-for="generated-bid" id="infopanel-for-generated-bid">
   <span id="infopaneltitle-for-generated-bid" style="display:none">Info about the '7.6. Generated bid' definition.</span><b><a href="#generated-bid">#generated-bid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-generated-bid">4. Running Ad Auctions</a> <a href="#ref-for-generated-bid①">(2)</a> <a href="#ref-for-generated-bid②">(3)</a>
    <li><a href="#ref-for-generated-bid">7.6. Generated bid</a>
    <li><a href="#ref-for-generated-bid③">7.8. Leading bid info</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-generated-bid-bid" class="dfn-panel" data-for="generated-bid-bid" id="infopanel-for-generated-bid-bid">
   <span id="infopaneltitle-for-generated-bid-bid" style="display:none">Info about the 'bid' definition.</span><b><a href="#generated-bid-bid">#generated-bid-bid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-generated-bid-bid">4. Running Ad Auctions</a> <a href="#ref-for-generated-bid-bid①">(2)</a> <a href="#ref-for-generated-bid-bid②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-generated-bid-render" class="dfn-panel" data-for="generated-bid-render" id="infopanel-for-generated-bid-render">
   <span id="infopaneltitle-for-generated-bid-render" style="display:none">Info about the 'render' definition.</span><b><a href="#generated-bid-render">#generated-bid-render</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-generated-bid-render">4. Running Ad Auctions</a> <a href="#ref-for-generated-bid-render①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-score-ad-output" class="dfn-panel" data-for="score-ad-output" id="infopanel-for-score-ad-output">
   <span id="infopaneltitle-for-score-ad-output" style="display:none">Info about the '7.7. Score ad output' definition.</span><b><a href="#score-ad-output">#score-ad-output</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-score-ad-output">7.7. Score ad output</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-score-ad-output-desirability" class="dfn-panel" data-for="score-ad-output-desirability" id="infopanel-for-score-ad-output-desirability">
   <span id="infopaneltitle-for-score-ad-output-desirability" style="display:none">Info about the 'desirability' definition.</span><b><a href="#score-ad-output-desirability">#score-ad-output-desirability</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-score-ad-output-desirability">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-score-ad-output-allow-component-auction" class="dfn-panel" data-for="score-ad-output-allow-component-auction" id="infopanel-for-score-ad-output-allow-component-auction">
   <span id="infopaneltitle-for-score-ad-output-allow-component-auction" style="display:none">Info about the 'allow component auction' definition.</span><b><a href="#score-ad-output-allow-component-auction">#score-ad-output-allow-component-auction</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-score-ad-output-allow-component-auction">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-score-ad-output-bid" class="dfn-panel" data-for="score-ad-output-bid" id="infopanel-for-score-ad-output-bid">
   <span id="infopaneltitle-for-score-ad-output-bid" style="display:none">Info about the 'bid' definition.</span><b><a href="#score-ad-output-bid">#score-ad-output-bid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-score-ad-output-bid">4. Running Ad Auctions</a> <a href="#ref-for-score-ad-output-bid①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-leading-bid-info" class="dfn-panel" data-for="leading-bid-info" id="infopanel-for-leading-bid-info">
   <span id="infopaneltitle-for-leading-bid-info" style="display:none">Info about the '7.8. Leading bid info' definition.</span><b><a href="#leading-bid-info">#leading-bid-info</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-leading-bid-info">4. Running Ad Auctions</a> <a href="#ref-for-leading-bid-info①">(2)</a>
    <li><a href="#ref-for-leading-bid-info">7.8. Leading bid info</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-leading-bid-info-top-score" class="dfn-panel" data-for="leading-bid-info-top-score" id="infopanel-for-leading-bid-info-top-score">
   <span id="infopaneltitle-for-leading-bid-info-top-score" style="display:none">Info about the 'top score' definition.</span><b><a href="#leading-bid-info-top-score">#leading-bid-info-top-score</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-leading-bid-info-top-score">4. Running Ad Auctions</a> <a href="#ref-for-leading-bid-info-top-score①">(2)</a> <a href="#ref-for-leading-bid-info-top-score②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-leading-bid-info-top-bids-count" class="dfn-panel" data-for="leading-bid-info-top-bids-count" id="infopanel-for-leading-bid-info-top-bids-count">
   <span id="infopaneltitle-for-leading-bid-info-top-bids-count" style="display:none">Info about the 'top bids count' definition.</span><b><a href="#leading-bid-info-top-bids-count">#leading-bid-info-top-bids-count</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-leading-bid-info-top-bids-count">4. Running Ad Auctions</a> <a href="#ref-for-leading-bid-info-top-bids-count①">(2)</a> <a href="#ref-for-leading-bid-info-top-bids-count②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-leading-bid-info-leading-bid" class="dfn-panel" data-for="leading-bid-info-leading-bid" id="infopanel-for-leading-bid-info-leading-bid">
   <span id="infopaneltitle-for-leading-bid-info-leading-bid" style="display:none">Info about the 'leading bid' definition.</span><b><a href="#leading-bid-info-leading-bid">#leading-bid-info-leading-bid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-leading-bid-info-leading-bid">4. Running Ad Auctions</a> <a href="#ref-for-leading-bid-info-leading-bid①">(2)</a> <a href="#ref-for-leading-bid-info-leading-bid②">(3)</a> <a href="#ref-for-leading-bid-info-leading-bid③">(4)</a>
   </ul>
  </aside>
<script>/* script-dfn-panel */
"use strict";
{
    function queryAll(sel) {
        return [].slice.call(document.querySelectorAll(sel));
    }

    // Add popup behavior to all dfns to show the corresponding dfn-panel.
    var dfns = document.querySelectorAll('.dfn-paneled');
    for (let dfn of dfns) { insertDfnPopupAction(dfn); }

    document.body.addEventListener("click", (e) => {
        // If not handled already, just hide all dfn panels.
        hideAllDfnPanels();
    });

    function hideAllDfnPanels() {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>hideDfnPanel(el));
    }

    function showDfnPanel(dfnPanel, dfn) {
        hideAllDfnPanels(); // Only display one at this time.
        dfn.setAttribute("aria-expanded", "true");
        dfnPanel.classList.add("on");
        dfnPanel.style.left = "5px";
        dfnPanel.style.top = "0px";
        const panelRect = dfnPanel.getBoundingClientRect();
        const panelWidth = panelRect.right - panelRect.left;
        if (panelRect.right > document.body.scrollWidth) {
            // Panel's overflowing the screen.
            // Just drop it below the dfn and flip it rightward instead.
            // This still wont' fix things if the screen is *really* wide,
            // but fixing that's a lot harder without 'anchor()'.
            dfnPanel.style.top = "1.5em";
            dfnPanel.style.left = "auto";
            dfnPanel.style.right = "0px";
        }
    }

    function pinDfnPanel(dfnPanel) {
        // Switch it to "activated" state, which pins it.
        dfnPanel.classList.add("activated");
        dfnPanel.style.left = null;
        dfnPanel.style.top = null;
    }

    function hideDfnPanel(dfnPanel, dfn) {
        if(!dfn) {
            dfn = document.getElementById(dfnPanel.getAttribute("data-for"));
        }
        dfn.setAttribute("aria-expanded", "false")
        dfnPanel.classList.remove("on");
        dfnPanel.classList.remove("activated");
    }

    function toggleDfnPanel(dfnPanel, dfn) {
        if(dfnPanel.classList.contains("on")) {
            hideDfnPanel(dfnPanel, dfn);
        } else {
            showDfnPanel(dfnPanel, dfn);
        }
    }

    function insertDfnPopupAction(dfn) {
        // Find dfn panel
        const dfnPanel = document.querySelector(`.dfn-panel[data-for='${dfn.id}']`);
        if (dfnPanel) {
            const panelWrapper = document.createElement('span');
            panelWrapper.appendChild(dfnPanel);
            panelWrapper.style.position = "relative";
            panelWrapper.style.height = "0px";
            dfn.insertAdjacentElement("afterend", panelWrapper);
            dfn.setAttribute('role', 'button');
            dfn.setAttribute('aria-expanded', 'false')
            dfn.tabIndex = 0;
            dfn.classList.add('has-dfn-panel');
            dfn.addEventListener('click', (event) => {
                showDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
            });
            dfn.addEventListener('keypress', (event) => {
                const kc = event.keyCode;
                // 32->Space, 13->Enter
                if(kc == 32 || kc == 13) {
                    toggleDfnPanel(dfnPanel, dfn);
                    event.stopPropagation();
                    event.preventDefault();
                }
            });

            dfnPanel.addEventListener('click', (event) => {
                pinDfnPanel(dfnPanel);
                event.stopPropagation();
            });

            dfnPanel.addEventListener('keydown', (event) => {
                if(event.keyCode == 27) { // Escape key
                    hideDfnPanel(dfnPanel, dfn);
                    event.stopPropagation();
                    event.preventDefault();
                }
            })

        } else {
            console.log("Couldn't find .dfn-panel[data-for='" + dfn.id + "']");
        }
    }
}
</script>
<script>/* script-var-click-highlighting */

    "use strict";
    {
        document.addEventListener("click", e=>{
            if(e.target.nodeName == "VAR") {
                highlightSameAlgoVars(e.target);
            }
        });
        const indexCounts = new Map();
        const indexNames = new Map();
        function highlightSameAlgoVars(v) {
            // Find the algorithm container.
            let algoContainer = null;
            let searchEl = v;
            while(algoContainer == null && searchEl != document.body) {
                searchEl = searchEl.parentNode;
                if(searchEl.hasAttribute("data-algorithm")) {
                    algoContainer = searchEl;
                }
            }

            // Not highlighting document-global vars,
            // too likely to be unrelated.
            if(algoContainer == null) return;

            const algoName = algoContainer.getAttribute("data-algorithm");
            const varName = getVarName(v);
            const addClass = !v.classList.contains("selected");
            let highlightClass = null;
            if(addClass) {
                const index = chooseHighlightIndex(algoName, varName);
                indexCounts.get(algoName)[index] += 1;
                indexNames.set(algoName+"///"+varName, index);
                highlightClass = nameFromIndex(index);
            } else {
                const index = previousHighlightIndex(algoName, varName);
                indexCounts.get(algoName)[index] -= 1;
                highlightClass = nameFromIndex(index);
            }

            // Find all same-name vars, and toggle their class appropriately.
            for(const el of algoContainer.querySelectorAll("var")) {
                if(getVarName(el) == varName) {
                    el.classList.toggle("selected", addClass);
                    el.classList.toggle(highlightClass, addClass);
                }
            }
        }
        function getVarName(el) {
            return el.textContent.replace(/(\s|\xa0)+/, " ").trim();
        }
        function chooseHighlightIndex(algoName, varName) {
            let indexes = null;
            if(indexCounts.has(algoName)) {
                indexes = indexCounts.get(algoName);
            } else {
                // 7 classes right now
                indexes = [0,0,0,0,0,0,0];
                indexCounts.set(algoName, indexes);
            }

            // If the element was recently unclicked,
            // *and* that color is still unclaimed,
            // give it back the same color.
            const lastIndex = previousHighlightIndex(algoName, varName);
            if(indexes[lastIndex] === 0) return lastIndex;

            // Find the earliest index with the lowest count.
            const minCount = Math.min.apply(null, indexes);
            let index = null;
            for(var i = 0; i < indexes.length; i++) {
                if(indexes[i] == minCount) {
                    return i;
                }
            }
        }
        function previousHighlightIndex(algoName, varName) {
            return indexNames.get(algoName+"///"+varName);
        }
        function nameFromIndex(index) {
            return "selected" + index;
        }
    }
    </script>