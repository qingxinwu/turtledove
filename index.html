<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>FLEDGE</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <link href="https://www.w3.org/StyleSheets/TR/2021/cg-draft" rel="stylesheet">
  <meta content="Bikeshed version d9bd89757, updated Thu Mar 23 10:06:53 2023 -0700" name="generator">
  <link href="https://wicg.github.io/turtledove/" rel="canonical">
  <meta content="a7cc9757eb6239d358344d69c34c911c1a8b46c7" name="document-revision">
<style>/* style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}
</style>
<style>/* style-colors */

/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}
</style>
<style>/* style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    min-width: min-content;
    max-width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0; }
.dfn-panel li { list-style: inside; }
.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled { cursor: pointer; }
</style>
<style>/* style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* style-selflinks */

:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* style-syntax-highlighting */

            pre.idl.highlight {
                background: var(--borderedblock-bg, var(--def-bg));
            }
            
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */
</style>
<style>/* style-var-click-highlighting */

    var { cursor: pointer; }
    var.selected0 { background-color: #F4D200; box-shadow: 0 0 0 2px #F4D200; }
    var.selected1 { background-color: #FF87A2; box-shadow: 0 0 0 2px #FF87A2; }
    var.selected2 { background-color: #96E885; box-shadow: 0 0 0 2px #96E885; }
    var.selected3 { background-color: #3EEED2; box-shadow: 0 0 0 2px #3EEED2; }
    var.selected4 { background-color: #EACFB6; box-shadow: 0 0 0 2px #EACFB6; }
    var.selected5 { background-color: #82DDFF; box-shadow: 0 0 0 2px #82DDFF; }
    var.selected6 { background-color: #FFBCF2; box-shadow: 0 0 0 2px #FFBCF2; }
    </style>
<style>/* style-darkmode */

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}

@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
    }
}

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
   <h1 class="p-name no-ref allcaps" id="title">FLEDGE</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types#CG-DRAFT">Draft Community Group Report</a>, <time class="dt-updated" datetime="2023-04-14">14 April 2023</time></p>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://wicg.github.io/turtledove/">https://wicg.github.io/turtledove/</a>
     <dt class="editor">Editor:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:pauljensen@google.com">Paul Jensen</a> (<a class="p-org org" href="https://www.google.com/">Google</a>)
     <dt>Participate:
     <dd><a href="https://github.com/WICG/turtledove">GitHub WICG/turtledove</a> (<a href="https://github.com/WICG/turtledove/issues/new">new issue</a>, <a href="https://github.com/WICG/turtledove/issues?state=open">open issues</a>)
     <dt>Commits:
     <dd><a href="https://github.com/WICG/turtledove/commits/main/spec.bs">GitHub spec.bs commits</a>
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2023 the Contributors to the FLEDGE Specification, published by the <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a> under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a>.
A human-readable <a href="http://www.w3.org/community/about/agreements/cla-deed/">summary</a> is available. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>Provides a privacy advancing API to facilitate interest group based advertising.</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <h2 class="no-num no-toc no-ref heading settled" id="status"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> This specification was published by the <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a>.
  It is not a W3C Standard nor is it on the W3C Standards Track.

  Please note that under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a> there is a limited opt-out and other conditions apply.

  Learn more about <a href="http://www.w3.org/community/">W3C Community and Business Groups</a>. </p>
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li><a href="#joining-interest-groups"><span class="secno">2</span> <span class="content">Joining Interest Groups</span></a>
    <li><a href="#leaving-interest-groups"><span class="secno">3</span> <span class="content">Leaving Interest Groups</span></a>
    <li>
     <a href="#running-ad-auctions"><span class="secno">4</span> <span class="content">Running Ad Auctions</span></a>
     <ol class="toc">
      <li><a href="#runadauction"><span class="secno">4.1</span> <span class="content">runAdAuction()</span></a>
     </ol>
    <li>
     <a href="#script-runners"><span class="secno">5</span> <span class="content">Script Runners</span></a>
     <ol class="toc">
      <li><a href="#script-evaluation"><span class="secno">5.1</span> <span class="content">Script evaluation</span></a>
      <li><a href="#global-scopes"><span class="secno">5.2</span> <span class="content">Global scopes</span></a>
     </ol>
    <li><a href="#interest-group-updates"><span class="secno">6</span> <span class="content">Interest Group Updates</span></a>
    <li><a href="#permissions-policy-integration"><span class="secno">7</span> <span class="content">Permissions Policy integration</span></a>
    <li>
     <a href="#structures"><span class="secno">8</span> <span class="content">Structures</span></a>
     <ol class="toc">
      <li><a href="#interest-group"><span class="secno">8.1</span> <span class="content">Interest group</span></a>
      <li><a href="#interest-group-ad"><span class="secno">8.2</span> <span class="content">Interest group ad</span></a>
      <li><a href="#auction-config"><span class="secno">8.3</span> <span class="content">Auction config</span></a>
      <li><a href="#per-buyer-bid-generator"><span class="secno">8.4</span> <span class="content">Per buyer bid generator</span></a>
      <li><a href="#per-signals-url-bid-generator"><span class="secno">8.5</span> <span class="content">Per signals url bid generator</span></a>
      <li><a href="#generated-bid"><span class="secno">8.6</span> <span class="content">Generated bid</span></a>
      <li><a href="#ad-descriptor"><span class="secno">8.7</span> <span class="content">Ad descriptor</span></a>
      <li><a href="#ad-size"><span class="secno">8.8</span> <span class="content">Ad size</span></a>
      <li><a href="#score-ad-output"><span class="secno">8.9</span> <span class="content">Score ad output</span></a>
      <li><a href="#leading-bid-info"><span class="secno">8.10</span> <span class="content">Leading bid info</span></a>
     </ol>
    <li><a href="#privacy-considerations"><span class="secno">9</span> <span class="content">Privacy Considerations</span></a>
    <li><a href="#security-considerations"><span class="secno">10</span> <span class="content">Security Considerations</span></a>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
   <p><em>This section is non-normative</em></p>
   <p>The FLEDGE API facilitates selecting an advertisement to display to a user based on a previous
interaction with the advertiser or advertising network.</p>
   <p>When a user’s interactions with an advertiser indicate an interest in something, the advertiser can
ask the browser to record this interest on-device by calling <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator" id="ref-for-dom-navigator">navigator</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigator-joinadinterestgroup" id="ref-for-dom-navigator-joinadinterestgroup">joinAdInterestGroup()</a></code>. Later, when a website wants to select an
advertisement to show to the user, the website can call <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator" id="ref-for-dom-navigator①">navigator</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigator-runadauction" id="ref-for-dom-navigator-runadauction">runAdAuction()</a></code> to ask the browser to conduct an auction where
each of these on-device recorded interests are given the chance to calculate a bid to display their
advertisement.</p>
   <h2 class="heading settled" data-level="2" id="joining-interest-groups"><span class="secno">2. </span><span class="content">Joining Interest Groups</span><a class="self-link" href="#joining-interest-groups"></a></h2>
   <p>When a user’s interactions with a website indicate that the user may have a particular interest, an
advertiser or someone working on behalf of the advertiser (e.g. a demand side platform, DSP) can ask
the user’s browser to record this interest on-device by calling <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator" id="ref-for-dom-navigator②">navigator</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigator-joinadinterestgroup" id="ref-for-dom-navigator-joinadinterestgroup①">joinAdInterestGroup()</a></code>. This indicates an intent to display an
advertisement relevant to this interest to this user in the future. The user agent has an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="interest-group-set">interest group set</dfn>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list">list</a> of <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group">interest groups</a> in which <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner">owner</a> / <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name">name</a> pairs are unique.</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-navigator"><c- g>Navigator</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigator-joinadinterestgroup" id="ref-for-dom-navigator-joinadinterestgroup②"><c- g>joinAdInterestGroup</c-></a>(<a data-link-type="idl-name" href="#dictdef-auctionadinterestgroup" id="ref-for-dictdef-auctionadinterestgroup"><c- n>AuctionAdInterestGroup</c-></a> <dfn class="idl-code" data-dfn-for="Navigator/joinAdInterestGroup(group, durationSeconds)" data-dfn-type="argument" data-export id="dom-navigator-joinadinterestgroup-group-durationseconds-group"><code><c- g>group</c-></code><a class="self-link" href="#dom-navigator-joinadinterestgroup-group-durationseconds-group"></a></dfn>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double"><c- b>double</c-></a> <dfn class="idl-code" data-dfn-for="Navigator/joinAdInterestGroup(group, durationSeconds)" data-dfn-type="argument" data-export id="dom-navigator-joinadinterestgroup-group-durationseconds-durationseconds"><code><c- g>durationSeconds</c-></code><a class="self-link" href="#dom-navigator-joinadinterestgroup-group-durationseconds-durationseconds"></a></dfn>);
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-auctionad"><code><c- g>AuctionAd</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAd" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionad-renderurl"><code><c- g>renderURL</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAd" data-dfn-type="dict-member" data-export data-type="any " id="dom-auctionad-metadata"><code><c- g>metadata</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-auctionadinterestgroup"><code><c- g>AuctionAdInterestGroup</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionadinterestgroup-owner"><code><c- g>owner</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionadinterestgroup-name"><code><c- g>name</c-></code></dfn>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①"><c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-default="0.0" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="double " id="dom-auctionadinterestgroup-priority"><code><c- g>priority</c-></code></dfn> = 0.0;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="boolean " id="dom-auctionadinterestgroup-enablebiddingsignalsprioritization"><code><c- g>enableBiddingSignalsPrioritization</c-></code></dfn> = <c- b>false</c->;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double②"><c- b>double</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="record<DOMString, double> " id="dom-auctionadinterestgroup-priorityvector"><code><c- g>priorityVector</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record①"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①"><c- b>DOMString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double③"><c- b>double</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="record<DOMString, double> " id="dom-auctionadinterestgroup-prioritysignalsoverrides"><code><c- g>prioritySignalsOverrides</c-></code></dfn>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;compatibility&quot;" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="DOMString " id="dom-auctionadinterestgroup-executionmode"><code><c- g>executionMode</c-></code></dfn> = "compatibility";
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString③"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionadinterestgroup-biddinglogicurl"><code><c- g>biddingLogicURL</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString④"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionadinterestgroup-biddingwasmhelperurl"><code><c- g>biddingWasmHelperURL</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑤"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionadinterestgroup-dailyupdateurl"><code><c- g>dailyUpdateURL</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑥"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionadinterestgroup-trustedbiddingsignalsurl"><code><c- g>trustedBiddingSignalsURL</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑦"><c- b>USVString</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="sequence<USVString> " id="dom-auctionadinterestgroup-trustedbiddingsignalskeys"><code><c- g>trustedBiddingSignalsKeys</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any①"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="any " id="dom-auctionadinterestgroup-userbiddingsignals"><code><c- g>userBiddingSignals</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence①"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-auctionad" id="ref-for-dictdef-auctionad"><c- n>AuctionAd</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="sequence<AuctionAd> " id="dom-auctionadinterestgroup-ads"><code><c- g>ads</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence②"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-auctionad" id="ref-for-dictdef-auctionad①"><c- n>AuctionAd</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="sequence<AuctionAd> " id="dom-auctionadinterestgroup-adcomponents"><code><c- g>adComponents</c-></code></dfn>;
};
</pre>
   <div class="algorithm" data-algorithm="joinAdInterestGroup()">
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Navigator" data-dfn-type="method" data-export id="dom-navigator-joinadinterestgroup"><code>joinAdInterestGroup(<var>group</var>, <var>durationSeconds</var>)</code></dfn> method steps
are:</p>
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window">associated Document</a> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use" id="ref-for-allowed-to-use">allowed to use</a> the
"<a data-link-type="dfn" href="#join-ad-interest-group" id="ref-for-join-ad-interest-group">join-ad-interest-group</a>" <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature">policy-controlled feature</a>, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw">throw</a> a
"<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror">NotAllowedError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code>.</p>
     <li data-md>
      <p>Let <var>frameOrigin</var> be the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object">relevant settings object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin">origin</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert">Assert</a> that <var>frameOrigin</var> is not an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque" id="ref-for-concept-origin-opaque">opaque origin</a> and its <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-scheme" id="ref-for-concept-origin-scheme">scheme</a> is "https".</p>
     <li data-md>
      <p>Let <var>interestGroup</var> be a new <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group①">interest group</a>.</p>
     <li data-md>
      <p>Validate the given <var>group</var> and set <var>interestGroup</var>’s fields accordingly.</p>
      <ol>
       <li data-md>
        <p>Set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-expiry" id="ref-for-interest-group-expiry">expiry</a> to now plus <var>durationSeconds</var>.</p>
       <li data-md>
        <p>Set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-next-update-after" id="ref-for-interest-group-next-update-after">next update after</a> to now plus 24 hours.</p>
       <li data-md>
        <p>Let <var>ownerUrl</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser">URL parser</a> on <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-owner" id="ref-for-dom-auctionadinterestgroup-owner">owner</a></code>"].</p>
        <ol>
         <li data-md>
          <p>If <var>ownerUrl</var> is an error, or its <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme">scheme</a> is not "<code>https</code>", <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror">TypeError</a></code>.</p>
         <li data-md>
          <p>Set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner①">owner</a> to <var>ownerUrl</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin">origin</a>.</p>
        </ol>
       <li data-md>
        <p>Set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name①">name</a> to <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-name" id="ref-for-dom-auctionadinterestgroup-name">name</a></code>"].</p>
       <li data-md>
        <p>Set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-priority" id="ref-for-interest-group-priority">priority</a> to <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-priority" id="ref-for-dom-auctionadinterestgroup-priority">priority</a></code>"].</p>
       <li data-md>
        <p>Set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-enable-bidding-signals-prioritization" id="ref-for-interest-group-enable-bidding-signals-prioritization">enable bidding signals prioritization</a> to <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-enablebiddingsignalsprioritization" id="ref-for-dom-auctionadinterestgroup-enablebiddingsignalsprioritization">enableBiddingSignalsPrioritization</a></code>"].</p>
       <li data-md>
        <p>If <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-priorityvector" id="ref-for-dom-auctionadinterestgroup-priorityvector">priorityVector</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists">exists</a>, then set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-priority-vector" id="ref-for-interest-group-priority-vector">priority vector</a> to <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-priorityvector" id="ref-for-dom-auctionadinterestgroup-priorityvector①">priorityVector</a></code>"].</p>
       <li data-md>
        <p>If <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-prioritysignalsoverrides" id="ref-for-dom-auctionadinterestgroup-prioritysignalsoverrides">prioritySignalsOverrides</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①">exists</a>, then set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-priority-signals-overrides" id="ref-for-interest-group-priority-signals-overrides">priority signals overrides</a> to <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-prioritysignalsoverrides" id="ref-for-dom-auctionadinterestgroup-prioritysignalsoverrides①">prioritySignalsOverrides</a></code>"].</p>
       <li data-md>
        <p>Set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-execution-mode" id="ref-for-interest-group-execution-mode">execution mode</a> to <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-executionmode" id="ref-for-dom-auctionadinterestgroup-executionmode">executionMode</a></code>"].</p>
       <li data-md>
        <p>For each <var>groupMember</var> and <var>interestGroupField</var> in the following table </p>
        <p></p>
        <table class="data">
         <thead>
          <tr>
           <th>Group member
           <th>Interest group field
         <tbody>
          <tr>
           <td>"<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-biddinglogicurl" id="ref-for-dom-auctionadinterestgroup-biddinglogicurl">biddingLogicURL</a></code>"
           <td><a data-link-type="dfn" href="#interest-group-bidding-url" id="ref-for-interest-group-bidding-url">bidding url</a>
          <tr>
           <td>"<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-biddingwasmhelperurl" id="ref-for-dom-auctionadinterestgroup-biddingwasmhelperurl">biddingWasmHelperURL</a></code>"
           <td><a data-link-type="dfn" href="#interest-group-bidding-wasm-helper-url" id="ref-for-interest-group-bidding-wasm-helper-url">bidding wasm helper url</a>
          <tr>
           <td>"<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-dailyupdateurl" id="ref-for-dom-auctionadinterestgroup-dailyupdateurl">dailyUpdateURL</a></code>"
           <td><a data-link-type="dfn" href="#interest-group-daily-update-url" id="ref-for-interest-group-daily-update-url">daily update url</a>
          <tr>
           <td>"<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-trustedbiddingsignalsurl" id="ref-for-dom-auctionadinterestgroup-trustedbiddingsignalsurl">trustedBiddingSignalsURL</a></code>"
           <td><a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-url" id="ref-for-interest-group-trusted-bidding-signals-url">trusted bidding signals url</a>
        </table>
        <ol>
         <li data-md>
          <p>If <var>group</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②">contains</a> <var>groupMember</var>:</p>
          <ol>
           <li data-md>
            <p>Let <var>parsedUrl</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser①">URL parser</a> on <var>group</var>[<var>groupMember</var>].</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②">Throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①">TypeError</a></code> if any of the following conditions hold:</p>
            <ul>
             <li data-md>
              <p><var>parsedUrl</var> is an error;</p>
             <li data-md>
              <p><var>parsedUrl</var> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin">same origin</a> with <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner②">owner</a>;</p>
             <li data-md>
              <p><var>parsedUrl</var> <a data-link-type="dfn" href="https://url.spec.whatwg.org/#include-credentials" id="ref-for-include-credentials">includes credentials</a>;</p>
             <li data-md>
              <p><var>parsedUrl</var> <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-fragment" id="ref-for-concept-url-fragment">fragment</a> is not null.</p>
            </ul>
           <li data-md>
            <p>Set <var>interestGroup</var>’s <var>interestGroupField</var> to <var>parsedUrl</var>.</p>
          </ol>
        </ol>
       <li data-md>
        <p>If <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-url" id="ref-for-interest-group-trusted-bidding-signals-url①">trusted bidding signals url</a>'s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-query" id="ref-for-concept-url-query">query</a> is not
null, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw③">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②">TypeError</a></code>.</p>
       <li data-md>
        <p>If <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-trustedbiddingsignalskeys" id="ref-for-dom-auctionadinterestgroup-trustedbiddingsignalskeys">trustedBiddingSignalsKeys</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③">exists</a>, then set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-keys" id="ref-for-interest-group-trusted-bidding-signals-keys">trusted bidding signals keys</a> to <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-trustedbiddingsignalskeys" id="ref-for-dom-auctionadinterestgroup-trustedbiddingsignalskeys①">trustedBiddingSignalsKeys</a></code>"].</p>
       <li data-md>
        <p>If <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-userbiddingsignals" id="ref-for-dom-auctionadinterestgroup-userbiddingsignals">userBiddingSignals</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists④">exists</a>:</p>
        <ol>
         <li data-md>
          <p>Let <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-user-bidding-signals" id="ref-for-interest-group-user-bidding-signals">user bidding signals</a> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string" id="ref-for-serialize-a-javascript-value-to-a-json-string">serializing a JavaScript value to a JSON string</a>, given <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-userbiddingsignals" id="ref-for-dom-auctionadinterestgroup-userbiddingsignals①">userBiddingSignals</a></code>"]. This can <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw④">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror③">TypeError</a></code>.</p>
        </ol>
       <li data-md>
        <p>For each <var>groupMember</var> and <var>interestGroupField</var> in the following table </p>
        <p></p>
        <table class="data">
         <thead>
          <tr>
           <th>Group member
           <th>Interest group field
         <tbody>
          <tr>
           <td>"<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-ads" id="ref-for-dom-auctionadinterestgroup-ads">ads</a></code>"
           <td><a data-link-type="dfn" href="#interest-group-ads" id="ref-for-interest-group-ads">ads</a>
          <tr>
           <td>"<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-adcomponents" id="ref-for-dom-auctionadinterestgroup-adcomponents">adComponents</a></code>"
           <td><a data-link-type="dfn" href="#interest-group-ad-components" id="ref-for-interest-group-ad-components">ad components</a>
        </table>
        <ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate">For each</a> <var>ad</var> of <var>group</var>[<var>groupMember</var>]:</p>
          <ol>
           <li data-md>
            <p>Let <var>igAd</var> be a new <a data-link-type="dfn" href="#interest-group-ad" id="ref-for-interest-group-ad">interest group ad</a>.</p>
           <li data-md>
            <p>Let <var>renderURL</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser②">URL parser</a> on <var>ad</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionad-renderurl" id="ref-for-dom-auctionad-renderurl">renderURL</a></code>"].</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑤">Throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror④">TypeError</a></code> if any of the following conditions hold:</p>
            <ul>
             <li data-md>
              <p><var>renderURL</var> is an error;</p>
             <li data-md>
              <p><var>renderURL</var> <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme①">scheme</a> is not "<code>https</code>";</p>
             <li data-md>
              <p><var>renderURL</var> <a data-link-type="dfn" href="https://url.spec.whatwg.org/#include-credentials" id="ref-for-include-credentials①">includes credentials</a>.</p>
            </ul>
           <li data-md>
            <p>Set <var>igAd</var>’s <a data-link-type="dfn" href="#interest-group-ad-render-url" id="ref-for-interest-group-ad-render-url">render url</a> to <var>renderURL</var>.</p>
           <li data-md>
            <p>If <var>ad</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionad-metadata" id="ref-for-dom-auctionad-metadata">metadata</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑤">exists</a>, then let <var>igAd</var>’s <a data-link-type="dfn" href="#interest-group-ad-metadata" id="ref-for-interest-group-ad-metadata">metadata</a> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string" id="ref-for-serialize-a-javascript-value-to-a-json-string①">serializing a JavaScript value to a JSON string</a>, given <var>ad</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionad-metadata" id="ref-for-dom-auctionad-metadata①">metadata</a></code>"].
This can <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑥">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑤">TypeError</a></code>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append">Append</a> <var>igAd</var> to <var>interestGroup</var>’s <var>interestGroupField</var>.</p>
          </ol>
        </ol>
      </ol>
     <li data-md>
      <p>If <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-estimated-size" id="ref-for-interest-group-estimated-size">estimated size</a> is greater than 50 KB, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑦">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑥">TypeError</a></code>.</p>
     <li data-md>
      <p>Let <var>p</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise">a new promise</a>.</p>
     <li data-md>
      <p>Let <var>queue</var> be the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue" id="ref-for-starting-a-new-parallel-queue">starting a new parallel queue</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps" id="ref-for-enqueue-the-following-steps">Enqueue the following steps</a> to <var>queue</var>:</p>
      <ol>
       <li data-md>
        <p>Let <var>permission</var> be the result of <a data-link-type="dfn" href="#check-interest-group-permissions" id="ref-for-check-interest-group-permissions">checking interest group permissions</a> with <var>ownerUrl</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin">origin</a>, <var>frameOrigin</var>, and true.</p>
       <li data-md>
        <p>If <var>permission</var> is false, then <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task">queue a task</a> to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject">reject</a> <var>p</var> with a
 "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror①">NotAllowedError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①">DOMException</a></code> and do not run the remaining steps.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task①">Queue a task</a> to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve">resolve</a> <var>p</var> with <code>undefined</code>.</p>
       <li data-md>
        <p>If the browser is currently storing an interest group with <code>owner</code> and <code>name</code> that matches <var>interestGroup</var>, then set the <a data-link-type="dfn" href="#interest-group-bid-counts" id="ref-for-interest-group-bid-counts">bid counts</a>, <a data-link-type="dfn" href="#interest-group-join-counts" id="ref-for-interest-group-join-counts">join counts</a>, and <a data-link-type="dfn" href="#interest-group-previous-wins" id="ref-for-interest-group-previous-wins">previous wins</a> of <var>interestGroup</var> to the values of the currently stored one and remove
the currently stored one from the browser.</p>
       <li data-md>
        <p>Set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-joining-origin" id="ref-for-interest-group-joining-origin">joining origin</a> to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object①">relevant settings object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin" id="ref-for-concept-environment-top-level-origin">top-level origin</a>.</p>
       <li data-md>
        <p>If the most recent entry in <a data-link-type="dfn" href="#interest-group-join-counts" id="ref-for-interest-group-join-counts①">join counts</a> corresponds to
the current local day, increment its count. If not, insert a new entry with
the time set to the current local day and a count of 1.</p>
       <li data-md>
        <p>Store <var>interestGroup</var> in the browser’s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set">interest group set</a>.</p>
      </ol>
     <li data-md>
      <p>Return <var>p</var>.</p>
    </ol>
   </div>
   <p>The <dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-estimated-size">estimated size</dfn> of an <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group②">interest group</a> <var>ig</var> is the sum of:</p>
   <ol>
    <li data-md>
     <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length">length</a> of the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin" id="ref-for-ascii-serialisation-of-an-origin">serialization</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner③">owner</a>.</p>
    <li data-md>
     <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length①">length</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name②">name</a>.</p>
    <li data-md>
     <p>8 bytes, which is the size of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-priority" id="ref-for-interest-group-priority①">priority</a>.</p>
    <li data-md>
     <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length②">length</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-execution-mode" id="ref-for-interest-group-execution-mode①">execution mode</a>.</p>
    <li data-md>
     <p>2 bytes, which is the size of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-enable-bidding-signals-prioritization" id="ref-for-interest-group-enable-bidding-signals-prioritization①">enable bidding signals prioritization</a>.</p>
    <li data-md>
     <p>If <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-priority-vector" id="ref-for-interest-group-priority-vector①">priority vector</a> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate">for each</a> <var>key</var> → <var>value</var> of <a data-link-type="dfn" href="#interest-group-priority-vector" id="ref-for-interest-group-priority-vector②">priority vector</a>:</p>
     <ol>
      <li data-md>
       <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length③">length</a> of <var>key</var>.</p>
      <li data-md>
       <p>8 bytes, which is the size of <var>value</var>.</p>
     </ol>
    <li data-md>
     <p>If <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-priority-signals-overrides" id="ref-for-interest-group-priority-signals-overrides①">priority signals overrides</a> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate①">for each</a> <var>key</var> → <var>value</var> of <a data-link-type="dfn" href="#interest-group-priority-signals-overrides" id="ref-for-interest-group-priority-signals-overrides②">priority signals overrides</a>:</p>
     <ol>
      <li data-md>
       <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length④">length</a> of <var>key</var>.</p>
      <li data-md>
       <p>8 bytes, which is the size of <var>value</var>.</p>
     </ol>
    <li data-md>
     <p>The size of <a data-link-type="dfn" href="#interest-group-execution-mode" id="ref-for-interest-group-execution-mode②">execution mode</a>.</p>
    <li data-md>
     <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length⑤">length</a> of the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer">serialization</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-bidding-url" id="ref-for-interest-group-bidding-url①">bidding url</a>, if the field is not null.</p>
    <li data-md>
     <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length⑥">length</a> of the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer①">serialization</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-bidding-wasm-helper-url" id="ref-for-interest-group-bidding-wasm-helper-url①">bidding wasm helper url</a>, if the field is not null.</p>
    <li data-md>
     <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length⑦">length</a> of the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer②">serialization</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-daily-update-url" id="ref-for-interest-group-daily-update-url①">daily update url</a>, if the field is not null.</p>
    <li data-md>
     <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length⑧">length</a> of the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer③">serialization</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-url" id="ref-for-interest-group-trusted-bidding-signals-url②">trusted bidding signals url</a>, if the field is not null.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①">For each</a> <var>key</var> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-keys" id="ref-for-interest-group-trusted-bidding-signals-keys①">trusted bidding signals keys</a>:</p>
     <ol>
      <li data-md>
       <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length⑨">length</a> of <var>key</var>.</p>
     </ol>
    <li data-md>
     <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length①⓪">length</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-user-bidding-signals" id="ref-for-interest-group-user-bidding-signals①">user bidding signals</a>.</p>
    <li data-md>
     <p>If <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-ads" id="ref-for-interest-group-ads①">ads</a> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②">for each</a> <var>ad</var> of it:</p>
     <ol>
      <li data-md>
       <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length①①">length</a> of the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer④">serialization</a> of <var>ad</var>’s <a data-link-type="dfn" href="#interest-group-ad-render-url" id="ref-for-interest-group-ad-render-url①">render url</a>.</p>
      <li data-md>
       <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length①②">length</a> of <var>ad</var>’s <a data-link-type="dfn" href="#interest-group-ad-metadata" id="ref-for-interest-group-ad-metadata①">metadata</a> if the field is not null.</p>
     </ol>
    <li data-md>
     <p>If <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-ad-components" id="ref-for-interest-group-ad-components①">ad components</a> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate③">for each</a> <var>ad</var> of it:</p>
     <ol>
      <li data-md>
       <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length①③">length</a> of the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer⑤">serialization</a> of <var>ad</var>’s <a data-link-type="dfn" href="#interest-group-ad-render-url" id="ref-for-interest-group-ad-render-url②">render url</a>.</p>
      <li data-md>
       <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length①④">length</a> of <var>ad</var>’s <a data-link-type="dfn" href="#interest-group-ad-metadata" id="ref-for-interest-group-ad-metadata②">metadata</a> if the field is not null.</p>
     </ol>
   </ol>
   <div class="algorithm" data-algorithm="check interest group permissions">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="check-interest-group-permissions">check interest group permissions</dfn> given an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①">origin</a> <var>ownerOrigin</var>, an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin②">origin</a> <var>frameOrigin</var>, and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean">boolean</a> <var>isJoin</var>:</p>
    <ol>
     <li data-md>
      <p>If <var>ownerOrigin</var> is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin①">same origin</a> to <var>frameOrigin</var>, then return true.</p>
     <li data-md>
      <p>Let <var>permissionsUrl</var> be the result of <a data-link-type="dfn" href="#build-an-interest-group-permissions-url" id="ref-for-build-an-interest-group-permissions-url">building an interest group permissions url</a> with <var>ownerOrigin</var> and <var>frameOrigin</var>.</p>
     <li data-md>
      <p>Let <var>request</var> be the result of <a data-link-type="dfn" href="#create-a-request" id="ref-for-create-a-request">creating a request</a> with <var>permissionsUrl</var>, <a data-link-type="dfn" href="#create-a-request-accept" id="ref-for-create-a-request-accept">accept</a> set to "<code>application/json</code>"|. TODO: <a href="https://source.chromium.org/chromium/chromium/src/+/main:content/browser/interest_group/interest_group_permissions_checker.cc;drc=adac219925ef5d9c9a954d189c2e4b8852a4bbed;l=123">maybe</a> require cors mode here?</p>
     <li data-md>
      <p>Let <var>resource</var> be null.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch">Fetch</a> <var>request</var> with <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#process-response-end-of-body" id="ref-for-process-response-end-of-body">processResponseConsumeBody</a> set to the following steps given a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response">response</a> <var>response</var> and <var>responseBody</var>:</p>
      <ol>
       <li data-md>
        <p>If <var>responseBody</var> is null or failure, set <var>resource</var> to failure and return.</p>
       <li data-md>
        <p>Let <var>headers</var> be <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list">header list</a>.</p>
       <li data-md>
        <p>If <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-get-structured-header" id="ref-for-concept-header-list-get-structured-header">getting a structured field value</a> "X-Allow-FLEDGE" from <var>headers</var> does not
return true, set <var>resource</var> to failure and return.</p>
       <li data-md>
        <p>Let <var>mimeType</var> be the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-extract-mime-type" id="ref-for-concept-header-extract-mime-type">extracting a MIME type</a> from <var>headers</var>.</p>
       <li data-md>
        <p>If <var>mimeType</var> is failure or is not a <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#json-mime-type" id="ref-for-json-mime-type">JSON MIME Type</a>, throw, set <var>resource</var> to failure and return.</p>
       <li data-md>
        <p>Set <var>resource</var> to <var>responseBody</var>.</p>
      </ol>
     <li data-md>
      <p>Wait for <var>resource</var> to be set.</p>
     <li data-md>
      <p>If <var>resource</var> is failure, then return false.</p>
     <li data-md>
      <p>Let <var>permissions</var> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#parse-a-json-string-to-an-infra-value" id="ref-for-parse-a-json-string-to-an-infra-value">parsing a JSON string to an Infra value</a>, returning false on failure.</p>
     <li data-md>
      <p>If <var>permissions</var> is not an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map">ordered map</a>, then return false.</p>
     <li data-md>
      <p>If <var>isJoin</var> is true and <var>permissions</var>["<code>joinAdInterestGroup</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑥">exists</a>, then return <var>permissions</var>["<code>joinAdInterestGroup</code>"].</p>
     <li data-md>
      <p>If <var>isJoin</var> is false and <var>permissions</var>["<code>leaveAdInterestGroup</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑦">exists</a>, then return <var>permissions</var>["<code>leaveAdInterestGroup</code>"].</p>
     <li data-md>
      <p>Return false.</p>
    </ol>
    <p>The browser may cache requests for <var>permissionsUrl</var> within a network partition.</p>
    <p>In order to prevent leaking data, the browser must request <var>permissionsUrl</var> regardless of whether the user is a member of the ad interest group. This
prevents a leak of the user’s ad interest group membership to the server.</p>
   </div>
   <div class="algorithm" data-algorithm="build an interest group permissions url">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="build-an-interest-group-permissions-url">build an interest group permissions url</dfn> given a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin③">origin</a> <var>ownerOrigin</var> and a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin④">origin</a> <var>frameOrigin</var>:</p>
    <ol>
     <li data-md>
      <p>Let <var>serializedFrameOrigin</var> be the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin" id="ref-for-ascii-serialisation-of-an-origin①">serializing</a> <var>frameOrigin</var>.</p>
     <li data-md>
      <p>Return the string formed by <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-concatenate" id="ref-for-string-concatenate">concatenating</a></p>
      <ul>
       <li data-md>
        <p>The <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin" id="ref-for-ascii-serialisation-of-an-origin②">serialization</a> of <var>ownerOrigin</var>,</p>
       <li data-md>
        <p>The string "<code>/.well-known/interest-group/permissions/?origin=</code>", and</p>
       <li data-md>
        <p>The result of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#string-utf-8-percent-encode" id="ref-for-string-utf-8-percent-encode">UTF-8 percent-encoding</a> <var>serializedFrameOrigin</var> using <a data-link-type="dfn" href="https://url.spec.whatwg.org/#component-percent-encode-set" id="ref-for-component-percent-encode-set">component percent-encode set</a>.</p>
      </ul>
    </ol>
   </div>
   <h2 class="heading settled" data-level="3" id="leaving-interest-groups"><span class="secno">3. </span><span class="content">Leaving Interest Groups</span><a class="self-link" href="#leaving-interest-groups"></a></h2>
   <p>In order to remove a user from a particular interest group,</p>
   <p><code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator" id="ref-for-dom-navigator③">navigator</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigator-leaveadinterestgroup" id="ref-for-dom-navigator-leaveadinterestgroup">leaveAdInterestGroup()</a></code> can be called.</p>
   <p>TODO: Edit the following from the explainer. As a special case to support in-ad UIs, invoking
navigator.leaveAdInterestGroup() from inside an ad that is being targeted at a particular interest
group will cause the browser to leave that group, irrespective of permission policies. Note that
calling navigator.leaveAdInterestGroup() without arguments isn’t supported inside a component ad
frame.</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext①"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-navigator①"><c- g>Navigator</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigator-leaveadinterestgroup" id="ref-for-dom-navigator-leaveadinterestgroup①"><c- g>leaveAdInterestGroup</c-></a>(<a data-link-type="idl-name" href="#dictdef-auctionadinterestgroupkey" id="ref-for-dictdef-auctionadinterestgroupkey"><c- n>AuctionAdInterestGroupKey</c-></a> <dfn class="idl-code" data-dfn-for="Navigator/leaveAdInterestGroup(group)" data-dfn-type="argument" data-export id="dom-navigator-leaveadinterestgroup-group-group"><code><c- g>group</c-></code><a class="self-link" href="#dom-navigator-leaveadinterestgroup-group-group"></a></dfn>);
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-auctionadinterestgroupkey"><code><c- g>AuctionAdInterestGroupKey</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑧"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdInterestGroupKey" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionadinterestgroupkey-owner"><code><c- g>owner</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑨"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdInterestGroupKey" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionadinterestgroupkey-name"><code><c- g>name</c-></code></dfn>;
};
</pre>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Navigator" data-dfn-type="method" data-export id="dom-navigator-leaveadinterestgroup"><code>leaveAdInterestGroup(group)</code></dfn> method steps
are:</p>
   <ol>
    <li data-md>
     <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global①">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window①">associated Document</a> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use" id="ref-for-allowed-to-use①">allowed to use</a> the
"<a data-link-type="dfn" href="#join-ad-interest-group" id="ref-for-join-ad-interest-group①">join-ad-interest-group</a>" <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature①">policy-controlled feature</a>, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑧">throw</a> a
"<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror②">NotAllowedError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②">DOMException</a></code>.</p>
    <li data-md>
     <p>Let <var>ownerUrl</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser③">URL parser</a> on <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroupkey-owner" id="ref-for-dom-auctionadinterestgroupkey-owner">owner</a></code>"].</p>
    <li data-md>
     <p>If <var>ownerUrl</var> is failure, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑨">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑦">TypeError</a></code>.</p>
    <li data-md>
     <p>Let <var>owner</var> be <var>ownerUrl</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin①">origin</a>.</p>
    <li data-md>
     <p>Let <var>name</var> be <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroupkey-name" id="ref-for-dom-auctionadinterestgroupkey-name">name</a></code>"].</p>
    <li data-md>
     <p>Let <var>p</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①">a new promise</a>.</p>
    <li data-md>
     <p>Run these steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel">in parallel</a>:</p>
     <ol>
      <li data-md>
       <p>TODO: document .well-known fetches for cross-origin leaves.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task②">Queue a task</a> to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve①">resolve</a> <var>p</var> with <code>undefined</code>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove">Remove</a> <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group③">interest groups</a> from the user agent’s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set①">interest group set</a> whose <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner④">owner</a> is <var>owner</var> and <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name③">name</a> is <var>name</var>.</p>
     </ol>
    <li data-md>
     <p>Return <var>p</var>.</p>
   </ol>
   <h2 class="heading settled" data-level="4" id="running-ad-auctions"><span class="secno">4. </span><span class="content">Running Ad Auctions</span><a class="self-link" href="#running-ad-auctions"></a></h2>
   <p>When a website or someone working on behalf of the website (e.g. a supply side platform, SSP) wants
to conduct an auction to select an advertisement to display to the user, they can call the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator" id="ref-for-dom-navigator④">navigator</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigator-runadauction" id="ref-for-dom-navigator-runadauction①">runAdAuction()</a></code> function, providing an auction configuration that
tells the browser how to conduct the auction and which on-device recorded interests are allowed to
bid in the auction for the chance to display their advertisement.</p>
   <h3 class="heading settled" data-level="4.1" id="runadauction"><span class="secno">4.1. </span><span class="content">runAdAuction()</span><a class="self-link" href="#runadauction"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext②"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-navigator②"><c- g>Navigator</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⓪"><c- b>USVString</c-></a>?> <a class="idl-code" data-link-type="method" href="#dom-navigator-runadauction" id="ref-for-dom-navigator-runadauction②"><c- g>runAdAuction</c-></a>(<a data-link-type="idl-name" href="#dictdef-auctionadconfig" id="ref-for-dictdef-auctionadconfig"><c- n>AuctionAdConfig</c-></a> <dfn class="idl-code" data-dfn-for="Navigator/runAdAuction(config)" data-dfn-type="argument" data-export id="dom-navigator-runadauction-config-config"><code><c- g>config</c-></code><a class="self-link" href="#dom-navigator-runadauction-config-config"></a></dfn>);
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-auctionadconfig"><code><c- g>AuctionAdConfig</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①①"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionadconfig-seller"><code><c- g>seller</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①②"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionadconfig-decisionlogicurl"><code><c- g>decisionLogicURL</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①③"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionadconfig-trustedscoringsignalsurl"><code><c- g>trustedScoringSignalsURL</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence③"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①④"><c- b>USVString</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="sequence<USVString> " id="dom-auctionadconfig-interestgroupbuyers"><code><c- g>interestGroupBuyers</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any②"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="any " id="dom-auctionadconfig-auctionsignals"><code><c- g>auctionSignals</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any③"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="any " id="dom-auctionadconfig-sellersignals"><code><c- g>sellerSignals</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⑤"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionadconfig-directfromsellersignals"><code><c- g>directFromSellerSignals</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="unsigned long long " id="dom-auctionadconfig-sellertimeout"><code><c- g>sellerTimeout</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short"><c- b>unsigned</c-> <c- b>short</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="unsigned short " id="dom-auctionadconfig-sellerexperimentgroupid"><code><c- g>sellerExperimentGroupId</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record②"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⑥"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any④"><c- b>any</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="record<USVString, any> " id="dom-auctionadconfig-perbuyersignals"><code><c- g>perBuyerSignals</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record③"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⑦"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long①"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="record<USVString, unsigned long long> " id="dom-auctionadconfig-perbuyertimeouts"><code><c- g>perBuyerTimeouts</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record④"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⑧"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short①"><c- b>unsigned</c-> <c- b>short</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="record<USVString, unsigned short> " id="dom-auctionadconfig-perbuyergrouplimits"><code><c- g>perBuyerGroupLimits</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record⑤"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⑨"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short②"><c- b>unsigned</c-> <c- b>short</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="record<USVString, unsigned short> " id="dom-auctionadconfig-perbuyerexperimentgroupids"><code><c- g>perBuyerExperimentGroupIds</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record⑥"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②⓪"><c- b>USVString</c-></a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record⑦"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②①"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double④"><c- b>double</c-></a>>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="record<USVString, record<USVString, double>> " id="dom-auctionadconfig-perbuyerprioritysignals"><code><c- g>perBuyerPrioritySignals</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence④"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-auctionadconfig" id="ref-for-dictdef-auctionadconfig①"><c- n>AuctionAdConfig</c-></a>> <dfn class="dfn-paneled idl-code" data-default="[]" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="sequence<AuctionAdConfig> " id="dom-auctionadconfig-componentauctions"><code><c- g>componentAuctions</c-></code></dfn> = [];
  <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal"><c- n>AbortSignal</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="AbortSignal? " id="dom-auctionadconfig-signal"><code><c- g>signal</c-></code></dfn>;
};
</pre>
   <div class="algorithm" data-algorithm="runAdAuction()">
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Navigator" data-dfn-type="method" data-export id="dom-navigator-runadauction"><code>runAdAuction(<var>config</var>)</code></dfn> method steps are:</p>
    <ol>
     <li data-md>
      <p>Let <var>global</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global②">relevant global object</a>.</p>
     <li data-md>
      <p>If <var>global</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window②">associated Document</a> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use" id="ref-for-allowed-to-use②">allowed to use</a> the "<a data-link-type="dfn" href="#run-ad-auction" id="ref-for-run-ad-auction">run-ad-auction</a>" <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature②">policy-controlled feature</a>, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①⓪">throw</a> a "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror③">NotAllowedError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException③">DOMException</a></code>.</p>
     <li data-md>
      <p>Let <var>auctionConfig</var> be the result of running <a data-link-type="dfn" href="#validate-and-convert-auction-ad-config" id="ref-for-validate-and-convert-auction-ad-config">validate and convert auction ad config</a> with <var>config</var> and <a data-link-type="dfn" href="#validate-and-convert-auction-ad-config-istoplevel" id="ref-for-validate-and-convert-auction-ad-config-istoplevel">isTopLevel</a> set to true.</p>
     <li data-md>
      <p>If <var>auctionConfig</var> is failure, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①①">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑧">TypeError</a></code>.</p>
     <li data-md>
      <p>Let <var>p</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise②">a new promise</a>.</p>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-signal" id="ref-for-dom-auctionadconfig-signal">signal</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑧">exists</a>, then:</p>
      <ol>
       <li data-md>
        <p>Let <var>signal</var> be <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-signal" id="ref-for-dom-auctionadconfig-signal①">signal</a></code>"].</p>
       <li data-md>
        <p>If <var>signal</var> is <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-aborted" id="ref-for-abortsignal-aborted">aborted</a>, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject①">reject</a> <var>p</var> with <var>signal</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-abort-reason" id="ref-for-abortsignal-abort-reason">abort reason</a> and return <var>p</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-add" id="ref-for-abortsignal-add">Add the following abort steps</a> to <var>signal</var>:</p>
        <ol>
         <li data-md>
          <p>TODO: Specify. Abort the auction. If the auction has already completed, this has no
effect. Otherwise, stop running new worklet functions, and do not cause side-effects, like
reporting and updating bid statistics.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject②">Reject</a> <var>p</var> with <var>signal</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-abort-reason" id="ref-for-abortsignal-abort-reason①">abort reason</a>.</p>
        </ol>
      </ol>
     <li data-md>
      <p>Let <var>queue</var> be the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue" id="ref-for-starting-a-new-parallel-queue①">starting a new parallel queue</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps" id="ref-for-enqueue-the-following-steps①">Enqueue the following steps</a> to <var>queue</var>:</p>
      <ol>
       <li data-md>
        <p>Let <var>winner</var> be the result of running <a data-link-type="dfn" href="#generate-and-score-bids" id="ref-for-generate-and-score-bids">generate and score bids</a> with <var>auctionConfig</var>,
null, and <var>global</var>.</p>
       <li data-md>
        <p>TODO: If <var>winner</var> is failure, fail the auction with manually_aborted set to true.</p>
       <li data-md>
        <p>TODO: If <var>winner</var> is null, fail the auction with manually_aborted set to false.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task">Queue a global task</a> on <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source">DOM manipulation task source</a>, given <var>global</var>, to resolve <var>p</var> with <var>winner</var>’s <a data-link-type="dfn" href="#generated-bid-ad-descriptor" id="ref-for-generated-bid-ad-descriptor">ad descriptor</a>. TODO: resolve <var>p</var> with urn-uuid, instead of a
URL.</p>
       <li data-md>
        <p>Run <a data-link-type="dfn" href="#generate-reporting-urls" id="ref-for-generate-reporting-urls">generate reporting URLs</a> with <var>auctionConfig</var> and <var>winner</var>.</p>
       <li data-md>
        <p>Execute the algorithm <a data-link-type="dfn" href="#interest-group-update" id="ref-for-interest-group-update">interest group update</a> using <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-interestgroupbuyers" id="ref-for-dom-auctionadconfig-interestgroupbuyers">interestGroupBuyers</a></code>"] as <code>owners</code>.</p>
       <li data-md>
        <p>TODO: Update bidCount and prevWins for interest groups that participated in the auction.</p>
      </ol>
     <li data-md>
      <p>Return <var>p</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="validate and convert auction ad config">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="validate-and-convert-auction-ad-config">validate and convert auction ad config</dfn> given an <code class="idl"><a data-link-type="idl" href="#dictdef-auctionadconfig" id="ref-for-dictdef-auctionadconfig②">AuctionAdConfig</a></code> <var>config</var> and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean①">boolean</a> <dfn class="dfn-paneled" data-dfn-for="validate and convert auction ad config" data-dfn-type="dfn" data-noexport id="validate-and-convert-auction-ad-config-istoplevel"><var>isTopLevel</var></dfn>:</p>
    <ol>
     <li data-md>
      <p>Let <var>auctionConfig</var> be a new <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config">auction config</a>.</p>
     <li data-md>
      <p>Let <var>seller</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser④">URL parser</a> on <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-seller" id="ref-for-dom-auctionadconfig-seller">seller</a></code>"].</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①②">Throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑨">TypeError</a></code> if <var>seller</var> is an error, or its <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme②">scheme</a> is not
"<code>https</code>".</p>
       <li data-md>
        <p>Set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller">seller</a> to <var>seller</var>.</p>
      </ol>
     <li data-md>
      <p>Let <var>decisionLogicURL</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser⑤">URL parser</a> on <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-decisionlogicurl" id="ref-for-dom-auctionadconfig-decisionlogicurl">decisionLogicURL</a></code>"].</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①③">Throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①⓪">TypeError</a></code> if <var>decisionLogicURL</var> is an error, or it is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin②">same origin</a> with <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller①">seller</a>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①">Assert</a>: <var>decisionLogicURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme③">scheme</a> is "<code>https</code>".</p>
       <li data-md>
        <p>Set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-decision-logic-url" id="ref-for-auction-config-decision-logic-url">decision logic url</a> to <var>decisionLogicURL</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-trustedscoringsignalsurl" id="ref-for-dom-auctionadconfig-trustedscoringsignalsurl">trustedScoringSignalsURL</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑨">exists</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>trustedScoringSignalsURL</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser⑥">URL parser</a> on <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-trustedscoringsignalsurl" id="ref-for-dom-auctionadconfig-trustedscoringsignalsurl①">trustedScoringSignalsURL</a></code>"].</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①④">Throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①①">TypeError</a></code> if <var>trustedScoringSignalsURL</var> is an error,
or it is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin③">same origin</a> with <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller②">seller</a>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert②">Assert</a>: <var>trustedScoringSignalsURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme④">scheme</a> is "<code>https</code>".</p>
       <li data-md>
        <p>Set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-trusted-scoring-signals-url" id="ref-for-auction-config-trusted-scoring-signals-url">trusted scoring signals url</a> to <var>trustedScoringSignalsURL</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-interestgroupbuyers" id="ref-for-dom-auctionadconfig-interestgroupbuyers①">interestGroupBuyers</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⓪">exists</a>, let <var>buyers</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty">empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①">list</a>.</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate④">For each</a> <var>buyerString</var> in <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-interestgroupbuyers" id="ref-for-dom-auctionadconfig-interestgroupbuyers②">interestGroupBuyers</a></code>"]:</p>
        <ol>
         <li data-md>
          <p>Let <var>buyer</var> be the result of <a data-link-type="dfn" href="#parse-an-origin" id="ref-for-parse-an-origin">parsing an origin</a> with <var>buyerString</var>. If <var>buyer</var> is an
error, or <var>buyer</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme⑤">scheme</a> is not "<code>https</code>", then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①⑤">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①②">TypeError</a></code>.
Otherwise, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①">append</a> <var>buyer</var> to <var>buyers</var>.</p>
        </ol>
       <li data-md>
        <p>Set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-interest-group-buyers" id="ref-for-auction-config-interest-group-buyers">interest group buyers</a> to <var>buyers</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-auctionsignals" id="ref-for-dom-auctionadconfig-auctionsignals">auctionSignals</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①①">exists</a>, let <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-auction-signals" id="ref-for-auction-config-auction-signals">auction signals</a> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string" id="ref-for-serialize-a-javascript-value-to-a-json-string②">serializing a JavaScript value to a JSON string</a>, given <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-auctionsignals" id="ref-for-dom-auctionadconfig-auctionsignals①">auctionSignals</a></code>"].</p>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-sellersignals" id="ref-for-dom-auctionadconfig-sellersignals">sellerSignals</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①②">exists</a>, let <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller-signals" id="ref-for-auction-config-seller-signals">seller signals</a> of be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string" id="ref-for-serialize-a-javascript-value-to-a-json-string③">serializing a JavaScript value to a JSON string</a>, given <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-sellersignals" id="ref-for-dom-auctionadconfig-sellersignals①">sellerSignals</a></code>"].</p>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-directfromsellersignals" id="ref-for-dom-auctionadconfig-directfromsellersignals">directFromSellerSignals</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①③">exists</a>, let <var>directFromSellerSignalsPrefix</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser⑦">URL parser</a> on <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-directfromsellersignals" id="ref-for-dom-auctionadconfig-directfromsellersignals①">directFromSellerSignals</a></code>"].</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①⑥">Throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①③">TypeError</a></code> if any of the following conditions hold:</p>
        <ul>
         <li data-md>
          <p><var>directFromSellerSignalsPrefix</var> is an error;</p>
         <li data-md>
          <p><var>directFromSellerSignalsPrefix</var> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin④">same origin</a> with <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller③">seller</a>;</p>
         <li data-md>
          <p><var>directFromSellerSignalsPrefix</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-query" id="ref-for-concept-url-query①">query</a> is not null.</p>
        </ul>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert③">Assert</a>: <var>directFromSellerSignalsPrefix</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme⑥">scheme</a> is "<code>https</code>".</p>
      </ol>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-sellertimeout" id="ref-for-dom-auctionadconfig-sellertimeout">sellerTimeout</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①④">exists</a>, set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller-timeout" id="ref-for-auction-config-seller-timeout">seller timeout</a> to min(<var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-sellertimeout" id="ref-for-dom-auctionadconfig-sellertimeout①">sellerTimeout</a></code>"], 500)
milliseconds.</p>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-sellerexperimentgroupid" id="ref-for-dom-auctionadconfig-sellerexperimentgroupid">sellerExperimentGroupId</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑤">exists</a>:</p>
      <ol>
       <li data-md>
        <p>Set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller-experiment-group-id" id="ref-for-auction-config-seller-experiment-group-id">seller experiment group id</a> to <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-sellerexperimentgroupid" id="ref-for-dom-auctionadconfig-sellerexperimentgroupid①">sellerExperimentGroupId</a></code>"].</p>
      </ol>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyersignals" id="ref-for-dom-auctionadconfig-perbuyersignals">perBuyerSignals</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑥">exists</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate②">for each</a> <var>key</var> → <var>value</var> of <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyersignals" id="ref-for-dom-auctionadconfig-perbuyersignals①">perBuyerSignals</a></code>"]:</p>
      <ol>
       <li data-md>
        <p>Let <var>buyer</var> be the result of <a data-link-type="dfn" href="#parse-an-origin" id="ref-for-parse-an-origin①">parsing an origin</a> with <var>key</var>. If <var>buyer</var> is an error, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①⑦">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①④">TypeError</a></code>.</p>
       <li data-md>
        <p>Let <var>signalsString</var> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string" id="ref-for-serialize-a-javascript-value-to-a-json-string④">serializing a JavaScript value to a JSON string</a>, given <var>value</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set">Set</a> <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-signals" id="ref-for-auction-config-per-buyer-signals">per buyer signals</a>[<var>buyer</var>] to <var>signalsString</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyertimeouts" id="ref-for-dom-auctionadconfig-perbuyertimeouts">perBuyerTimeouts</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑦">exists</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate③">for each</a> <var>key</var> → <var>value</var> of <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyertimeouts" id="ref-for-dom-auctionadconfig-perbuyertimeouts①">perBuyerTimeouts</a></code>"]:</p>
      <ol>
       <li data-md>
        <p>If <var>key</var> equals to "*", then set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-all-buyers-timeout" id="ref-for-auction-config-all-buyers-timeout">all buyers timeout</a> to min(<var>value</var>, 500) milliseconds, and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue">continue</a>.</p>
       <li data-md>
        <p>Let <var>buyer</var> the result of <a data-link-type="dfn" href="#parse-an-origin" id="ref-for-parse-an-origin②">parsing an origin</a> with <var>key</var>. If <var>buyer</var> is an error, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①⑧">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①⑤">TypeError</a></code>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①">Set</a> <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-timeouts" id="ref-for-auction-config-per-buyer-timeouts">per buyer timeouts</a>[<var>buyer</var>] to
min(<var>value</var>, 500) milliseconds.</p>
      </ol>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyergrouplimits" id="ref-for-dom-auctionadconfig-perbuyergrouplimits">perBuyerGroupLimits</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑧">exists</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate④">for each</a> <var>key</var> → <var>value</var> of <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyergrouplimits" id="ref-for-dom-auctionadconfig-perbuyergrouplimits①">perBuyerGroupLimits</a></code>"]:</p>
      <ol>
       <li data-md>
        <p>If <var>value</var> is 0, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①⑨">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①⑥">TypeError</a></code>.</p>
       <li data-md>
        <p>If <var>key</var> equals to "*", then set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-all-buyers-group-limit" id="ref-for-auction-config-all-buyers-group-limit">all buyers group limit</a> to <var>value</var>, and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①">continue</a>.</p>
       <li data-md>
        <p>Let <var>buyer</var> be the result of <a data-link-type="dfn" href="#parse-an-origin" id="ref-for-parse-an-origin③">parsing an origin</a> with <var>key</var>. If <var>buyer</var> is an error, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②⓪">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①⑦">TypeError</a></code>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②">Set</a> <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-group-limits" id="ref-for-auction-config-per-buyer-group-limits">per buyer group limits</a>[<var>buyer</var>] to <var>value</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyerexperimentgroupids" id="ref-for-dom-auctionadconfig-perbuyerexperimentgroupids">perBuyerExperimentGroupIds</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑨">exists</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate⑤">for each</a> <var>key</var> → <var>value</var> of <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyerexperimentgroupids" id="ref-for-dom-auctionadconfig-perbuyerexperimentgroupids①">perBuyerExperimentGroupIds</a></code>"]:</p>
      <ol>
       <li data-md>
        <p>If <var>key</var> equals to "*", then set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-all-buyer-experiment-group-id" id="ref-for-auction-config-all-buyer-experiment-group-id">all buyer experiment group id</a> to <var>value</var>, and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue②">continue</a>.</p>
       <li data-md>
        <p>Let <var>buyer</var> the result of <a data-link-type="dfn" href="#parse-an-origin" id="ref-for-parse-an-origin④">parsing an origin</a> with <var>key</var>. If <var>buyer</var> is an error, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②①">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①⑧">TypeError</a></code>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set③">Set</a> <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-experiment-group-ids" id="ref-for-auction-config-per-buyer-experiment-group-ids">per buyer experiment group ids</a>[<var>buyer</var>] to <var>value</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyerprioritysignals" id="ref-for-dom-auctionadconfig-perbuyerprioritysignals">perBuyerPrioritySignals</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⓪">exists</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate⑥">for each</a> <var>key</var> → <var>value</var> of <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyerprioritysignals" id="ref-for-dom-auctionadconfig-perbuyerprioritysignals①">perBuyerPrioritySignals</a></code>"]:</p>
      <ol>
       <li data-md>
        <p>Let <var>signals</var> be an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values">values</a> are <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double⑤">double</a></code>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate⑦">for each</a> <var>k</var> → <var>v</var> of <var>value</var>:</p>
        <ol>
         <li data-md>
          <p>If <var>k</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-starts-with" id="ref-for-string-starts-with">starts with</a> "browserSignals.", <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②②">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①⑨">TypeError</a></code>.</p>
         <li data-md>
          <p>Set <var>signals</var>[<var>k</var>] to <var>v</var>.</p>
        </ol>
       <li data-md>
        <p>If <var>key</var> equals to "*", then set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-all-buyers-priority-signals" id="ref-for-auction-config-all-buyers-priority-signals">all buyers priority signals</a> to <var>value</var>, and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue③">continue</a>.</p>
       <li data-md>
        <p>Let <var>buyer</var> be the result of <a data-link-type="dfn" href="#parse-an-origin" id="ref-for-parse-an-origin⑤">parsing an origin</a> with <var>key</var>. If it fails, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②③">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②⓪">TypeError</a></code>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set④">Set</a> <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-priority-signals" id="ref-for-auction-config-per-buyer-priority-signals">per buyer priority signals</a>[<var>buyer</var>] to <var>signals</var>.</p>
      </ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑤">For each</a> <var>component</var> in <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-componentauctions" id="ref-for-dom-auctionadconfig-componentauctions">componentAuctions</a></code>"]:</p>
      <ol>
       <li data-md>
        <p>If <var>isTopLevel</var> is false, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②④">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②①">TypeError</a></code>.</p>
       <li data-md>
        <p>Let <var>componentAuction</var> be the result of running <a data-link-type="dfn" href="#validate-and-convert-auction-ad-config" id="ref-for-validate-and-convert-auction-ad-config①">validate and convert auction ad config</a> with <var>component</var> and <a data-link-type="dfn" href="#validate-and-convert-auction-ad-config-istoplevel" id="ref-for-validate-and-convert-auction-ad-config-istoplevel①">isTopLevel</a> set to false.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②">Append</a> <var>componentAuction</var> to <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-component-auctions" id="ref-for-auction-config-component-auctions">component auctions</a>.</p>
      </ol>
     <li data-md>
      <p>Return <var>auctionConfig</var>.</p>
    </ol>
   </div>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-an-origin">parse an origin</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①">string</a> <var>input</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>url</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser⑧">URL parser</a> on <var>input</var>.</p>
    <li data-md>
     <p>If <var>url</var> is an error, then return failure.</p>
    <li data-md>
     <p>Return <var>url</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin②">origin</a>.</p>
   </ol>
   <div class="algorithm" data-algorithm="build bid generators map">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="build-bid-generators-map">build bid generators map</dfn> given an <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config①">auction config</a> <var>auctionConfig</var>:</p>
    <ol>
     <li data-md>
      <p>Let <var>bidGenerators</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①">keys</a> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin⑤">origins</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①">values</a> are <a data-link-type="dfn" href="#per-buyer-bid-generator" id="ref-for-per-buyer-bid-generator">per buyer bid generators</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑥">For each</a> <var>buyer</var> in <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-interest-group-buyers" id="ref-for-auction-config-interest-group-buyers①">interest group buyers</a>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑦">For each</a> <var>ig</var> of the user agent’s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set②">interest group set</a> whose <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner⑤">owner</a> is <var>buyer</var>:</p>
        <ol>
         <li data-md>
          <p>Let <var>signalsUrl</var> be <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-url" id="ref-for-interest-group-trusted-bidding-signals-url③">trusted bidding signals url</a>.</p>
         <li data-md>
          <p>Let <var>joiningOrigin</var> be <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-joining-origin" id="ref-for-interest-group-joining-origin①">joining origin</a>.</p>
         <li data-md>
          <p>If <var>bidGenerators</var> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②①">contain</a> <var>buyer</var>:</p>
          <ol>
           <li data-md>
            <p>Let <var>perBuyerGenerator</var> be a new <a data-link-type="dfn" href="#per-buyer-bid-generator" id="ref-for-per-buyer-bid-generator①">per buyer bid generator</a>.</p>
           <li data-md>
            <p>Let <var>perSignalsUrlGenerator</var> be a new <a data-link-type="dfn" href="#per-signals-url-bid-generator" id="ref-for-per-signals-url-bid-generator">per signals url bid generator</a>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set⑤">Set</a> <var>perSignalsUrlGenerator</var>[<var>joiningOrigin</var>] to « <var>ig</var> ».</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set⑥">Set</a> <var>perBuyerGenerator</var>[<var>signalsUrl</var>] to <var>perSignalsUrlGenerator</var>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set⑦">Set</a> <var>bidGenerators</var>[<var>buyer</var>] to <var>perBuyerGenerator</var>.</p>
           <li data-md>
            <p>TODO: add a perBiddingScriptUrlGenerator layer that replaces the list of IGs with a map
from biddingScriptUrl to a list of IGs.</p>
          </ol>
         <li data-md>
          <p>Otherwise:</p>
          <ol>
           <li data-md>
            <p>Let <var>perBuyerGenerator</var> be <var>bidGenerators</var>[<var>buyer</var>].</p>
           <li data-md>
            <p>If <var>perBuyerGenerator</var> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②②">contain</a> <var>signalsUrl</var>:</p>
            <ol>
             <li data-md>
              <p>Let <var>perSignalsUrlGenerator</var> be a new <a data-link-type="dfn" href="#per-signals-url-bid-generator" id="ref-for-per-signals-url-bid-generator①">per signals url bid generator</a>.</p>
             <li data-md>
              <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set⑧">Set</a> <var>perSignalsUrlGenerator</var>[<var>joiningOrigin</var>] to « <var>ig</var> ».</p>
             <li data-md>
              <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set⑨">Set</a> <var>perBuyerGenerator</var>[<var>signalsUrl</var>] to <var>perSignalsUrlGenerator</var>.</p>
            </ol>
           <li data-md>
            <p>Otherwise:</p>
            <ol>
             <li data-md>
              <p>Let <var>perSignalsUrlGenerator</var> be <var>perBuyerGenerator</var>[<var>signalsUrl</var>].</p>
             <li data-md>
              <p>If <var>perSignalsUrlGenerator</var> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②③">contain</a> <var>joiningOrigin</var>:</p>
              <ol>
               <li data-md>
                <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①⓪">Set</a> <var>perSignalsUrlGenerator</var>[<var>joiningOrigin</var>] to « <var>ig</var> ».</p>
              </ol>
             <li data-md>
              <p>Otherwise:</p>
              <ol>
               <li data-md>
                <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append③">Append</a> <var>ig</var> to <var>perSignalsUrlGenerator</var>[<var>joiningOrigin</var>].</p>
              </ol>
            </ol>
          </ol>
        </ol>
      </ol>
     <li data-md>
      <p>Return <var>bidGenerators</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="generate and score bids">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="generate-and-score-bids">generate and score bids</dfn> given an <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config②">auction config</a> <var>auctionConfig</var>, an <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config③">auction config</a>-or-null <var>topLevelAuctionConfig</var>, and a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#global-object" id="ref-for-global-object">global object</a> <var>global</var>:</p>
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert④">Assert</a> that these steps are running <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①">in parallel</a>.</p>
     <li data-md>
      <p>Let <var>decisionLogicScript</var> be the result of <a data-link-type="dfn" href="#create-a-seller-script-runner" id="ref-for-create-a-seller-script-runner">creating a seller script runner</a> with <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-decision-logic-url" id="ref-for-auction-config-decision-logic-url①">decision logic url</a>.</p>
     <li data-md>
      <p>If <var>decisionLogicScript</var> is failure, return null.</p>
     <li data-md>
      <p>Let <var>bidGenerators</var> be the result of running <a data-link-type="dfn" href="#build-bid-generators-map" id="ref-for-build-bid-generators-map">build bid generators map</a> with <var>auctionConfig</var>.</p>
     <li data-md>
      <p>Let <var>leadingBidInfo</var> be a new <a data-link-type="dfn" href="#leading-bid-info" id="ref-for-leading-bid-info">leading bid info</a>.</p>
     <li data-md>
      <p>Let <var>queue</var> be the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue" id="ref-for-starting-a-new-parallel-queue②">starting a new parallel queue</a>.</p>
     <li data-md>
      <p>If <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-component-auctions" id="ref-for-auction-config-component-auctions①">component auctions</a> are not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①">empty</a>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑤">Assert</a> <var>topLevelAuctionConfig</var> is null.</p>
       <li data-md>
        <p>Let <var>pendingComponentAuctions</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size">size</a> of <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-component-auctions" id="ref-for-auction-config-component-auctions②">component auctions</a>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑧">For each</a> <var>component</var> in <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-component-auctions" id="ref-for-auction-config-component-auctions③">component auctions</a>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps" id="ref-for-enqueue-the-following-steps②">enqueue the following steps</a> to <var>queue</var>:</p>
        <ol>
         <li data-md>
          <p>Let <var>compWinner</var> be the result of <a data-link-type="dfn" href="#generate-and-score-bids" id="ref-for-generate-and-score-bids①">generate and score bids</a> with <var>component</var>, <var>auctionConfig</var>, and <var>global</var>.</p>
         <li data-md>
          <p>If <var>compWinner</var> is not failure or null, <a data-link-type="dfn" href="#score-and-rank-a-bid" id="ref-for-score-and-rank-a-bid">score and rank a bid</a> with <var>auctionConfig</var>, <var>compWinner</var>, <var>leadingBidInfo</var>, <var>desisionLogicScript</var>, and true.</p>
         <li data-md>
          <p>Decrement <var>pendingComponentAuctions</var> by 1.</p>
        </ol>
       <li data-md>
        <p>Wait until <var>pendingComponentAuctions</var> is 0.</p>
       <li data-md>
        <p>Return <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-leading-bid" id="ref-for-leading-bid-info-leading-bid">leading bid</a>.</p>
      </ol>
     <li data-md>
      <p>Let <var>allBuyersExperimentGroupId</var> be <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-all-buyer-experiment-group-id" id="ref-for-auction-config-all-buyer-experiment-group-id①">all buyer experiment group id</a>.</p>
     <li data-md>
      <p>Let <var>auctionSignals</var> be <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-auction-signals" id="ref-for-auction-config-auction-signals①">auction signals</a>.</p>
     <li data-md>
      <p>Let <var>browserSignals</var> be an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys②">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values②">values</a> are <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any⑤">any</a></code>.</p>
     <li data-md>
      <p>TODO: Set <var>browserSignals</var>’s "topWindowHostname" to hostname of top window</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①①">Set</a> <var>browserSignals</var>["seller"] to <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller④">seller</a>.</p>
     <li data-md>
      <p>If <var>topLevelAuctionConfig</var> is not null:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①②">Set</a> <var>browserSignals</var>["topLevelSeller"] to the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin" id="ref-for-ascii-serialisation-of-an-origin③">serialization</a> of <var>topLevelAuctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller⑤">seller</a>.</p>
      </ol>
     <li data-md>
      <p>Let <var>pendingBuyers</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-size" id="ref-for-map-size">size</a> of <var>bidGenerators</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate⑧">For each</a> <var>buyer</var> → <var>perBuyerGenerator</var> of <var>bidGenerators</var>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps" id="ref-for-enqueue-the-following-steps③">enqueue the following steps</a> to <var>queue</var>:</p>
      <ol>
       <li data-md>
        <p>Let <var>buyerExperimentGroupId</var> be <var>allBuyersExperimentGroupId</var>.</p>
       <li data-md>
        <p>Let <var>perBuyerExperimentGroupIds</var> be <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-experiment-group-ids" id="ref-for-auction-config-per-buyer-experiment-group-ids①">per buyer experiment group ids</a>.</p>
       <li data-md>
        <p>If <var>perBuyerExperimentGroupIds</var> is not null and <var>perBuyerExperimentGroupIds</var>[<var>buyer</var>] exists:</p>
        <ol>
         <li data-md>
          <p>Set <var>buyerExperimentGroupId</var> to <var>perBuyerExperimentGroupIds</var>[<var>buyer</var>].</p>
        </ol>
       <li data-md>
        <p>Let <var>perBuyerSignals</var> be <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-signals" id="ref-for-auction-config-per-buyer-signals①">per buyer signals</a>[<var>buyer</var>] if that
member <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②④">exists</a>, and null otherwise.</p>
       <li data-md>
        <p>If <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-signals" id="ref-for-auction-config-per-buyer-signals②">per buyer signals</a> is not null and <a data-link-type="dfn" href="#auction-config-per-buyer-signals" id="ref-for-auction-config-per-buyer-signals③">per buyer signals</a>[<var>buyer</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⑤">exists</a>:</p>
        <ol>
         <li data-md>
          <p>Let <var>perBuyerSignals</var> be <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-signals" id="ref-for-auction-config-per-buyer-signals④">per buyer signals</a>[<var>buyer</var>].</p>
        </ol>
       <li data-md>
        <p>Otherwise:</p>
        <ol>
         <li data-md>
          <p>Let <var>perBuyerSignals</var> be null.</p>
        </ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate⑨">For each</a> <var>signalsUrl</var> -> <var>perSignalsUrlGenerator</var> of <var>perBuyerGenerator</var>:</p>
        <ol>
         <li data-md>
          <p>Let <var>keys</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set">ordered set</a>.</p>
         <li data-md>
          <p>Let <var>igNames</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①">ordered set</a>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate①⓪">For each</a> joiningOrigin -> <var>groups</var> of <var>perSignalsUrlGenerator</var>:</p>
          <ol>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑨">For each</a> <var>ig</var> of <var>groups</var>:</p>
            <ol>
             <li data-md>
              <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append">Append</a> <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-keys" id="ref-for-interest-group-trusted-bidding-signals-keys②">trusted bidding signals keys</a> to <var>keys</var>.</p>
             <li data-md>
              <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append①">Append</a> <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name④">name</a> to <var>igNames</var>.</p>
            </ol>
          </ol>
         <li data-md>
          <p>Let <var>fullSignalsUrl</var> be the result of <a data-link-type="dfn" href="#build-trusted-bidding-signals-url" id="ref-for-build-trusted-bidding-signals-url">building trusted bidding signals url</a> with <var>signalsUrl</var>, <var>keys</var>, <var>igNames</var>, <var>buyerExperimentGroupId</var>.</p>
         <li data-md>
          <p>Let <var>trustedBiddingSignals</var> be the result of <a data-link-type="dfn" href="#fetch-resource" id="ref-for-fetch-resource">fetching resource</a> with <var>fullSignalsUrl</var>,
"application/json", and null.</p>
         <li data-md>
          <p>TODO: If <var>trustedBiddingSignals</var> is failure, fail the auction with manually_aborted set to
true.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate①①">For each</a> joiningOrigin -> <var>groups</var> of <var>perSignalsUrlGenerator</var>:</p>
          <ol>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①⓪">For each</a> <var>ig</var> of <var>groups</var>:</p>
            <ol>
             <li data-md>
              <p>TODO: create bidder script runner. If failed, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue④">continue</a>.</p>
             <li data-md>
              <p>TODO: Let <var>interestGroup</var> be ... from <var>ig</var> ... minus priority and prioritySignalsOverrides and any browser-defined pieces</p>
             <li data-md>
              <p>Set <var>browserSignals</var>’s "joinCount" to the sum of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-join-counts" id="ref-for-interest-group-join-counts②">join counts</a> for all days within the last 30 days.</p>
             <li data-md>
              <p>Set <var>browserSignals</var>’s "bidCount" to the sum of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-bid-counts" id="ref-for-interest-group-bid-counts①">bid counts</a> for all days within the last 30 days.</p>
             <li data-md>
              <p>Set <var>browserSignals</var>’s "prevWins" to a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②">list</a> containing <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#tuple" id="ref-for-tuple">tuple</a>s of the time and the corresponding winning <a data-link-type="dfn" href="#interest-group-ad" id="ref-for-interest-group-ad①">interest group ad</a> from <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-previous-wins" id="ref-for-interest-group-previous-wins①">previous wins</a> field with a data within the last 30 days. The time field is
 specified in seconds relative to the start of the auction.</p>
             <li data-md>
              <p>TODO: Set <var>browserSignals</var>’s "wasmHelper" ...need to fetch and prepare WebAssembly.Module object based on <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-bidding-wasm-helper-url" id="ref-for-interest-group-bidding-wasm-helper-url②">bidding wasm helper url</a></p>
             <li data-md>
              <p>TODO: Set <var>browserSignals</var>’s "dataVersion" ...to Data-Version value from the trusted bidding signals server’s response(s)</p>
             <li data-md>
              <p>Let <var>biddingScript</var> be the result of <a data-link-type="dfn" href="#fetch-resource" id="ref-for-fetch-resource①">fetching resource</a> with <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-bidding-url" id="ref-for-interest-group-bidding-url②">bidding url</a>, "text/javascript", and null. If <var>biddingScript</var> is an error, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑤">continue</a>.</p>
             <li data-md>
              <p>TODO: Let <var>generatedBid</var> be the result of <a data-link-type="dfn" href="#evaluate-a-bidding-script" id="ref-for-evaluate-a-bidding-script">evaluating a bidding script</a> with <var>biddingScript</var> and « <var>interestGroup</var>, <var>auctionSignals</var>, <var>perBuyerSignals</var>, <var>trustedBiddingSignals</var>, <var>browserSignals</var> ».</p>
             <li data-md>
              <p>If <var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-bid" id="ref-for-generated-bid-bid">bid</a> is negative or 0, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑥">continue</a>.</p>
             <li data-md>
              <p>Set <var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-interest-group" id="ref-for-generated-bid-interest-group">interest group</a> to <var>ig</var>.</p>
             <li data-md>
              <p>TODO: Validate other fields of <var>generatedBid</var>.</p>
             <li data-md>
              <p><a data-link-type="dfn" href="#score-and-rank-a-bid" id="ref-for-score-and-rank-a-bid①">Score and rank a bid</a> with <var>auctionConfig</var>, <var>generatedBid</var>, <var>leadingBidInfo</var>, <var>desisionLogicScript</var> and false.</p>
            </ol>
          </ol>
        </ol>
       <li data-md>
        <p>Decrement <var>pendingBuyers</var> by 1.</p>
      </ol>
     <li data-md>
      <p>Wait until <var>pendingBuyers</var> is 0.</p>
     <li data-md>
      <p>Return <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-leading-bid" id="ref-for-leading-bid-info-leading-bid①">leading bid</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="score and rank a bid">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="score-and-rank-a-bid">score and rank a bid</dfn> given an <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config④">auction config</a> <var>auctionConfig</var>, a <a data-link-type="dfn" href="#generated-bid" id="ref-for-generated-bid">generated bid</a> <var>generatedBid</var>, a <a data-link-type="dfn" href="#leading-bid-info" id="ref-for-leading-bid-info①">leading bid info</a> <var>leadingBidInfo</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③">string</a> <var>decisionLogicScript</var>, and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean②">boolean</a> <var>hasComponentAuction</var>:</p>
    <ol>
     <li data-md>
      <p>TODO: Assemble and fetch trusted scoring signals</p>
     <li data-md>
      <p>TODO: Let <var>adMetadata</var> be ... maybe include in <a data-link-type="dfn" href="#generated-bid" id="ref-for-generated-bid①">generated bid</a></p>
     <li data-md>
      <p>Let <var>bid</var> be <var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-bid" id="ref-for-generated-bid-bid①">bid</a>.</p>
     <li data-md>
      <p>TODO: Let <var>trustedScoringSignals</var> ... need to assemble and fetch these</p>
     <li data-md>
      <p>Let <var>browserSignals</var> be an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map④">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys③">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string④">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values③">values</a> are <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any⑥">any</a></code>.</p>
     <li data-md>
      <p>TODO: Set <var>browserSignals</var>’s "topWindowHostname" to hostname of top window</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①③">Set</a> <var>browserSignals</var>["interestGroupOwner"] to <var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-interest-group" id="ref-for-generated-bid-interest-group①">interest group</a>'s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner⑥">owner</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①④">Set</a> <var>browserSignals</var>["renderURL"] to <var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-ad-descriptor" id="ref-for-generated-bid-ad-descriptor①">ad descriptor</a>'s <a data-link-type="dfn" href="#ad-descriptor-url" id="ref-for-ad-descriptor-url">url</a>.</p>
     <li data-md>
      <p>TODO: Set <var>browserSignals</var>’s "adComponents" to ...need to pass in as part of <var>generatedBid</var></p>
     <li data-md>
      <p>TODO: Set <var>browserSignals</var>’s "biddingDurationMsec" to ...need to calculate and pass in</p>
     <li data-md>
      <p>TODO: Set <var>browserSignals</var>’s "dataVersion" ...to Data-Version value from the trusted scoring
signals server’s response.</p>
     <li data-md>
      <p>TODO: Remove fields of <var>auctionConfig</var> that don’t pass through.</p>
     <li data-md>
      <p>TODO: Let <var>scoreAdOutput</var> be the result of <a data-link-type="dfn" href="#evaluate-a-scoring-script" id="ref-for-evaluate-a-scoring-script">evaluating a scoring script</a> with <var>decisionLogicScript</var> and « <var>adMetadata</var>, <var>bid</var>, <var>auctionConfig</var>, <var>trustedScoringSignals</var>, <var>browserSignals</var> ».</p>
     <li data-md>
      <p>If <var>hasComponentAuction</var> is true, and <var>scoreAdOutput</var>’s <a data-link-type="dfn" href="#score-ad-output-allow-component-auction" id="ref-for-score-ad-output-allow-component-auction">allow component auction</a> is false, return.</p>
     <li data-md>
      <p>Let <var>score</var> be <var>scoreAdOutput</var>’s <a data-link-type="dfn" href="#score-ad-output-desirability" id="ref-for-score-ad-output-desirability">desirability</a>.</p>
     <li data-md>
      <p>If <var>score</var> is negative or 0, return.</p>
     <li data-md>
      <p>Let <var>maybeModifiedBid</var> be <var>generatedBid</var>.</p>
     <li data-md>
      <p>If <var>hasComponentAuction</var> is true and <var>scoreAdOutput</var>’s <a data-link-type="dfn" href="#score-ad-output-bid" id="ref-for-score-ad-output-bid">bid</a> is not null:</p>
      <ol>
       <li data-md>
        <p>Set <var>maybeModifiedBid</var>’s <a data-link-type="dfn" href="#generated-bid-bid" id="ref-for-generated-bid-bid②">bid</a> to <var>scoreAdOutput</var>’s <a data-link-type="dfn" href="#score-ad-output-bid" id="ref-for-score-ad-output-bid①">bid</a>.</p>
      </ol>
     <li data-md>
      <p>If <var>score</var> is greater than <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-top-score" id="ref-for-leading-bid-info-top-score">top score</a>:</p>
      <ol>
       <li data-md>
        <p>Set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-top-score" id="ref-for-leading-bid-info-top-score①">top score</a> to <var>score</var>.</p>
       <li data-md>
        <p>Set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-leading-bid" id="ref-for-leading-bid-info-leading-bid②">leading bid</a> to <var>maybeModifiedBid</var>.</p>
       <li data-md>
        <p>Set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-top-bids-count" id="ref-for-leading-bid-info-top-bids-count">top bids count</a> to 1.</p>
      </ol>
     <li data-md>
      <p>Otherwise if <var>score</var> equals to <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-top-score" id="ref-for-leading-bid-info-top-score②">top score</a>:</p>
      <ol>
       <li data-md>
        <p>Increment <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-top-bids-count" id="ref-for-leading-bid-info-top-bids-count①">top bids count</a> by 1.</p>
       <li data-md>
        <p>Set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-leading-bid" id="ref-for-leading-bid-info-leading-bid③">leading bid</a> to <var>maybeModifiedBid</var> with 1 in <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-top-bids-count" id="ref-for-leading-bid-info-top-bids-count②">top bids count</a> chance.</p>
      </ol>
    </ol>
   </div>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-a-seller-script-runner">create a seller script runner</dfn> given a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url">URL</a> <var>decisionLogicURL</var>:</p>
   <ol>
    <li data-md>
     <p>TODO: create the script runner and set up environment.</p>
    <li data-md>
     <p>Let <var>decisionLogicScript</var> be the result of <a data-link-type="dfn" href="#fetch-resource" id="ref-for-fetch-resource②">fetching resource</a> with <var>decisionLogicURL</var>,
"text/javascript", and null.</p>
    <li data-md>
     <p>Return <var>decisionLogicScript</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-a-request">create a request</dfn> given a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①">URL</a> <var>url</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑤">string</a> <dfn class="dfn-paneled" data-dfn-for="create a request" data-dfn-type="dfn" data-lt="accept" data-noexport id="create-a-request-accept"> <var>accept</var></dfn>, and an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin⑥">origin</a> or null <dfn class="dfn-paneled" data-dfn-for="create a request" data-dfn-type="dfn" data-noexport id="create-a-request-origin"><var>origin</var></dfn>:</p>
   <ol>
    <li data-md>
     <p>Let <var>request</var> be a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request">request</a> with the following properties:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url">URL</a>
      <dd data-md>
       <p><var>url</var></p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-header-list" id="ref-for-concept-request-header-list">header list</a>
      <dd data-md>
       <p>A new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list" id="ref-for-concept-header-list">header list</a> containing a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header" id="ref-for-concept-header">header</a> named "<code>Accept</code>" whose value is <var>accept</var></p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-client" id="ref-for-concept-request-client">client</a>
      <dd data-md>
       <p><code>null</code></p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-window" id="ref-for-concept-request-window">window</a>
      <dd data-md>
       <p>"<code>no-window</code>" TODO: verify</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#request-service-workers-mode" id="ref-for-request-service-workers-mode">service-workers mode</a>
      <dd data-md>
       <p>"<code>none</code>"</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-origin" id="ref-for-concept-request-origin">origin</a>
      <dd data-md>
       <p>If <var>origin</var> is null, then <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque" id="ref-for-concept-origin-opaque①">opaque origin</a>, otherwise <var>origin</var>.</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-referrer" id="ref-for-concept-request-referrer">referrer</a>
      <dd data-md>
       <p>"<code>no-referrer</code>"</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-credentials-mode" id="ref-for-concept-request-credentials-mode">credentials mode</a>
      <dd data-md>
       <p>"<code>omit</code>"</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-cache-mode" id="ref-for-concept-request-cache-mode">cache mode</a>
      <dd data-md>
       <p>"<code>no-store</code>"</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-redirect-mode" id="ref-for-concept-request-redirect-mode">redirect mode</a>
      <dd data-md>
       <p>"<code>error</code>"</p>
     </dl>
    <li data-md>
     <p>Return <var>request</var>.</p>
   </ol>
   <div class="algorithm" data-algorithm="fetch resource">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="fetch-resource">fetch resource</dfn> given a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url②">URL</a> <var>url</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑥">string</a> <var>mimeType</var>, and an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin⑦">origin</a> <var>origin</var> or null:</p>
    <ol>
     <li data-md>
      <p>Let <var>request</var> be the result of <a data-link-type="dfn" href="#create-a-request" id="ref-for-create-a-request①">creating a request</a> with <var>url</var>, <a data-link-type="dfn" href="#create-a-request-accept" id="ref-for-create-a-request-accept①">accept</a> set to <var>mimeType</var>, and <a data-link-type="dfn" href="#create-a-request-origin" id="ref-for-create-a-request-origin">origin</a> set to <var>origin</var>.</p>
     <li data-md>
      <p>Let <var>resource</var> be null.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch①">Fetch</a> <var>request</var> with <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#process-response-end-of-body" id="ref-for-process-response-end-of-body①">processResponseConsumeBody</a> set to the following steps given a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response①">response</a> <var>response</var> and <var>responseBody</var>:</p>
      <ol>
       <li data-md>
        <p>If <var>responseBody</var> is null or failure, set <var>resource</var> to failure and return.</p>
       <li data-md>
        <p>Let <var>headers</var> be <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list①">header list</a>.</p>
       <li data-md>
        <p>If <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-get-structured-header" id="ref-for-concept-header-list-get-structured-header①">getting a structured field value</a> "X-Allow-FLEDGE" from <var>headers</var> does not
return true, set <var>resource</var> to failure and return.</p>
       <li data-md>
        <p>Let <var>headerMimeType</var> be the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-extract-mime-type" id="ref-for-concept-header-extract-mime-type①">extracting a MIME type</a> from <var>headers</var>.</p>
       <li data-md>
        <p>Set <var>resource</var> to failure and return, if any of the following conditions hold:</p>
        <ul>
         <li data-md>
          <p><var>headerMimeType</var> is failure;</p>
         <li data-md>
          <p><var>mimeType</var> is "<code>text/javascript</code>" and <var>headerMimeType</var> is not a <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#javascript-mime-type" id="ref-for-javascript-mime-type">JavaScript MIME type</a>;</p>
         <li data-md>
          <p><var>mimeType</var> is "<code>application/json</code>" and <var>headerMimeType</var> is not a <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#json-mime-type" id="ref-for-json-mime-type①">JSON MIME type</a>.</p>
        </ul>
       <li data-md>
        <p>Let <var>mimeTypeCharset</var> be <var>headerMimeType</var>’s <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#parameters" id="ref-for-parameters">parameters</a>["<code>charset</code>"].</p>
       <li data-md>
        <p>Set <var>resource</var> to failure and return if any of the following conditions hold:</p>
        <ul>
         <li data-md>
          <p>If <var>mimeTypeCharset</var> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⑥">exist</a>, or <var>mimeTypeCharset</var> is "utf-8", and <var>responseBody</var> is not <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf-8" id="ref-for-utf-8">UTF-8</a> encoded;</p>
         <li data-md>
          <p>If <var>mimeTypeCharset</var> is "us-ascii", and <var>responseBody</var> is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-string" id="ref-for-ascii-string">ascii string</a>.</p>
        </ul>
       <li data-md>
        <p>Set <var>resource</var> to <var>responseBody</var>.</p>
      </ol>
     <li data-md>
      <p>Wait for <var>resource</var> to be set.</p>
     <li data-md>
      <p>Return <var>resource</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="build trusted bidding signals url">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="build-trusted-bidding-signals-url">build trusted bidding signals url</dfn> given a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url③">URL</a> <var>signalsUrl</var>, an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set②">ordered set</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑦">strings</a> <var>keys</var>, an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set③">ordered set</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑧">strings</a> <var>igNames</var>, and a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short③">unsigned short</a></code> <var>experimentGroupId</var>:</p>
    <ol>
     <li data-md>
      <p>Let <var>queryParamsList</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②">empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③">list</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append④">Append</a> "hostname=" to <var>queryParamsList</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑤">Append</a> the result of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#string-utf-8-percent-encode" id="ref-for-string-utf-8-percent-encode①">UTF-8 percent-encoding</a> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object②">relevant settings object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin" id="ref-for-concept-environment-top-level-origin①">top-level origin</a> using <a data-link-type="dfn" href="https://url.spec.whatwg.org/#component-percent-encode-set" id="ref-for-component-percent-encode-set①">component percent-encode set</a> to <var>queryParamsList</var>.</p>
     <li data-md>
      <p>If <var>keys</var> is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty③">empty</a>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑥">Append</a> "&amp;keys=" to <var>queryParamsList</var>.</p>
       <li data-md>
        <p>Let <var>keysStr</var> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-concatenate" id="ref-for-string-concatenate①">concatenating</a> <var>keys</var> with separator set to ",".</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑦">Append</a> the result of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#string-utf-8-percent-encode" id="ref-for-string-utf-8-percent-encode②">UTF-8 percent-encoding</a> <var>keysStr</var> using <a data-link-type="dfn" href="https://url.spec.whatwg.org/#component-percent-encode-set" id="ref-for-component-percent-encode-set②">component percent-encode set</a> to <var>queryParamsList</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>igNames</var> is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty④">empty</a>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑧">Append</a> "&amp;interestGroupNames=" to <var>queryParamsList</var>.</p>
       <li data-md>
        <p>Let <var>igNamesStr</var> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-concatenate" id="ref-for-string-concatenate②">concatenating</a> <var>igNames</var> with separator set to ",".</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑨">Append</a> the result of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#string-utf-8-percent-encode" id="ref-for-string-utf-8-percent-encode③">UTF-8 percent-encoding</a> <var>igNamesStr</var> using <a data-link-type="dfn" href="https://url.spec.whatwg.org/#component-percent-encode-set" id="ref-for-component-percent-encode-set③">component percent-encode set</a> to <var>queryParamsList</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>experimentGroupId</var> is not null:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①⓪">Append</a> "&amp;experimentGroupId=" to <var>queryParamsList</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①①">Append</a> <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer">serialized</a> <var>experimentGroupId</var> to <var>queryParamsList</var>.</p>
      </ol>
     <li data-md>
      <p>Let <var>fullSignalsUrl</var> be <var>signalsUrl</var>.</p>
     <li data-md>
      <p>Set <var>fullSignalsUrl</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-query" id="ref-for-concept-url-query②">query</a> to the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-concatenate" id="ref-for-string-concatenate③">concatenating</a> <var>queryParamsList</var>.</p>
     <li data-md>
      <p>return <var>fullSignalsUrl</var>.</p>
    </ol>
   </div>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="serialize-an-integer">serialize an integer</dfn>, represent it as a string of the shortest possible decimal
number.</p>
   <p class="issue" id="issue-ccb90c6c"><a class="self-link" href="#issue-ccb90c6c"></a> This would ideally be replaced by a more descriptive algorithm in Infra. See <a href="https://github.com/whatwg/infra/issues/201">infra/201</a></p>
   <div class="algorithm" data-algorithm="generate reporting URLs">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="generate-reporting-urls">generate reporting URLs</dfn> given an <code class="idl"><a data-link-type="idl" href="#dictdef-auctionadconfig" id="ref-for-dictdef-auctionadconfig③">AuctionAdConfig</a></code> <var>config</var> and a <a data-link-type="dfn" href="#generated-bid" id="ref-for-generated-bid②">generated bid</a> <var>bid</var>:</p>
    <ol>
     <li data-md>
      <p>Let <var>sellerReportingScript</var> be the result of <a data-link-type="dfn" href="#fetch-resource" id="ref-for-fetch-resource③">fetching resource</a> with <var>config</var>’s <a data-link-type="dfn" href="#auction-config-decision-logic-url" id="ref-for-auction-config-decision-logic-url②">decision logic url</a>, "text/javascript", and null.</p>
     <li data-md>
      <p>Let <var>auctionSignals</var> be <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-auction-signals" id="ref-for-auction-config-auction-signals②">auction signals</a>.</p>
     <li data-md>
      <p>Let <var>browserSignals</var> be an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑤">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys④">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑨">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values④">values</a> are <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any⑦">any</a></code>.</p>
     <li data-md>
      <p>TODO: <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①⑤">Set</a> <var>browserSignals</var>["topWindowHostname"] to hostname of top window.</p>
     <li data-md>
      <p>TODO: <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①⑥">Set</a> <var>browserSignals</var>["topLevelSeller"] to the top level seller.</p>
     <li data-md>
      <p>TODO: <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①⑦">Set</a> <var>browserSignals</var>["componentSeller"] to the component seller.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①⑧">Set</a> <var>browserSignals</var>["interestGroupOwner"] to <var>bid</var>’s <a data-link-type="dfn" href="#generated-bid-interest-group" id="ref-for-generated-bid-interest-group②">interest group</a>'s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner⑦">owner</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①⑨">Set</a> <var>browserSignals</var>["renderURL"] to <var>bid</var>’s <a data-link-type="dfn" href="#generated-bid-ad-descriptor" id="ref-for-generated-bid-ad-descriptor②">ad descriptor</a>'s <a data-link-type="dfn" href="#ad-descriptor-url" id="ref-for-ad-descriptor-url①">url</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②⓪">Set</a> <var>browserSignals</var>["bid"] to <var>bid</var>’s <a data-link-type="dfn" href="#generated-bid-bid" id="ref-for-generated-bid-bid③">bid</a>.</p>
     <li data-md>
      <p>TODO: <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②①">Set</a> <var>browserSignals</var>["desirability"] to the desirability score.</p>
     <li data-md>
      <p>TODO: <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②②">Set</a> <var>browserSignals</var>["topLevelSellerSignals] to the top level sellers signals.</p>
     <li data-md>
      <p>TODO: <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②③">Set</a> <var>browserSignals</var>["dataVersion"] to the version from the key value response.</p>
     <li data-md>
      <p>TODO: <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②④">Set</a> <var>browserSignals</var>["modifiedBid"] to the modified bid value.</p>
     <li data-md>
      <p>TODO: <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②⑤">Set</a> <var>browserSignals</var>["highestScoringOtherBid"] to the highest scoring other bid
value.</p>
     <li data-md>
      <p>TODO: Let <var>sellerSignals</var> be the result of <a data-link-type="dfn" href="#evaluate-a-reporting-script" id="ref-for-evaluate-a-reporting-script">evaluating a reporting script</a> with <var>sellerReportingScript</var>, "reportResult", and « <var>auctionSignals</var>, <var>browserSignals</var> ».</p>
     <li data-md>
      <p>Let <var>buyerReportingScript</var> be the result of <a data-link-type="dfn" href="#fetch-resource" id="ref-for-fetch-resource④">fetching resource</a> with <var>bid</var>’s
[=generated bid/interest group=|'s <a data-link-type="dfn" href="#interest-group-bidding-url" id="ref-for-interest-group-bidding-url③">bidding url</a>, "text/javascript", and null.</p>
     <li data-md>
      <p>Let <var>perBuyerSignals</var> be <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-signals" id="ref-for-auction-config-per-buyer-signals⑤">per buyer signals</a>[<var>browserSignals</var>["interestGroupOwner"]] if that member <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⑦">exists</a>, and null otherwise.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-remove" id="ref-for-map-remove">Remove</a> <var>browserSignals</var>["desirability"].</p>
     <li data-md>
      <p>TODO: <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②⑥">Set</a> <var>browserSignals</var>["interestGroupName"] to <var>bid</var>’s <a data-link-type="dfn" href="#generated-bid-interest-group" id="ref-for-generated-bid-interest-group③">interest group</a>'s <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name⑤">name</a> if the tuple of interest group owner,
name, bidding script URL and ad creative URL were jointly k-anonymous.</p>
     <li data-md>
      <p>TODO: <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②⑦">Set</a> <var>browserSignals</var>["madeHighestScoringOtherBid"] to true if the interest group
owner was the only bidder that made bids with the second highest score.</p>
     <li data-md>
      <p>TODO: <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②⑧">Set</a> <var>browserSignals</var>["highestScoringOtherBid"] and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②⑨">Set</a> <var>browserSignals</var>["madeHighestScoringOtherBid"] are based on the auction the interest group was
directly part of. If that was a component auction, they’re from the component auction. If that was
the top-level auction, then they’re from the top-level auction. Component bidders do not get these
signals from top-level auctions since it is the auction seller joining the top-level auction,
instead of winning component bidders joining the top-level auction directly.</p>
     <li data-md>
      <p>TODO: <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set③⓪">Set</a> <var>browserSignals</var>["dataVersion"] to contain the Data-Version from the trusted
bidding signals response headers if they were provided by the trusted bidding signals server
response and the version was consistent for all keys requested by this interest group.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set③①">Set</a> <var>browserSignals</var>["seller"] to <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-seller" id="ref-for-dom-auctionadconfig-seller①">seller</a></code>"].</p>
     <li data-md>
      <p>TODO: <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set③②">Set</a> <var>browserSignals</var>["topLevelSeller"] if there was a top-level seller.</p>
     <li data-md>
      <p>TODO: Run <a data-link-type="dfn" href="#evaluate-a-reporting-script" id="ref-for-evaluate-a-reporting-script①">evaluating a reporting script</a> with <var>buyerReportingScript</var> "reportWin", and « <var>auctionSignals</var>, <var>perBuyerSignals</var>, <var>sellerSignals</var>, <var>browserSignals</var> ».</p>
     <li data-md>
      <p>TODO: Set URLs passed to sendReportTo() into the FencedFrameConfig so they can be fetched when
ad renders.</p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="5" id="script-runners"><span class="secno">5. </span><span class="content">Script Runners</span><a class="self-link" href="#script-runners"></a></h2>
   <p><em>This introduction sub-section is non-normative</em>.</p>
   <p>This specification defines a new type of script execution environment called a <a data-link-type="dfn" href="#script-runner" id="ref-for-script-runner">script runner</a>. On
the surface, these are similar to <a href="https://html.spec.whatwg.org/C#worklets-intro">Worklets</a> in that they too are used for running scripts independent of the <em>main</em> execution environment with a
flexible implementation model.</p>
   <p>However, some key differences from traditional Worklets motivate us to create a new kind of script
execution environment. In particular, they:</p>
   <ul>
    <li data-md>
     <p>Are not scoped to a particular <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document">Document</a></code>, but are rather scoped to a user agent, as they are
 spun up by <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group④">interest groups</a> in the user agent’s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set③">interest group set</a>.</p>
    <li data-md>
     <p>Consequently have a different, more flexible <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#sec-agent-clusters" id="ref-for-sec-agent-clusters">agent cluster</a> allocation model —<wbr>specifically, they need not execute in the same <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#sec-agent-clusters" id="ref-for-sec-agent-clusters①">agent cluster</a> as any <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①">Document</a></code>,
 and for privacy reasons implementations may be motivated to enjoy this flexibility.</p>
    <li data-md>
     <p>Do not have any other WebIDL interfaces exposed to their global besides the ones defined in this
 specification, unlike other Worklet types.</p>
    <li data-md>
     <p>Have a restricted set of ECMAScript APIs exposed to them; for example <code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-date-objects" id="ref-for-sec-date-objects">Date</a></code> is not exposed in
 these environments.</p>
    <li data-md>
     <p>Are not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#module-script" id="ref-for-module-script">module scripts</a>, and are instead evaluated as if they were <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#classic-script" id="ref-for-classic-script">classic scripts</a>.</p>
    <li data-md>
     <p>Are not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-script" id="ref-for-concept-script">scripts</a> in the <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a> sense, and as such:</p>
     <ul>
      <li data-md>
       <p>Their <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#agent" id="ref-for-agent">agent</a> does not have an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop">event loop</a></p>
      <li data-md>
       <p>Their <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#realm" id="ref-for-realm">realm</a> does not have a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-settings-object" id="ref-for-concept-realm-settings-object">settings object</a>, and therefore functions
 inside them are not run with the familiar <a data-link-type="biblio" href="#biblio-webidl" title="Web IDL Standard">[WebIDL]</a> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#invoke-a-callback-function" id="ref-for-invoke-a-callback-function">invocation</a> mechanism.</p>
      <li data-md>
       <p>They do not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#perform-a-microtask-checkpoint" id="ref-for-perform-a-microtask-checkpoint">perform a microtask checkpoints</a>.</p>
     </ul>
   </ul>
   <h3 class="heading settled" data-level="5.1" id="script-evaluation"><span class="secno">5.1. </span><span class="content">Script evaluation</span><a class="self-link" href="#script-evaluation"></a></h3>
   <p>Concretely, a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="script-runner">script runner</dfn> is a JavaScript execution environment instantiated with one
of the following global objects:</p>
   <ul>
    <li data-md>
     <p><code class="idl"><a data-link-type="idl" href="#interestgroupbiddingscriptrunnerglobalscope" id="ref-for-interestgroupbiddingscriptrunnerglobalscope">InterestGroupBiddingScriptRunnerGlobalScope</a></code></p>
    <li data-md>
     <p><code class="idl"><a data-link-type="idl" href="#interestgroupscoringscriptrunnerglobalscope" id="ref-for-interestgroupscoringscriptrunnerglobalscope">InterestGroupScoringScriptRunnerGlobalScope</a></code></p>
    <li data-md>
     <p><code class="idl"><a data-link-type="idl" href="#interestgroupreportingscriptrunnerglobalscope" id="ref-for-interestgroupreportingscriptrunnerglobalscope">InterestGroupReportingScriptRunnerGlobalScope</a></code></p>
   </ul>
   <div class="algorithm" data-algorithm="evaluate a bidding script">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="evaluate-a-bidding-script">evaluate a bidding script</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⓪">string</a> <var>script</var> and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④">list</a> of arguments <var>arguments</var>: 
    <ol>
     <li data-md>
      <p>Return the result of <a data-link-type="dfn" href="#evaluate-a-script" id="ref-for-evaluate-a-script">evaluating a script</a> with <code class="idl"><a data-link-type="idl" href="#interestgroupbiddingscriptrunnerglobalscope" id="ref-for-interestgroupbiddingscriptrunnerglobalscope①">InterestGroupBiddingScriptRunnerGlobalScope</a></code>, <var>script</var>, "<code>generateBid</code>", and <var>arguments</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="evaluate a scoring script">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="evaluate-a-scoring-script">evaluate a scoring script</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①①">string</a> <var>script</var> and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑤">list</a> of arguments <var>arguments</var>: 
    <ol>
     <li data-md>
      <p>Return the result of <a data-link-type="dfn" href="#evaluate-a-script" id="ref-for-evaluate-a-script①">evaluating a script</a> with <code class="idl"><a data-link-type="idl" href="#interestgroupscoringscriptrunnerglobalscope" id="ref-for-interestgroupscoringscriptrunnerglobalscope①">InterestGroupScoringScriptRunnerGlobalScope</a></code>, <var>script</var>, "<code>scoreAd</code>", and <var>arguments</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="evaluate a reporting script">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="evaluate-a-reporting-script">evaluate a reporting script</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①②">string</a> <var>script</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①③">string</a> <var>functionName</var>, and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑥">list</a> of arguments <var>arguments</var>: 
    <ol>
     <li data-md>
      <p>Return the result of <a data-link-type="dfn" href="#evaluate-a-script" id="ref-for-evaluate-a-script②">evaluating a script</a> with <code class="idl"><a data-link-type="idl" href="#interestgroupreportingscriptrunnerglobalscope" id="ref-for-interestgroupreportingscriptrunnerglobalscope①">InterestGroupReportingScriptRunnerGlobalScope</a></code>, <var>script</var>, <var>functionName</var>, and <var>arguments</var>.</p>
    </ol>
   </div>
   <p><br></p>
   <div class="algorithm" data-algorithm="create a new script runner agent">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-a-new-script-runner-agent">create a new script runner agent</dfn>, run these steps: 
    <ol>
     <li data-md>
      <p>Let <var>signifier</var> be a new unique internal value.</p>
     <li data-md>
      <p>Let <var>candidateExecution</var> be a new <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/memory-model.html#sec-candidate-executions" id="ref-for-sec-candidate-executions">candidate execution</a>.</p>
     <li data-md>
      <p>Return a new <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#agent" id="ref-for-agent①">agent</a> whose [[CanBlock]] is false, [[Signifier]] is <var>signifier</var>, [[CandidateExecution]] is <var>candidateExecution</var>, and [[IsLockFree1]],
 [[IsLockFree2]], and [[LittleEndian]] are set at the implementation’s discretion.</p>
    </ol>
    <p class="note" role="note"><span class="marker">Note:</span> This algorithm is almost identical to <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/C#create-an-agent" id="ref-for-create-an-agent">create an agent</a> algorithm, with the
  exception that we do not give 
  the returned agent a new <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop①">event loop</a>, since it does not process <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task" id="ref-for-concept-task">tasks</a> within <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source" id="ref-for-task-source">task sources</a> in the usual way.</p>
   </div>
   <div class="algorithm" data-algorithm="obtain a script runner agent">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-a-script-runner-agent">obtain a script runner agent</dfn>, run these steps: 
    <ol>
     <li data-md>
      <p>Let <var>agentCluster</var> be a  new <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#sec-agent-clusters" id="ref-for-sec-agent-clusters②">agent cluster</a>.</p>
     <li data-md>
      <p>Let <var>agent</var> be the result of <a data-link-type="dfn" href="#create-a-new-script-runner-agent" id="ref-for-create-a-new-script-runner-agent">creating a new script runner agent</a>.</p>
     <li data-md>
      <p>Add <var>agent</var> to <var>agentCluster</var>.</p>
     <li data-md>
      <p>Return <var>agent</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="evaluate a script">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="evaluate-a-script">evaluate a script</dfn> with a global type <var>globalType</var>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①④">string</a> <var>script</var>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑤">string</a> <var>functionName</var>, and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑦">list</a> <var>arguments</var>, run these steps. They return a <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-completion-record-specification-type" id="ref-for-sec-completion-record-specification-type">Completion
  Record</a>, which is either an <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-completion-record-specification-type" id="ref-for-sec-completion-record-specification-type①">abrupt completion</a> (in the case of a parse failure or execution
  error), or a normal completion populated with the <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-ecmascript-language-types" id="ref-for-sec-ecmascript-language-types">ECMAScript language value</a> result
  of invoking <var>functionName</var>. 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑥">Assert</a> that these steps are running <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②">in parallel</a>.</p>
     <li data-md>
      <p>Let <var>agent</var> be the result of <a data-link-type="dfn" href="#obtain-a-script-runner-agent" id="ref-for-obtain-a-script-runner-agent">obtaining a script runner agent</a> given null, true, and
 false. Run the rest of these steps in <var>agent</var>.</p>
      <p class="issue" id="issue-3823b15e"><a class="self-link" href="#issue-3823b15e"></a> This exclusively creates a new <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#sec-agent-clusters" id="ref-for-sec-agent-clusters③">agent cluster</a> for the given <var>script</var> to
 run in, but we should make this work with <a data-link-type="dfn" href="#interest-group-execution-mode" id="ref-for-interest-group-execution-mode③">execution mode</a> somehow.</p>
     <li data-md>
      <p>Let <var>realmExecutionContext</var> be the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#creating-a-new-javascript-realm" id="ref-for-creating-a-new-javascript-realm">creating a new realm</a> given <var>agent</var> and the
 following customizations:</p>
      <ul>
       <li data-md>
        <p>For the global object, create a new object of type <var>globalType</var>.</p>
      </ul>
     <li data-md>
      <p>Let <var>realm</var> be <var>realmExecutionContext</var>’s Realm component.</p>
     <li data-md>
      <p>Let <var>global</var> be <var>realm</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global" id="ref-for-concept-realm-global">global object</a>, and run these steps:</p>
      <ol>
       <li data-md>
        <p>Perform !<var>global</var>.[[Delete]]("<code>Date</code>").</p>
       <li data-md>
        <p>If !<var>global</var>.[[HasProperty]]("<code>Temporal</code>") is true, then perform
 !<var>global</var>.[[Delete]]("<code>Temporal</code>").</p>
      </ol>
      <p><strong class="advisement"> This is not the best way to perform such API neutering (see <a href="https://github.com/tc39/ecma262/issues/1357#issuecomment-817560121">tc39/ecma262#1357</a>),
but at the moment it’s the way that host environments do this.</strong></p>
      <p class="note" role="note"><span class="marker">Note:</span> Removing time-referencing APIs from the <var>global</var> object is imperative for privacy, as <var>script</var> might otherwise be able to more easily exfiltrate data by using more accurate time
measurements.</p>
     <li data-md>
      <p>Let <var>result</var> be <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-parse-script" id="ref-for-sec-parse-script">ParseScript</a>(<var>script</var>, <var>realm</var>, <code>empty</code>).</p>
      <p class="note" role="note"><span class="marker">Note:</span> The resulting <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/ecmascript-language-scripts-and-modules.html#script-record" id="ref-for-script-record">Script Record</a> will have no [[HostDefined]] component,
 unlike traditional <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-script" id="ref-for-concept-script①">scripts</a> on the web platform.</p>
     <li data-md>
      <p>If <var>result</var> is a list of errors, return
 Completion { [[Type]]: <code>throw</code>, [[Value]]: <var>result</var>, [[Target]]: <code>empty</code> }.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑦">Assert</a>: <var>result</var> is a <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/ecmascript-language-scripts-and-modules.html#script-record" id="ref-for-script-record①">Script Record</a>.</p>
     <li data-md>
      <p><em>Prepare to run script</em>: Push <var>realmExecutionContext</var> onto the <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#execution-context-stack" id="ref-for-execution-context-stack">JavaScript execution context stack</a>; it is now the <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#running-execution-context" id="ref-for-running-execution-context">running JavaScript execution context</a>.</p>
     <li data-md>
      <p>Let <var>evaluationStatus</var> be the result of <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-runtime-semantics-scriptevaluation" id="ref-for-sec-runtime-semantics-scriptevaluation">ScriptEvaluation</a>(result).</p>
     <li data-md>
      <p>If <var>evaluationStatus</var> is an <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-completion-record-specification-type" id="ref-for-sec-completion-record-specification-type②">abrupt completion</a>, jump to the step labeled <i><a href="#evaluate-script-return">return</a></i>.</p>
     <li data-md>
      <p>Let <var>F</var> be <a data-link-type="abstract-op" href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-get-o-p" id="ref-for-sec-get-o-p">Get</a>(<var>global</var>, <var>functionName</var>). If that returns a <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-completion-record-specification-type" id="ref-for-sec-completion-record-specification-type③">throw completion</a>, set <var>finalCompletion</var> to <var>F</var> and jump to the step labeled <i><a href="#evaluate-script-return">return</a></i>.</p>
     <li data-md>
      <p>Set <var>finalCompletion</var> be <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-completion-record-specification-type" id="ref-for-sec-completion-record-specification-type④">Completion</a>(<a data-link-type="abstract-op" href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-call" id="ref-for-sec-call">Call</a>(F, <code>undefined</code>, <var>arguments</var>)).</p>
     <li data-md>
      <p><i id="evaluate-script-return">Return</i>: at this point <var>finalCompletion</var> will be set to a <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-completion-record-specification-type" id="ref-for-sec-completion-record-specification-type⑤">Completion Record</a>.</p>
      <ol>
       <li data-md>
        <p><em>Clean up after script</em>: <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑧">Assert</a> <var>realmExecutionContext</var> is the <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#running-execution-context" id="ref-for-running-execution-context①">running JavaScript execution context</a>, and remove it from the <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#execution-context-stack" id="ref-for-execution-context-stack①">JavaScript execution context stack</a>.</p>
       <li data-md>
        <p>Return <var>finalCompletion</var>.</p>
      </ol>
    </ol>
   </div>
   <h3 class="heading settled" data-level="5.2" id="global-scopes"><span class="secno">5.2. </span><span class="content">Global scopes</span><a class="self-link" href="#global-scopes"></a></h3>
   <p>An additional requirement to the interest group script runner globals defined in this specification
is that they must not expose any interfaces from other specifications whose own exposure set is the
special value "*". The only interfaces that can be exposed inside of the globals defined in this
specification are those that explicitly list the global names provided here.</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>InterestGroupBiddingScriptRunnerGlobalScope</c->,
<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Global" id="ref-for-Global"><c- g>Global</c-></a>=<a data-link-type="idl-name" href="#interestgroupbiddingscriptrunnerglobalscope" id="ref-for-interestgroupbiddingscriptrunnerglobalscope②"><c- n>InterestGroupBiddingScriptRunnerGlobalScope</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="interestgroupbiddingscriptrunnerglobalscope"><code><c- g>InterestGroupBiddingScriptRunnerGlobalScope</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="method" href="#dom-interestgroupbiddingscriptrunnerglobalscope-setbid" id="ref-for-dom-interestgroupbiddingscriptrunnerglobalscope-setbid"><c- g>setBid</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean②"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="method" href="#dom-interestgroupbiddingscriptrunnerglobalscope-setbid-generatebidoutput" id="ref-for-dom-interestgroupbiddingscriptrunnerglobalscope-setbid-generatebidoutput"><c- g>setBid</c-></a>(<a data-link-type="idl-name" href="#dictdef-generatebidoutput" id="ref-for-dictdef-generatebidoutput"><c- n>GenerateBidOutput</c-></a> <dfn class="idl-code" data-dfn-for="InterestGroupBiddingScriptRunnerGlobalScope/setBid(generateBidOutput)" data-dfn-type="argument" data-export id="dom-interestgroupbiddingscriptrunnerglobalscope-setbid-generatebidoutput-generatebidoutput"><code><c- g>generateBidOutput</c-></code><a class="self-link" href="#dom-interestgroupbiddingscriptrunnerglobalscope-setbid-generatebidoutput-generatebidoutput"></a></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-interestgroupbiddingscriptrunnerglobalscope-setpriority" id="ref-for-dom-interestgroupbiddingscriptrunnerglobalscope-setpriority"><c- g>setPriority</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double⑥"><c- b>double</c-></a> <dfn class="idl-code" data-dfn-for="InterestGroupBiddingScriptRunnerGlobalScope/setPriority(priority)" data-dfn-type="argument" data-export id="dom-interestgroupbiddingscriptrunnerglobalscope-setpriority-priority-priority"><code><c- g>priority</c-></code><a class="self-link" href="#dom-interestgroupbiddingscriptrunnerglobalscope-setpriority-priority-priority"></a></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined③"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride" id="ref-for-dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride"><c- g>setPrioritySignalsOverride</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString③"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="InterestGroupBiddingScriptRunnerGlobalScope/setPrioritySignalsOverride(key, priority)" data-dfn-type="argument" data-export id="dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride-key-priority-key"><code><c- g>key</c-></code><a class="self-link" href="#dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride-key-priority-key"></a></dfn>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double⑦"><c- b>double</c-></a> <dfn class="idl-code" data-dfn-for="InterestGroupBiddingScriptRunnerGlobalScope/setPrioritySignalsOverride(key, priority)" data-dfn-type="argument" data-export id="dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride-key-priority-priority"><code><c- g>priority</c-></code><a class="self-link" href="#dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride-key-priority-priority"></a></dfn>);
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=<c- n>InterestGroupScoringScriptRunnerGlobalScope</c->,
<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Global" id="ref-for-Global①"><c- g>Global</c-></a>=<a data-link-type="idl-name" href="#interestgroupscoringscriptrunnerglobalscope" id="ref-for-interestgroupscoringscriptrunnerglobalscope②"><c- n>InterestGroupScoringScriptRunnerGlobalScope</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="interestgroupscoringscriptrunnerglobalscope"><code><c- g>InterestGroupScoringScriptRunnerGlobalScope</c-></code></dfn> {
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed②"><c- g>Exposed</c-></a>=<c- n>InterestGroupReportingScriptRunnerGlobalScope</c->,
<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Global" id="ref-for-Global②"><c- g>Global</c-></a>=<a data-link-type="idl-name" href="#interestgroupreportingscriptrunnerglobalscope" id="ref-for-interestgroupreportingscriptrunnerglobalscope②"><c- n>InterestGroupReportingScriptRunnerGlobalScope</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="interestgroupreportingscriptrunnerglobalscope"><code><c- g>InterestGroupReportingScriptRunnerGlobalScope</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined④"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-interestgroupreportingscriptrunnerglobalscope-sendreportto" id="ref-for-dom-interestgroupreportingscriptrunnerglobalscope-sendreportto"><c- g>sendReportTo</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString④"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="InterestGroupReportingScriptRunnerGlobalScope/sendReportTo(url)" data-dfn-type="argument" data-export id="dom-interestgroupreportingscriptrunnerglobalscope-sendreportto-url-url"><code><c- g>url</c-></code><a class="self-link" href="#dom-interestgroupreportingscriptrunnerglobalscope-sendreportto-url-url"></a></dfn>);
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-adrender"><code><c- g>AdRender</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑤"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AdRender" data-dfn-type="dict-member" data-export data-type="DOMString " id="dom-adrender-url"><code><c- g>url</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑥"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AdRender" data-dfn-type="dict-member" data-export data-type="DOMString " id="dom-adrender-width"><code><c- g>width</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑦"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AdRender" data-dfn-type="dict-member" data-export data-type="DOMString " id="dom-adrender-height"><code><c- g>height</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-generatebidoutput"><code><c- g>GenerateBidOutput</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double⑧"><c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="GenerateBidOutput" data-dfn-type="dict-member" data-export data-type="double " id="dom-generatebidoutput-bid"><code><c- g>bid</c-></code></dfn>;
  <c- b>required</c-> (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑧"><c- b>DOMString</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#dictdef-adrender" id="ref-for-dictdef-adrender"><c- n>AdRender</c-></a>) <dfn class="dfn-paneled idl-code" data-dfn-for="GenerateBidOutput" data-dfn-type="dict-member" data-export data-type="(DOMString or AdRender) " id="dom-generatebidoutput-adrender"><code><c- g>adRender</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑨"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="GenerateBidOutput" data-dfn-type="dict-member" data-export data-type="DOMString " id="dom-generatebidoutput-ad"><code><c- g>ad</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence⑤"><c- b>sequence</c-></a>&lt;(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⓪"><c- b>DOMString</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#dictdef-adrender" id="ref-for-dictdef-adrender①"><c- n>AdRender</c-></a>)> <dfn class="dfn-paneled idl-code" data-dfn-for="GenerateBidOutput" data-dfn-type="dict-member" data-export data-type="sequence<(DOMString or AdRender)> " id="dom-generatebidoutput-adcomponents"><code><c- g>adComponents</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double⑨"><c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="GenerateBidOutput" data-dfn-type="dict-member" data-export data-type="double " id="dom-generatebidoutput-adcost"><code><c- g>adCost</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①⓪"><c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="GenerateBidOutput" data-dfn-type="dict-member" data-export data-type="double " id="dom-generatebidoutput-modelingsignals"><code><c- g>modelingSignals</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean③"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="GenerateBidOutput" data-dfn-type="dict-member" data-export data-type="boolean " id="dom-generatebidoutput-allowcomponentauction"><code><c- g>allowComponentAuction</c-></code></dfn> = <c- b>false</c->;
};
</pre>
   <p class="issue" id="issue-3547680d"><a class="self-link" href="#issue-3547680d"></a> Finish specifying the following algorithms.</p>
   <div class="algorithm" data-algorithm="setBid()" data-algorithm-for="InterestGroupBiddingScriptRunnerGlobalScope">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="InterestGroupBiddingScriptRunnerGlobalScope" data-dfn-type="method" data-export id="dom-interestgroupbiddingscriptrunnerglobalscope-setbid"><code>setBid()</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>Clear the bid. TODO: figure out how to integrate this with runAdAuction.</p>
     <li data-md>
      <p>Return true.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="setBid(generateBidOutput)" data-algorithm-for="InterestGroupBiddingScriptRunnerGlobalScope">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="InterestGroupBiddingScriptRunnerGlobalScope" data-dfn-type="method" data-export id="dom-interestgroupbiddingscriptrunnerglobalscope-setbid-generatebidoutput"><code>setBid(<var>generateBidOutput</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>Clear the bid. TODO: expand.</p>
     <li data-md>
      <p>If <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-bid" id="ref-for-dom-generatebidoutput-bid">bid</a></code>"] is less than or equal to 0, return true.</p>
     <li data-md>
      <p>If it’s a component auction (TODO: how to integrate with runAdAuction), but <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-allowcomponentauction" id="ref-for-dom-generatebidoutput-allowcomponentauction">allowComponentAuction</a></code>"] is false, return false.</p>
     <li data-md>
      <p>Let <var>bidToSet</var> be a new <a data-link-type="dfn" href="#generated-bid" id="ref-for-generated-bid③">generated bid</a>.</p>
     <li data-md>
      <p>Set <var>bidToSet</var>’s <a data-link-type="dfn" href="#generated-bid-bid" id="ref-for-generated-bid-bid④">bid</a> to <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-bid" id="ref-for-dom-generatebidoutput-bid①">bid</a></code>"].</p>
     <li data-md>
      <p>If <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-ad" id="ref-for-dom-generatebidoutput-ad">ad</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⑧">exists</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>adJson</var> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string" id="ref-for-serialize-a-javascript-value-to-a-json-string⑤">serializing a JavaScript value to a JSON string</a>, given <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-ad" id="ref-for-dom-generatebidoutput-ad①">ad</a></code>"].</p>
       <li data-md>
        <p>If <var>adJson</var> is failure, return failure.</p>
       <li data-md>
        <p>Set <var>bidToSet</var>’s <a data-link-type="dfn" href="#generated-bid-ad" id="ref-for-generated-bid-ad">ad</a> to <var>adJson</var>.</p>
      </ol>
     <li data-md>
      <p>Let <var>adDescriptor</var> be a new <a data-link-type="dfn" href="#ad-descriptor" id="ref-for-ad-descriptor">ad descriptor</a>.</p>
     <li data-md>
      <p>If <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-adrender" id="ref-for-dom-generatebidoutput-adrender">adRender</a></code>"] is a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①①">DOMString</a></code>:</p>
      <ol>
       <li data-md>
        <p>Let <var>adUrl</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser⑨">URL parser</a> on <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-adrender" id="ref-for-dom-generatebidoutput-adrender①">adRender</a></code>"].</p>
       <li data-md>
        <p>If <var>adUrl</var> is an error, return false.</p>
       <li data-md>
        <p>If <a data-link-type="dfn" href="#validate-an-ad-url" id="ref-for-validate-an-ad-url">validating an ad url</a> given <var>adUrl</var> returns false, return false.</p>
       <li data-md>
        <p>Set <var>adDescriptor</var>’s <a data-link-type="dfn" href="#ad-descriptor-url" id="ref-for-ad-descriptor-url②">url</a> to <var>adUrl</var>.</p>
      </ol>
     <li data-md>
      <p>Otherwise:</p>
      <ol>
       <li data-md>
        <p>Set <var>adDescriptor</var> to the result of <a data-link-type="dfn" href="#convert-an-ad-render" id="ref-for-convert-an-ad-render">converting an ad render</a> given <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-adrender" id="ref-for-dom-generatebidoutput-adrender②">adRender</a></code>"].</p>
       <li data-md>
        <p>If <var>adDescriptor</var> is failure, return false.</p>
      </ol>
     <li data-md>
      <p>Set <var>bidToSet</var>’s <a data-link-type="dfn" href="#generated-bid-ad-descriptor" id="ref-for-generated-bid-ad-descriptor③">ad descriptor</a> to <var>adDescriptor</var>.</p>
     <li data-md>
      <p>If <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-adcomponents" id="ref-for-dom-generatebidoutput-adcomponents">adComponents</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⑨">exists</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>adComponents</var> be <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-adcomponents" id="ref-for-dom-generatebidoutput-adcomponents①">adComponents</a></code>"].</p>
       <li data-md>
        <p>Return false if any of the following conditions hold:</p>
        <ul>
         <li data-md>
          <p>biddingScriptRunner’s adComponents parameter does not exist; TODO: rewrite.</p>
         <li data-md>
          <p><var>adComponents</var> is not an array;</p>
         <li data-md>
          <p><var>adComponents</var>’s size is greater than 20.</p>
        </ul>
       <li data-md>
        <p>Let <var>adComponentDescriptors</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑧">list</a> of <a data-link-type="dfn" href="#ad-descriptor" id="ref-for-ad-descriptor①">ad descriptors</a>.</p>
       <li data-md>
        <p>For <var>component</var> in <var>adComponents</var>:</p>
        <ol>
         <li data-md>
          <p>Let <var>componentDescriptor</var> be a new <a data-link-type="dfn" href="#ad-descriptor" id="ref-for-ad-descriptor②">ad descriptor</a>.</p>
         <li data-md>
          <p>If <var>component</var> is <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①②">DOMString</a></code>:</p>
          <ol>
           <li data-md>
            <p>Let <var>componentUrl</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser①⓪">URL parser</a> on <var>component</var>.</p>
           <li data-md>
            <p>If <var>componentUrl</var> is an error, return false.</p>
           <li data-md>
            <p>If <a data-link-type="dfn" href="#validate-an-ad-url" id="ref-for-validate-an-ad-url①">validating an ad url</a> given <var>componentUrl</var> returns false, return false.</p>
           <li data-md>
            <p>Set <var>componentDescriptor</var>’s <a data-link-type="dfn" href="#ad-descriptor-url" id="ref-for-ad-descriptor-url③">url</a> to <var>componentUrl</var>.</p>
          </ol>
         <li data-md>
          <p>Otherwise:</p>
          <ol>
           <li data-md>
            <p>Set <var>componentDescriptor</var> to the result of <a data-link-type="dfn" href="#convert-an-ad-render" id="ref-for-convert-an-ad-render①">converting an ad render</a> given <var>component</var>.</p>
           <li data-md>
            <p>If <var>componentDescriptor</var> is failure, return false.</p>
          </ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①②">Append</a> <var>componentDescriptor</var> to <var>adComponentDescriptors</var>.</p>
        </ol>
       <li data-md>
        <p>Set <var>bidToSet</var>’s <a data-link-type="dfn" href="#generated-bid-ad-component-descriptors" id="ref-for-generated-bid-ad-component-descriptors">ad component descriptors</a> to <var>adComponentDescriptors</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-adcost" id="ref-for-dom-generatebidoutput-adcost">adCost</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③⓪">exists</a>:</p>
      <ol>
       <li data-md>
        <p>Set <var>bidToSet</var>’s <a data-link-type="dfn" href="#generated-bid-ad-cost" id="ref-for-generated-bid-ad-cost">ad cost</a> to <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-adcost" id="ref-for-dom-generatebidoutput-adcost①">adCost</a></code>"].</p>
      </ol>
     <li data-md>
      <p>If <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-modelingsignals" id="ref-for-dom-generatebidoutput-modelingsignals">modelingSignals</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③①">exists</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>modelingSignals</var> be <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-modelingsignals" id="ref-for-dom-generatebidoutput-modelingsignals①">modelingSignals</a></code>"].</p>
       <li data-md>
        <p>If <var>modelingSignals</var> is greater than or equal to 0 and less than 4096:</p>
        <ol>
         <li data-md>
          <p>Set <var>bidToSet</var>’s <a data-link-type="dfn" href="#generated-bid-modeling-signals" id="ref-for-generated-bid-modeling-signals">modeling signals</a> to <var>modelingSignals</var></p>
        </ol>
      </ol>
     <li data-md>
      <p>Set bid to <var>bidToSet</var>.</p>
     <li data-md>
      <p>Return true.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="convert an ad render">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="convert-an-ad-render">convert an ad render</dfn> given an <code class="idl"><a data-link-type="idl" href="#dictdef-adrender" id="ref-for-dictdef-adrender②">AdRender</a></code> <var>adRender</var>: 
    <ol>
     <li data-md>
      <p>If <var>adRender</var>["<code class="idl"><a data-link-type="idl" href="#dom-adrender-url" id="ref-for-dom-adrender-url">url</a></code>"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③②">exist</a>, return false.</p>
     <li data-md>
      <p>Let <var>adUrl</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser①①">URL parser</a> on <var>adRender</var>["<code class="idl"><a data-link-type="idl" href="#dom-adrender-url" id="ref-for-dom-adrender-url①">url</a></code>"].</p>
     <li data-md>
      <p>If <var>adUrl</var> is an error, return failure.</p>
     <li data-md>
      <p>If <a data-link-type="dfn" href="#validate-an-ad-url" id="ref-for-validate-an-ad-url②">validating an ad url</a> given <var>adUrl</var> returns false, return failure.</p>
     <li data-md>
      <p>Let <var>adDescriptor</var> be a new <a data-link-type="dfn" href="#ad-descriptor" id="ref-for-ad-descriptor③">ad descriptor</a>.</p>
     <li data-md>
      <p>Set <var>adDescriptor</var>’s <a data-link-type="dfn" href="#ad-descriptor-url" id="ref-for-ad-descriptor-url④">url</a> to <var>adUrl</var>.</p>
     <li data-md>
      <p>If <var>adRender</var>["<code class="idl"><a data-link-type="idl" href="#dom-adrender-width" id="ref-for-dom-adrender-width">width</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③③">exists</a>:</p>
      <ol>
       <li data-md>
        <p>If <var>adRender</var>["<code class="idl"><a data-link-type="idl" href="#dom-adrender-height" id="ref-for-dom-adrender-height">height</a></code>"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③④">exist</a>, return failure.</p>
       <li data-md>
        <p>Let <var>width</var> and <var>widthUnit</var> be the result of parsing (TODO) <var>adRender</var>["<code class="idl"><a data-link-type="idl" href="#dom-adrender-width" id="ref-for-dom-adrender-width①">width</a></code>"].</p>
       <li data-md>
        <p>Let <var>height</var> and <var>heightUnit</var> be the result of parsing (TODO) <var>adRender</var>["<code class="idl"><a data-link-type="idl" href="#dom-adrender-height" id="ref-for-dom-adrender-height①">height</a></code>"].</p>
       <li data-md>
        <p>Return failure if any of the following conditions hold:</p>
        <ul>
         <li data-md>
          <p><var>width</var> is non-positive, or non-finite;</p>
         <li data-md>
          <p><var>height</var> is non-positive, or non-finite;</p>
         <li data-md>
          <p><var>widthUnit</var> is not "px" or "sw";</p>
         <li data-md>
          <p><var>heightUnit</var> is not "px" or "sw".</p>
        </ul>
       <li data-md>
        <p>Let <var>adSize</var> be a new <a data-link-type="dfn" href="#ad-size" id="ref-for-ad-size">ad size</a>.</p>
       <li data-md>
        <p>Set <var>adSize</var>’s <a data-link-type="dfn" href="#ad-size-width" id="ref-for-ad-size-width">width</a> to <var>width</var>, <a data-link-type="dfn" href="#ad-size-width-units" id="ref-for-ad-size-width-units">width units</a> to <var>widthUnit</var>, <a data-link-type="dfn" href="#ad-size-height" id="ref-for-ad-size-height">height</a> to <var>height</var>, <a data-link-type="dfn" href="#ad-size-height-units" id="ref-for-ad-size-height-units">height units</a> to <var>heightUnit</var>.</p>
       <li data-md>
        <p>Set <var>adDescriptor</var>’s <a data-link-type="dfn" href="#ad-descriptor-size" id="ref-for-ad-descriptor-size">size</a> to <var>adSize</var>.</p>
      </ol>
     <li data-md>
      <p>Return <var>adDescriptor</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="validate an ad url">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="validate-an-ad-url">validate an ad url</dfn> given a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url④">URL</a> <var>adUrl</var>: 
    <ol>
     <li data-md>
      <p>If <var>adUrl</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme⑦">scheme</a> is not "<code>https</code>", return false.</p>
     <li data-md>
      <p>TODO: If it’s not in the related interest group’s ads, or is excluded, return false.</p>
     <li data-md>
      <p>Return true.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="setPriority(priority)" data-algorithm-for="InterestGroupBiddingScriptRunnerGlobalScope">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="InterestGroupBiddingScriptRunnerGlobalScope" data-dfn-type="method" data-export id="dom-interestgroupbiddingscriptrunnerglobalscope-setpriority"><code>setPriority(<var>priority</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>If not first time calling this method:</p>
      <ol>
       <li data-md>
        <p>Reset priority and return.</p>
      </ol>
     <li data-md>
      <p>Set priority to <var>priority</var>. TODO: figure out how to integrate this into generateBid().</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="setPrioritySignalsOverride(key, priority)" data-algorithm-for="InterestGroupBiddingScriptRunnerGlobalScope">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="InterestGroupBiddingScriptRunnerGlobalScope" data-dfn-type="method" data-export id="dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride"><code>setPrioritySignalsOverride(<var>key</var>, <var>priority</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>Update (insert or assign) prioritySignals[<var>key</var>] to <var>priority</var>. TODO: figure out how to
integrate this into generateBid().</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="sendReportTo(url)" data-algorithm-for="InterestGroupReportingScriptRunnerGlobalScope">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="InterestGroupReportingScriptRunnerGlobalScope" data-dfn-type="method" data-export id="dom-interestgroupreportingscriptrunnerglobalscope-sendreportto"><code>sendReportTo(<var>url</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②⑤">Throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②②">TypeError</a></code> and clears report url if any of the following conditions hold:</p>
      <ul>
       <li data-md>
        <p>The API is called more than once;</p>
       <li data-md>
        <p><var>url</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme⑧">scheme</a> is not "<code>https</code>".</p>
      </ul>
     <li data-md>
      <p>If called in reportWin(), set reportWinURL to url.</p>
     <li data-md>
      <p>If called in reportResult(), set reportResultURL to url.</p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="6" id="interest-group-updates"><span class="secno">6. </span><span class="content">Interest Group Updates</span><a class="self-link" href="#interest-group-updates"></a></h2>
   <p><a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group⑤">Interest groups</a> have a <a data-link-type="dfn" href="#interest-group-daily-update-url" id="ref-for-interest-group-daily-update-url②">daily update url</a> field that allows updating the
interest group definition stored on disk with information periodically retrieved from the <a data-link-type="dfn" href="#interest-group-daily-update-url" id="ref-for-interest-group-daily-update-url③">daily update url</a>.  The <a data-link-type="dfn" href="#interest-group-update" id="ref-for-interest-group-update①">interest group update</a> steps are triggered during <code class="idl"><a data-link-type="idl" href="#dom-navigator-runadauction" id="ref-for-dom-navigator-runadauction③">runAdAuction()</a></code> and by calls to <code class="idl"><a data-link-type="idl" href="#dom-navigator-updateadinterestgroups" id="ref-for-dom-navigator-updateadinterestgroups">updateAdInterestGroups()</a></code> API:</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext③"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-navigator③"><c- g>Navigator</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑤"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-navigator-updateadinterestgroups" id="ref-for-dom-navigator-updateadinterestgroups①"><c- g>updateAdInterestGroups</c-></a>();
};
</pre>
   <div class="algorithm" data-algorithm="updateAdInterestGroups()" data-algorithm-for="Navigator">
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Navigator" data-dfn-type="method" data-export id="dom-navigator-updateadinterestgroups"><code>updateAdInterestGroups()</code></dfn> method steps are:</p>
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel③">In parallel</a>, run <a data-link-type="dfn" href="#interest-group-update" id="ref-for-interest-group-update②">interest group update</a> with
« <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object③">relevant settings object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin" id="ref-for-concept-environment-top-level-origin②">top-level origin</a> »</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="interest group update">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="interest group update" data-noexport id="interest-group-update">update interest groups</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑨">list</a> of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin⑧">origins</a> <var>owners</var>: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①①">For each</a> <var>owner</var> of <var>owners</var>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①②">For each</a> <var>originalInterestGroup</var> of the user agent’s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set④">interest group set</a> whose <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner⑧">owner</a> is <var>owner</var> and <a data-link-type="dfn" href="#interest-group-next-update-after" id="ref-for-interest-group-next-update-after①">next update after</a> is before now:
Implementations may consider loading only a portion of these interest groups at a time to avoid
issuing too many requests at once.</p>
        <ol>
         <li data-md>
          <p>Let <var>ig</var> be a deep copy of <var>originalInterestGroup</var>.</p>
         <li data-md>
          <p>Let <var>update</var> be the result of <a data-link-type="dfn" href="#fetch-resource" id="ref-for-fetch-resource⑤">fetching resource</a> with <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-daily-update-url" id="ref-for-interest-group-daily-update-url④">daily update url</a>,
"application/json", and <var>owner</var>.</p>
         <li data-md>
          <p>If <var>update</var> is failure, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑦">continue</a>.</p>
         <li data-md>
          <p>Let <var>parsedUpdate</var> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#parse-json-bytes-to-a-javascript-value" id="ref-for-parse-json-bytes-to-a-javascript-value">parsing JSON bytes to a JavaScript value</a>, given <var>update</var>.</p>
         <li data-md>
          <p>If <var>parsedUpdate</var> is failure, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑧">continue</a>.</p>
         <li data-md>
          <p>If <var>parsedUpdate</var> is not an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑥">ordered map</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑨">continue</a>.</p>
         <li data-md>
          <p>If |parsedUpdate["name"] exists and doesn’t match <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name⑥">name</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①⓪">continue</a>.</p>
         <li data-md>
          <p>If |parsedUpdate["owner"] exists and doesn’t match <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner⑨">owner</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①①">continue</a>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate①②">For each</a> <var>key</var> → <var>value</var> of <var>parsedUpdate</var>:</p>
          <ol>
           <li data-md>
            <p>Switch on <var>key</var>:</p>
            <dl class="switch">
             <dt>"<code>priority</code>" 
             <dd>
              <ol>
               <li data-md>
                <p>If <var>value</var> is a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①①">double</a></code>, set <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-priority" id="ref-for-interest-group-priority②">priority</a> to <var>value</var>.</p>
               <li data-md>
                <p>Otherwise, jump to the step labeled <i><a href="#abort-update">Abort update</a></i>.</p>
              </ol>
             <dt>"<code>enableBiddingSignalsPrioritization</code>" 
             <dd>
              <ol>
               <li data-md>
                <p>If <var>value</var> is a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean④">boolean</a></code>, set <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-enable-bidding-signals-prioritization" id="ref-for-interest-group-enable-bidding-signals-prioritization②">enable bidding signals prioritization</a> to <var>value</var>.</p>
               <li data-md>
                <p>Otherwise, jump to the step labeled <i><a href="#abort-update">Abort update</a></i>.</p>
              </ol>
             <dt>"<code>priorityVector</code>" 
             <dd>
              <ol>
               <li data-md>
                <p>If <var>value</var> is null or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑦">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys⑤">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑥">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values⑤">values</a> are <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①②">double</a></code>, set <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-priority-vector" id="ref-for-interest-group-priority-vector③">priority vector</a> to <var>value</var>.</p>
               <li data-md>
                <p>Otherwise, jump to the step labeled <i><a href="#abort-update">Abort update</a></i>.</p>
              </ol>
             <dt>"<code>prioritySignalsOverrides</code>" 
             <dd>
              <ol>
               <li data-md>
                <p>If <var>value</var> is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑧">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys⑥">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑦">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values⑥">values</a> are <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①③">double</a></code> or null:</p>
                <ol>
                 <li data-md>
                  <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate①③">For each</a> <var>pvKey</var> → <var>pvValue</var> of <var>value</var>:</p>
                  <ol>
                   <li data-md>
                    <p>If <var>pvValue</var> is null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-remove" id="ref-for-map-remove①">remove</a> <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-priority-signals-overrides" id="ref-for-interest-group-priority-signals-overrides③">priority signals overrides</a>[<var>pvKey</var>].</p>
                   <li data-md>
                    <p>Otherwise, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set③③">set</a> <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-priority-signals-overrides" id="ref-for-interest-group-priority-signals-overrides④">priority signals overrides</a>[<var>pvKey</var>] to <var>pvValue</var>.</p>
                  </ol>
                </ol>
               <li data-md>
                <p>Otherwise, jump to the step labeled <i><a href="#abort-update">Abort update</a></i>.</p>
              </ol>
             <dt>"<code>executionMode</code>" 
             <dd>
              <ol>
               <li data-md>
                <p>If <var>value</var> is "<code>compatibility</code>" or "<code>group-by-origin</code>",
set <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-execution-mode" id="ref-for-interest-group-execution-mode④">execution mode</a> to <var>value</var>.</p>
               <li data-md>
                <p>Otherwise, jump to the step labeled <i><a href="#abort-update">Abort update</a></i>.</p>
              </ol>
             <dt>"<code>biddingLogicURL</code>" 
             <dt>"<code>biddingWasmHelperURL</code>" 
             <dt>"<code>dailyUpdateURL</code>" 
             <dt>"<code>trustedBiddingSignalsURL</code>" 
             <dd>
              <ol>
               <li data-md>
                <p>For each <var>groupMember</var> and <var>interestGroupField</var> in the following table</p>
                <table class="data">
                 <thead>
                  <tr>
                   <th>Group member
                   <th>Interest group field
                 <tbody>
                  <tr>
                   <td>"<code>biddingLogicURL</code>"
                   <td><a data-link-type="dfn" href="#interest-group-bidding-url" id="ref-for-interest-group-bidding-url④">bidding url</a>
                  <tr>
                   <td>"<code>biddingWasmHelperURL</code>"
                   <td><a data-link-type="dfn" href="#interest-group-bidding-wasm-helper-url" id="ref-for-interest-group-bidding-wasm-helper-url③">bidding wasm helper url</a>
                  <tr>
                   <td>"<code>dailyUpdateURL</code>"
                   <td><a data-link-type="dfn" href="#interest-group-daily-update-url" id="ref-for-interest-group-daily-update-url⑤">daily update url</a>
                  <tr>
                   <td>"<code>trustedBiddingSignalsURL</code>"
                   <td><a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-url" id="ref-for-interest-group-trusted-bidding-signals-url④">trusted bidding signals url</a>
                </table>
                <ol>
                 <li data-md>
                  <p>Let <var>parsedURL</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser①②">URL parser</a> on <var>value</var>.</p>
                 <li data-md>
                  <p>If <var>key</var> is not <var>groupMember</var>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①②">continue</a>.</p>
                 <li data-md>
                  <p>Jump to the step labeled <i><a href="#abort-update">Abort update</a></i> if any of the following conditions hold:</p>
                  <ul>
                   <li data-md>
                    <p><var>parsedURL</var> is failure;</p>
                   <li data-md>
                    <p><var>parsedURL</var> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin⑤">same origin</a> with <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner①⓪">owner</a>;</p>
                   <li data-md>
                    <p><var>parsedURL</var> <a data-link-type="dfn" href="https://url.spec.whatwg.org/#include-credentials" id="ref-for-include-credentials②">includes credentials</a>;</p>
                   <li data-md>
                    <p><var>parsedURL</var> <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-fragment" id="ref-for-concept-url-fragment①">fragment</a> is not null.</p>
                  </ul>
                 <li data-md>
                  <p>Set <var>ig</var>’s <var>interestGroupField</var> to <var>parsedURL</var>.</p>
                </ol>
              </ol>
             <dt>"<code>trustedBiddingSignalsKeys</code>" 
             <dd>
              <ol>
               <li data-md>
                <p>If <var>value</var> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⓪">list</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑧">strings</a>,
set <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-keys" id="ref-for-interest-group-trusted-bidding-signals-keys③">trusted bidding signals keys</a> to <var>value</var>.</p>
               <li data-md>
                <p>Otherwise, jump to the step labeled <i><a href="#abort-update">Abort update</a></i>.</p>
              </ol>
             <dt>"<code>ads</code>" 
             <dt>"<code>adComponents</code>" 
             <dd>
              <ol>
               <li data-md>
                <p>For each <var>groupMember</var> and <var>interestGroupField</var> in the following table</p>
                <table class="data">
                 <thead>
                  <tr>
                   <th>Group member
                   <th>Interest group field
                 <tbody>
                  <tr>
                   <td>"<code>ads</code>"
                   <td><a data-link-type="dfn" href="#interest-group-ads" id="ref-for-interest-group-ads②">ads</a>
                  <tr>
                   <td>"<code>adComponents</code>"
                   <td><a data-link-type="dfn" href="#interest-group-ad-components" id="ref-for-interest-group-ad-components②">ad components</a>
                </table>
                <ol>
                 <li data-md>
                  <p>If <var>key</var> is not <var>groupMember</var>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①③">continue</a>.</p>
                 <li data-md>
                  <p>If <var>value</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①①">list</a> of <code class="idl"><a data-link-type="idl" href="#dictdef-auctionad" id="ref-for-dictdef-auctionad②">AuctionAd</a></code>, jump to the step
labeled <i><a href="#abort-update">Abort update</a></i>.</p>
                 <li data-md>
                  <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①③">For each</a> <var>ad</var> of <var>value</var>:</p>
                  <ol>
                   <li data-md>
                    <p>Let <var>igAd</var> be a new <a data-link-type="dfn" href="#interest-group-ad" id="ref-for-interest-group-ad②">interest group ad</a>.</p>
                   <li data-md>
                    <p>Let <var>renderURL</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser①③">URL parser</a> on <var>ad</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionad-renderurl" id="ref-for-dom-auctionad-renderurl①">renderURL</a></code>"].</p>
                   <li data-md>
                    <p>Jump to the step labeled <i><a href="#abort-update">Abort update</a></i> if any of the following conditions hold:</p>
                    <ul>
                     <li data-md>
                      <p><var>renderURL</var> is failure;</p>
                     <li data-md>
                      <p><var>renderURL</var> <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme⑨">scheme</a> is not "<code>https</code>";</p>
                     <li data-md>
                      <p><var>renderURL</var> <a data-link-type="dfn" href="https://url.spec.whatwg.org/#include-credentials" id="ref-for-include-credentials③">includes credentials</a>.</p>
                    </ul>
                   <li data-md>
                    <p>Set <var>igAd</var>’s <a data-link-type="dfn" href="#interest-group-ad-render-url" id="ref-for-interest-group-ad-render-url③">render url</a> to <var>renderURL</var>.</p>
                   <li data-md>
                    <p>If <var>ad</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionad-metadata" id="ref-for-dom-auctionad-metadata②">metadata</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③⑤">exists</a>, then let <var>igAd</var>’s <a data-link-type="dfn" href="#interest-group-ad-metadata" id="ref-for-interest-group-ad-metadata③">metadata</a> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string" id="ref-for-serialize-a-javascript-value-to-a-json-string⑥">serializing a JavaScript value to a JSON string</a>, given <var>ad</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionad-metadata" id="ref-for-dom-auctionad-metadata③">metadata</a></code>"].
If this can <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②⑥">throws</a>, jump to the step
labeled <i><a href="#abort-update">Abort update</a></i>.</p>
                   <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①③">Append</a> <var>igAd</var> to <var>ig</var>’s <var>interestGroupField</var>.</p>
                  </ol>
                </ol>
              </ol>
            </dl>
          </ol>
         <li data-md>
          <p>Set <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-next-update-after" id="ref-for-interest-group-next-update-after②">next update after</a> to the current time plus 24 hours.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-replace" id="ref-for-list-replace">Replace</a> <var>originalInterestGroup</var> with <var>ig</var> in the browser’s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set⑤">interest group set</a>.</p>
         <li data-md>
          <p><i id="abort-update">Abort update</i>: We jump here if some part of the <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group⑥">interest group</a> update failed. <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①④">Continue</a> to the next <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group⑦">interest group</a> update.</p>
        </ol>
      </ol>
    </ol>
   </div>
   <h2 class="heading settled" data-level="7" id="permissions-policy-integration"><span class="secno">7. </span><span class="content">Permissions Policy integration</span><a class="self-link" href="#permissions-policy-integration"></a></h2>
   <p>This specification defines two <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature③">policy-controlled features</a> identified by the strings
"<code><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="join-ad-interest-group">join-ad-interest-group</dfn></code>", and
"<code><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="run-ad-auction">run-ad-auction</dfn></code>". Their <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist" id="ref-for-policy-controlled-feature-default-allowlist">default allowlists</a> are "<code>*</code>".</p>
   <div class="issue no-marker" id="issue-fe255eea">
    <a class="self-link" href="#issue-fe255eea"></a><a class="marker" href="https://github.com/WICG/turtledove/issues/522">Issue #522 on GitHub: “Move "join-ad-interest-group" &amp; "run-ad-auction" default allowlists to `self`”</a>
    <p dir="auto">Currently they're <code class="notranslate">*</code>.</p>
   </div>
   <h2 class="heading settled" data-level="8" id="structures"><span class="secno">8. </span><span class="content">Structures</span><a class="self-link" href="#structures"></a></h2>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="8.1" data-lt="Interest group" data-noexport id="interest-group"><span class="secno">8.1. </span><span class="content">Interest group</span><a class="self-link" href="#interest-group" id="ref-for-interest-group①⓪"></a></h3>
   <p>An interest group is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-expiry">expiry</dfn>
    <dd data-md>
     <p>A point in time at which the browser will forget about this interest group.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-owner">owner</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin⑨">origin</a>. Frames that join interest groups owned by <code>owner</code> must either be served from origin <code>owner</code>, or another origin delegated by <code>owner</code> (TODO: update to link to delegation section when done).
The <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-scheme" id="ref-for-concept-origin-scheme①">scheme</a> must be "<code>https</code>".</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-name">name</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑨">string</a>. The (<a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner①①">owner</a>, <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name⑦">name</a>) tuple is a key that uniquely defines each interest group.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-priority">priority</dfn>
    <dd data-md>
     <p>A <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①④">double</a></code>. Defaulting to 0.0. Used to select which interest groups participate in an auction
when the number of interest groups are limited by <code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyergrouplimits" id="ref-for-dom-auctionadconfig-perbuyergrouplimits②">perBuyerGroupLimits</a></code>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-enable-bidding-signals-prioritization">enable bidding signals prioritization</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean③">boolean</a>. Defaulting to false. Being true if the interest group’s priority should be
calculated using vectors from bidding signals fetch.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-priority-vector">priority vector</dfn>
    <dd data-md>
     <p>Null or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑨">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys⑦">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⓪">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values⑦">values</a> are <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①⑤">double</a></code>. Its dot product with the <code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyerprioritysignals" id="ref-for-dom-auctionadconfig-perbuyerprioritysignals②">perBuyerPrioritySignals</a></code> will be used
in place of <a data-link-type="dfn" href="#interest-group-priority" id="ref-for-interest-group-priority③">priority</a>, if set.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-priority-signals-overrides">priority signals overrides</dfn>
    <dd data-md>
     <p>Null or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①⓪">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys⑧">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②①">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values⑧">values</a> are <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①⑥">double</a></code>. Overrides the <code class="idl"><a data-link-type="idl" href="#dictdef-auctionadconfig" id="ref-for-dictdef-auctionadconfig④">AuctionAdConfig</a></code>'s corresponding priority signals.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-execution-mode">execution mode</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②②">string</a>, defaulting to "<code>compatibility</code>". Acceptable values are
"<code>compatibility</code>" and "<code>group-by-origin</code>".</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-bidding-url">bidding url</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑤">URL</a>. The URL to fetch the buyer’s JavaScript from.</p>
     <p class="note" role="note">The <a data-link-type="dfn" href="#interest-group-bidding-url" id="ref-for-interest-group-bidding-url⑤">bidding url</a> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①⓪">origin</a> will always be <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin⑥">same origin</a> with <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner①②">owner</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-bidding-wasm-helper-url">bidding wasm helper url</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑥">URL</a>. Lets the bidder provide computationally-expensive subroutines in WebAssembly,
in addition to JavaScript, to be driven from the JavaScript function provided by <a data-link-type="dfn" href="#interest-group-bidding-url" id="ref-for-interest-group-bidding-url⑥">bidding url</a>.</p>
     <p class="note" role="note">The <a data-link-type="dfn" href="#interest-group-bidding-wasm-helper-url" id="ref-for-interest-group-bidding-wasm-helper-url④">bidding wasm helper url</a> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①①">origin</a> will always be <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin⑦">same origin</a> with <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner①③">owner</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-daily-update-url">daily update url</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑦">URL</a>. Provides a mechanism for the group’s owner to periodically update the
attributes of the interest group. See <a href="#interest-group-updates">interest group updates</a>.</p>
     <p class="note" role="note">The <a data-link-type="dfn" href="#interest-group-daily-update-url" id="ref-for-interest-group-daily-update-url⑥">daily update url</a> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①②">origin</a> will always be <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin⑧">same origin</a> with <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner①④">owner</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-trusted-bidding-signals-url">trusted bidding signals url</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑧">URL</a>. Provide a mechanism for making real-time data available for use at bidding
time. See <a data-link-type="dfn" href="#build-trusted-bidding-signals-url" id="ref-for-build-trusted-bidding-signals-url①">building trusted bidding signals url</a>.</p>
     <p class="note" role="note">Note: The <a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-url" id="ref-for-interest-group-trusted-bidding-signals-url⑤">trusted bidding signals url</a> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①③">origin</a> will always be <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin⑨">same origin</a> with <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner①⑤">owner</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-trusted-bidding-signals-keys">trusted bidding signals keys</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①②">list</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②③">string</a>. See <a data-link-type="dfn" href="#build-trusted-bidding-signals-url" id="ref-for-build-trusted-bidding-signals-url②">building trusted bidding signals url</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-user-bidding-signals">user bidding signals</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②④">string</a>. Additional metadata that the owner can use during on-device bidding.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-ads">ads</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①③">list</a> of <a data-link-type="dfn" href="#interest-group-ad" id="ref-for-interest-group-ad③">interest group ad</a>. Contains various ads that the interest group might
show.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-ad-components">ad components</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①④">list</a> of <a data-link-type="dfn" href="#interest-group-ad" id="ref-for-interest-group-ad④">interest group ad</a>. Contains various ad components (or "products") that
can be used to construct ads composed of multiple pieces — a top-level ad template "container"
which includes some slots that can be filled in with specific "products".</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-joining-origin">joining origin</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①④">origin</a>. The top level page origin from where the interest group was joined.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-join-counts">join counts</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑤">list</a> containing <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#tuple" id="ref-for-tuple①">tuple</a>s of the day and per day join count. The day
is calculated based on local time. The join count is a count of the number of
times <code class="idl"><a data-link-type="idl" href="#dom-navigator-joinadinterestgroup" id="ref-for-dom-navigator-joinadinterestgroup③">joinAdInterestGroup()</a></code> was called for this interest group on the
corresponding day.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-bid-counts">bid counts</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑥">list</a> containing <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#tuple" id="ref-for-tuple②">tuple</a>s of the day and per day bid count. The day
is calculated based on local time. The bid count is a count of the number of
times the bid calculated during <code class="idl"><a data-link-type="idl" href="#dom-navigator-runadauction" id="ref-for-dom-navigator-runadauction④">runAdAuction()</a></code> was greater than 0.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-previous-wins">previous wins</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑦">list</a> containing <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#tuple" id="ref-for-tuple③">tuple</a>s of the time and the corresponding <a data-link-type="dfn" href="#interest-group-ad" id="ref-for-interest-group-ad⑤">interest group ad</a> for each instance that this interest group won an
auction.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-next-update-after">next update after</dfn>
    <dd data-md>
     <p>A point in time at which the browser will permit updating this interest group.</p>
   </dl>
   <p>TODO: Specify the short descriptions of some fields above and below, and add links when runAdAuction() section
is ready.</p>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="8.2" data-lt="Interest group ad" data-noexport id="interest-group-ad"><span class="secno">8.2. </span><span class="content">Interest group ad</span><a class="self-link" href="#interest-group-ad" id="ref-for-interest-group-ad⑥"></a></h3>
   <p>An interest group ad is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group ad" data-dfn-type="dfn" data-noexport id="interest-group-ad-render-url">render url</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑨">URL</a>. If this ad wins the auction, this URL (or a <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc4122.txt#urn-uuid" id="ref-for-urn-uuid">urn uuid</a> that maps to this URL) will be
returned by <code>runAdAuction()</code>. This URL is intended to be loaded into an ad iframe (or a fenced frame).</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group ad" data-dfn-type="dfn" data-noexport id="interest-group-ad-metadata">metadata</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⑤">string</a>. Extra arbitary information about this ad, passed to <code>generateBid()</code>.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="8.3" data-lt="Auction config" data-noexport id="auction-config"><span class="secno">8.3. </span><span class="content">Auction config</span><a class="self-link" href="#auction-config" id="ref-for-auction-config⑦"></a></h3>
   <p>An auction config is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct②">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-seller">seller</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①⑤">origin</a>.
The origin of the seller running the ad auction. The <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-scheme" id="ref-for-concept-origin-scheme②">scheme</a> must be "<code>https</code>".</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-decision-logic-url">decision logic url</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①⓪">URL</a>.
The URL to fetch the seller’s JavaScript from.</p>
     <p class="note" role="note">The <a data-link-type="dfn" href="#auction-config-decision-logic-url" id="ref-for-auction-config-decision-logic-url③">decision logic url</a> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①⑥">origin</a> will always be <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin①⓪">same origin</a> with <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller⑥">seller</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-trusted-scoring-signals-url">trusted scoring signals url</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①①">URL</a>.
Provide a mechanism for making real-time data (information about a specific creative) available
for use at scoring time, e.g. the results of some ad scanning system.</p>
     <p class="note" role="note">The <a data-link-type="dfn" href="#auction-config-trusted-scoring-signals-url" id="ref-for-auction-config-trusted-scoring-signals-url①">trusted scoring signals url</a> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①⑦">origin</a> will always be <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin①①">same origin</a> with <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller⑦">seller</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-interest-group-buyers">interest group buyers</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑧">list</a> of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①⑧">origin</a>.
Owners of interest groups allowed to participate in the auction. Each <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①⑨">origin’s</a> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-scheme" id="ref-for-concept-origin-scheme③">scheme</a> must be "<code>https</code>".</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-auction-signals">auction signals</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⑥">string</a>.
Opaque JSON data passed to both sellers' and buyers' script runners.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-seller-signals">seller signals</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⑦">string</a>.
Opaque JSON data passed to the seller’s script runner.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-seller-timeout">seller timeout</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration">duration</a> in milliseconds. Defaulting to 50 milliseconds.
Restricts the runtime of the seller’s <code>scoreAd()</code> script.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-per-buyer-signals">per buyer signals</dfn>
    <dd data-md>
     <p>Null or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①①">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys⑨">keys</a> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin②⓪">origins</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values⑨">values</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⑧">strings</a>. <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①⓪">Keys</a> are buyers and must be valid HTTPS origins. <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①⓪">Values</a> are opaque JSON data
passed to corresponding buyer’s script runner.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-per-buyer-timeouts">per buyer timeouts</dfn>
    <dd data-md>
     <p>Null or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①②">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①①">keys</a> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin②①">origins</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①①">values</a> are
durations in milliseconds. <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①②">Keys</a> are buyers and must be valid HTTPS origins. <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①②">Values</a> restrict the runtime of
corresponding buyer’s <code>generateBid()</code> script.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-all-buyers-timeout">all buyers timeout</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration①">duration</a> in milliseconds. Defaulting to 50 milliseconds.
Restricts the <code>generateBid()</code> script’s runtime for all buyers without a timeout specified in <a data-link-type="dfn" href="#auction-config-per-buyer-timeouts" id="ref-for-auction-config-per-buyer-timeouts①">per buyer timeouts</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-per-buyer-group-limits">per buyer group limits</dfn>
    <dd data-md>
     <p>Null or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①③">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①③">keys</a> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin②②">origins</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①③">values</a> are <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short④">unsigned short</a></code>s. <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①④">Keys</a> are buyers and must be valid HTTPS origins. <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①④">Values</a> restrict the number of
bidding interest groups for a particular buyer that can participate in an auction.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-all-buyers-group-limit">all buyers group limit</dfn>
    <dd data-md>
     <p>A <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short⑤">unsigned short</a></code>.
Limit on the number of bidding interest groups for all buyers without a limit specified in <a data-link-type="dfn" href="#auction-config-per-buyer-group-limits" id="ref-for-auction-config-per-buyer-group-limits①">per buyer group limits</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-per-buyer-priority-signals">per buyer priority signals</dfn>
    <dd data-md>
     <p>Null or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①④">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①⑤">keys</a> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin②③">origins</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①⑤">values</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①⑤">ordered maps</a>, whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①⑥">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⑨">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①⑥">values</a> are <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①⑦">double</a></code>.
Per-buyer sparse vector whose dot product with <a data-link-type="dfn" href="#interest-group-priority-vector" id="ref-for-interest-group-priority-vector④">priority vector</a> is used to
calculate interest group priorities. No signal’s key starts with "browserSignals.", which is
reserved for values coming from the browser.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-all-buyers-priority-signals">all buyers priority signals</dfn>
    <dd data-md>
     <p>Null or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①⑥">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①⑦">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③⓪">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①⑦">values</a> are <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①⑧">double</a></code>.
Merged with <a data-link-type="dfn" href="#auction-config-per-buyer-priority-signals" id="ref-for-auction-config-per-buyer-priority-signals①">per buyer priority signals</a> before calculating per-interest group
priorities. In the case both have entries with the same key, the entry in <code>per_buyer_priority_signals</code> takes precedence. No signals key start with "browserSignals.", which
is reserved for values coming from the browser.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-component-auctions">component auctions</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑨">list</a> of <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config⑤">auction config</a>s.
Nested auctions whose results will also participate in a top level auction. Only the top level <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config⑥">auction config</a> can have component auctions.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-seller-experiment-group-id">seller experiment group id</dfn>
    <dd data-md>
     <p>A <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short⑥">unsigned short</a></code>.
Optional identifier for an experiment group to support coordinated experiments with the seller’s
trusted server.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-per-buyer-experiment-group-ids">per buyer experiment group ids</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①⑦">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①⑧">keys</a> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin②④">origins</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①⑧">values</a> are <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short⑦">unsigned short</a></code>s. <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①⑨">Keys</a> are buyers and must be valid HTTPS origins. <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①⑨">Values</a> are identifiers for
experiment groups, to support coordinated experiments with buyers' trusted servers.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-all-buyer-experiment-group-id">all buyer experiment group id</dfn>
    <dd data-md>
     <p>A <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short⑧">unsigned short</a></code>.
Optional identifier for an experiment group to support coordinated experiments with buyers'
trusted servers for buyers without a specified experiment group.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="8.4" data-lt="Per buyer bid generator" data-noexport id="per-buyer-bid-generator"><span class="secno">8.4. </span><span class="content">Per buyer bid generator</span><a class="self-link" href="#per-buyer-bid-generator" id="ref-for-per-buyer-bid-generator②"></a></h3>
   <p>A per buyer bid generator is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①⑧">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys②⓪">keys</a> are <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①②">URLs</a> representing <a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-url" id="ref-for-interest-group-trusted-bidding-signals-url⑥">trusted bidding signals urls</a>, and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values②⓪">values</a> are <a data-link-type="dfn" href="#per-signals-url-bid-generator" id="ref-for-per-signals-url-bid-generator②">per signals url bid generators</a>.</p>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="8.5" data-lt="Per signals url bid generator" data-noexport id="per-signals-url-bid-generator"><span class="secno">8.5. </span><span class="content">Per signals url bid generator</span><a class="self-link" href="#per-signals-url-bid-generator" id="ref-for-per-signals-url-bid-generator③"></a></h3>
   <p>A per signals url bid generator is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①⑨">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys②①">keys</a> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin②⑤">origins</a> representing <a data-link-type="dfn" href="#interest-group-joining-origin" id="ref-for-interest-group-joining-origin②">joining origins</a>, and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values②①">values</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②⓪">lists</a> of <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group⑧">interest groups</a>.</p>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="8.6" data-lt="Generated bid" data-noexport id="generated-bid"><span class="secno">8.6. </span><span class="content">Generated bid</span><a class="self-link" href="#generated-bid" id="ref-for-generated-bid⑤"></a></h3>
   <p>The output of running a FLEDGE generateBid() script, which needs to be scored by the seller.</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="generated bid" data-dfn-type="dfn" data-noexport id="generated-bid-bid">bid</dfn>
    <dd data-md>
     <p>A <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①⑨">double</a></code>. If the bid is zero or negative, then this interest group will not participate in
the auction.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="generated bid" data-dfn-type="dfn" data-noexport id="generated-bid-ad">ad</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③①">string</a>. JSON string to be passed to the scoring function.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="generated bid" data-dfn-type="dfn" data-noexport id="generated-bid-ad-descriptor">ad descriptor</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="#ad-descriptor" id="ref-for-ad-descriptor④">ad descriptor</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="generated bid" data-dfn-type="dfn" data-noexport id="generated-bid-ad-component-descriptors">ad component descriptors</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②①">list</a> of <a data-link-type="dfn" href="#ad-descriptor" id="ref-for-ad-descriptor⑤">ad descriptors</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="generated bid" data-dfn-type="dfn" data-noexport id="generated-bid-ad-cost">ad cost</dfn>
    <dd data-md>
     <p>Null or a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double②⓪">double</a></code>. Advertiser click or conversion cost passed from <code>generateBid()</code> to
reportWin().</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="generated bid" data-dfn-type="dfn" data-noexport id="generated-bid-modeling-signals">modeling signals</dfn>
    <dd data-md>
     <p>Null or a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short⑨">unsigned short</a></code>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="generated bid" data-dfn-type="dfn" data-noexport id="generated-bid-interest-group">interest group</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group⑨">interest group</a>, whose <code>generateBid()</code> invocation generated this bid.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="8.7" data-lt="Ad descriptor" data-noexport id="ad-descriptor"><span class="secno">8.7. </span><span class="content">Ad descriptor</span><a class="self-link" href="#ad-descriptor" id="ref-for-ad-descriptor⑥"></a></h3>
   <p>The render URL and size of an ad.</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="ad descriptor" data-dfn-type="dfn" data-noexport id="ad-descriptor-url">url</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①③">URL</a>, which will be rendered to display the creative if this bid wins the auction.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="ad descriptor" data-dfn-type="dfn" data-noexport id="ad-descriptor-size">size</dfn>
    <dd data-md>
     <p>Null or an <a data-link-type="dfn" href="#ad-size" id="ref-for-ad-size①">ad size</a>. Defaulting to null.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="8.8" data-lt="Ad size" data-noexport id="ad-size"><span class="secno">8.8. </span><span class="content">Ad size</span><a class="self-link" href="#ad-size" id="ref-for-ad-size②"></a></h3>
   <p>Width and height of an ad.</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="ad size" data-dfn-type="dfn" data-noexport id="ad-size-width">width</dfn>
    <dd data-md>
     <p>A <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double②①">double</a></code>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="ad size" data-dfn-type="dfn" data-noexport id="ad-size-width-units">width units</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③②">string</a>. Can only be one of "px" (pixel) and "sw" (screen width).</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="ad size" data-dfn-type="dfn" data-noexport id="ad-size-height">height</dfn>
    <dd data-md>
     <p>A <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double②②">double</a></code>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="ad size" data-dfn-type="dfn" data-noexport id="ad-size-height-units">height units</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③③">string</a>. Can only be one of "px" (pixel) and "sw" (screen width).</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="8.9" data-lt="Score ad output" data-noexport id="score-ad-output"><span class="secno">8.9. </span><span class="content">Score ad output</span><a class="self-link" href="#score-ad-output" id="ref-for-score-ad-output"></a></h3>
   <p>The output of running a FLEDGE scoreAd() script.</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="score ad output" data-dfn-type="dfn" data-noexport id="score-ad-output-desirability">desirability</dfn>
    <dd data-md>
     <p>A <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double②③">double</a></code>.
Numeric score of the bid. Must be positive or the ad will be rejected. The winner of the auction
is the bid which was given the highest score.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="score ad output" data-dfn-type="dfn" data-noexport id="score-ad-output-allow-component-auction">allow component auction</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean④">boolean</a>.
 If the bid being scored is from a component auction and this value is not true, the bid is
 ignored. This field must be present and true both when the component seller scores a bid, and
 when that bid is being scored by the top-level auction.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="score ad output" data-dfn-type="dfn" data-noexport id="score-ad-output-bid">bid</dfn>
    <dd data-md>
     <p>Null or a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double②④">double</a></code>.
Is null if the auction has no component auction, or if the auction is a top-level auction.
Modified bid value to provide to the top-level seller script. If present, this will be passed to
the top-level seller’s scoreAd() and reportResult() methods instead of the original bid, if the ad
wins the component auction and top-level auction, respectively.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="8.10" data-lt="Leading bid info" data-noexport id="leading-bid-info"><span class="secno">8.10. </span><span class="content">Leading bid info</span><a class="self-link" href="#leading-bid-info" id="ref-for-leading-bid-info②"></a></h3>
   <p>Information of the auction’s leading bid so far when ranking scored bids.</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="leading bid info" data-dfn-type="dfn" data-noexport id="leading-bid-info-top-score">top score</dfn>
    <dd data-md>
     <p>A <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double②⑤">double</a></code>. Defaulting to 0.0. The highest score so far.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="leading bid info" data-dfn-type="dfn" data-noexport id="leading-bid-info-top-bids-count">top bids count</dfn>
    <dd data-md>
     <p>An integer. Defaulting to 0. The number of bids with the same <code>top score</code>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="leading bid info" data-dfn-type="dfn" data-noexport id="leading-bid-info-leading-bid">leading bid</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="#generated-bid" id="ref-for-generated-bid④">generated bid</a>. The leading bid of the auction so far.</p>
   </dl>
   <h2 class="heading settled" data-level="9" id="privacy-considerations"><span class="secno">9. </span><span class="content">Privacy Considerations</span><a class="self-link" href="#privacy-considerations"></a></h2>
   <p>FLEDGE aims to advance the privacy of remarketing and custom audience advertising on the web, so
naturally privacy considerations are paramount to FLEDGE’s design.  Partitioning data by site is
the central mechanism to prevent joining a user’s identity across sites:</p>
   <ul>
    <li data-md>
     <p>Interest group definitions come from just one site, the site that called <code class="idl"><a data-link-type="idl" href="#dom-navigator-joinadinterestgroup" id="ref-for-dom-navigator-joinadinterestgroup④">joinAdInterestGroup()</a></code>.</p>
    <li data-md>
     <p>Bidding (<code>generateBid()</code>) and scoring (<code>scoreAd()</code>) scripts are exposed to interest group data
from the joining site, and data from the site that will display the ad, but these scripts are run
in strict isolation to prevent leaking this cross-site information.</p>
    <li data-md>
     <p>The browser can enforce that trusted bidding and scoring signals are fetched from servers
complying with certain privacy requirements, e.g. not performing event-level logging.</p>
    <li data-md>
     <p>Ads are rendered in <code><a data-link-type="element" href="https://wicg.github.io/fenced-frame/#elementdef-fencedframe" id="ref-for-elementdef-fencedframe">fencedframe</a></code>s that isolate them from the surrounding page to prevent
cross-site leakage.</p>
    <li data-md>
     <p>Reporting is strictly controlled by the browser to prevent cross-site leaks:  Inputs to
event-level reporting functions, <code>reportWin()</code> and <code>reportResult()</code>, only contain limited
cross-site information, e.g. the k-anonymous ad URL.  Event-level reporting is meant to be a
temporary stepping stone to more private mechanisms like <a href="https://github.com/patcg-individual-drafts/private-aggregation-api">Private Aggregation
API</a>.</p>
   </ul>
   <h2 class="heading settled" data-level="10" id="security-considerations"><span class="secno">10. </span><span class="content">Security Considerations</span><a class="self-link" href="#security-considerations"></a></h2>
   <p>FLEDGE involves the browser running untrusted JavaScript downloaded from multiple parties, so
security concerns are top of mind. Fortunately FLEDGE is a highly constrained API not attempting to
be a general purpose execution environment. Execution of this JavaScript is controlled and limited
as follows:</p>
   <ul>
    <li data-md>
     <p>FLEDGE requires the origin of the scripts’ URLs to match that of the origin of the
interest group owner, which is in turn required to match the origin of the context calling the <code class="idl"><a data-link-type="idl" href="#dom-navigator-joinadinterestgroup" id="ref-for-dom-navigator-joinadinterestgroup⑤">joinAdInterestGroup()</a></code>.</p>
    <li data-md>
     <p>URL schemes are required to be HTTPS.</p>
    <li data-md>
     <p>Redirects are disallowed.</p>
    <li data-md>
     <p>Responses are required to contain the <code>X-Allow-FLEDGE: true</code> header.</p>
    <li data-md>
     <p>Fetches are uncredentialed.</p>
   </ul>
   <p>FLEDGE has the browser pass in several “browserSignals” to the bidding script that give the script
unforgeable information about the context that the script is being executed in. This way bidders
and sellers have the choice to only participate in auctions where they are comfortable working with
the involved parties.</p>
   <p>The <a href="#script-runners">execution environment</a> available to these scripts is the absolute minimum necessary to calculate</p>
   <p>a bid. It supports only ECMAScript. It does not support network, storage, timer, date, DOM,
Workers, postMessage, Navigator or Window APIs.</p>
   <p>FLEDGE adds Permission-Policies to control access to the FLEDGE APIs to give sites and embedders
the ability to clamp down on use of the APIs as they see fit.</p>
  </main>
<script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#create-a-request-accept">accept</a><span>, in § 4.1</span>
   <li>
    ad
    <ul>
     <li><a href="#generated-bid-ad">dfn for generated bid</a><span>, in § 8.6</span>
     <li><a href="#dom-generatebidoutput-ad">dict-member for GenerateBidOutput</a><span>, in § 5.2</span>
    </ul>
   <li><a href="#generated-bid-ad-component-descriptors">ad component descriptors</a><span>, in § 8.6</span>
   <li><a href="#interest-group-ad-components">ad components</a><span>, in § 8.1</span>
   <li>
    adComponents
    <ul>
     <li><a href="#dom-auctionadinterestgroup-adcomponents">dict-member for AuctionAdInterestGroup</a><span>, in § 2</span>
     <li><a href="#dom-generatebidoutput-adcomponents">dict-member for GenerateBidOutput</a><span>, in § 5.2</span>
    </ul>
   <li><a href="#generated-bid-ad-cost">ad cost</a><span>, in § 8.6</span>
   <li><a href="#dom-generatebidoutput-adcost">adCost</a><span>, in § 5.2</span>
   <li><a href="#ad-descriptor">Ad descriptor</a><span>, in § 8.6</span>
   <li><a href="#generated-bid-ad-descriptor">ad descriptor</a><span>, in § 8.6</span>
   <li><a href="#dictdef-adrender">AdRender</a><span>, in § 5.2</span>
   <li><a href="#dom-generatebidoutput-adrender">adRender</a><span>, in § 5.2</span>
   <li>
    ads
    <ul>
     <li><a href="#interest-group-ads">dfn for interest group</a><span>, in § 8.1</span>
     <li><a href="#dom-auctionadinterestgroup-ads">dict-member for AuctionAdInterestGroup</a><span>, in § 2</span>
    </ul>
   <li><a href="#ad-size">Ad size</a><span>, in § 8.7</span>
   <li><a href="#auction-config-all-buyer-experiment-group-id">all buyer experiment group id</a><span>, in § 8.3</span>
   <li><a href="#auction-config-all-buyers-group-limit">all buyers group limit</a><span>, in § 8.3</span>
   <li><a href="#auction-config-all-buyers-priority-signals">all buyers priority signals</a><span>, in § 8.3</span>
   <li><a href="#auction-config-all-buyers-timeout">all buyers timeout</a><span>, in § 8.3</span>
   <li><a href="#score-ad-output-allow-component-auction">allow component auction</a><span>, in § 8.9</span>
   <li><a href="#dom-generatebidoutput-allowcomponentauction">allowComponentAuction</a><span>, in § 5.2</span>
   <li><a href="#dictdef-auctionad">AuctionAd</a><span>, in § 2</span>
   <li><a href="#dictdef-auctionadconfig">AuctionAdConfig</a><span>, in § 4.1</span>
   <li><a href="#dictdef-auctionadinterestgroup">AuctionAdInterestGroup</a><span>, in § 2</span>
   <li><a href="#dictdef-auctionadinterestgroupkey">AuctionAdInterestGroupKey</a><span>, in § 3</span>
   <li><a href="#auction-config">Auction config</a><span>, in § 8.2</span>
   <li><a href="#auction-config-auction-signals">auction signals</a><span>, in § 8.3</span>
   <li><a href="#dom-auctionadconfig-auctionsignals">auctionSignals</a><span>, in § 4.1</span>
   <li>
    bid
    <ul>
     <li><a href="#generated-bid-bid">dfn for generated bid</a><span>, in § 8.6</span>
     <li><a href="#score-ad-output-bid">dfn for score ad output</a><span>, in § 8.9</span>
     <li><a href="#dom-generatebidoutput-bid">dict-member for GenerateBidOutput</a><span>, in § 5.2</span>
    </ul>
   <li><a href="#interest-group-bid-counts">bid counts</a><span>, in § 8.1</span>
   <li><a href="#dom-auctionadinterestgroup-biddinglogicurl">biddingLogicURL</a><span>, in § 2</span>
   <li><a href="#interest-group-bidding-url">bidding url</a><span>, in § 8.1</span>
   <li><a href="#interest-group-bidding-wasm-helper-url">bidding wasm helper url</a><span>, in § 8.1</span>
   <li><a href="#dom-auctionadinterestgroup-biddingwasmhelperurl">biddingWasmHelperURL</a><span>, in § 2</span>
   <li><a href="#build-an-interest-group-permissions-url">build an interest group permissions url</a><span>, in § 2</span>
   <li><a href="#build-bid-generators-map">build bid generators map</a><span>, in § 4.1</span>
   <li><a href="#build-trusted-bidding-signals-url">build trusted bidding signals url</a><span>, in § 4.1</span>
   <li><a href="#check-interest-group-permissions">check interest group permissions</a><span>, in § 2</span>
   <li><a href="#auction-config-component-auctions">component auctions</a><span>, in § 8.3</span>
   <li><a href="#dom-auctionadconfig-componentauctions">componentAuctions</a><span>, in § 4.1</span>
   <li><a href="#convert-an-ad-render">convert an ad render</a><span>, in § 5.2</span>
   <li><a href="#create-a-new-script-runner-agent">create a new script runner agent</a><span>, in § 5.1</span>
   <li><a href="#create-a-request">create a request</a><span>, in § 4.1</span>
   <li><a href="#create-a-seller-script-runner">create a seller script runner</a><span>, in § 4.1</span>
   <li><a href="#interest-group-daily-update-url">daily update url</a><span>, in § 8.1</span>
   <li><a href="#dom-auctionadinterestgroup-dailyupdateurl">dailyUpdateURL</a><span>, in § 2</span>
   <li><a href="#auction-config-decision-logic-url">decision logic url</a><span>, in § 8.3</span>
   <li><a href="#dom-auctionadconfig-decisionlogicurl">decisionLogicURL</a><span>, in § 4.1</span>
   <li><a href="#score-ad-output-desirability">desirability</a><span>, in § 8.9</span>
   <li><a href="#dom-auctionadconfig-directfromsellersignals">directFromSellerSignals</a><span>, in § 4.1</span>
   <li><a href="#interest-group-enable-bidding-signals-prioritization">enable bidding signals prioritization</a><span>, in § 8.1</span>
   <li><a href="#dom-auctionadinterestgroup-enablebiddingsignalsprioritization">enableBiddingSignalsPrioritization</a><span>, in § 2</span>
   <li><a href="#interest-group-estimated-size">estimated size</a><span>, in § 2</span>
   <li><a href="#evaluate-a-bidding-script">evaluate a bidding script</a><span>, in § 5.1</span>
   <li><a href="#evaluate-a-reporting-script">evaluate a reporting script</a><span>, in § 5.1</span>
   <li><a href="#evaluate-a-scoring-script">evaluate a scoring script</a><span>, in § 5.1</span>
   <li><a href="#evaluate-a-script">evaluate a script</a><span>, in § 5.1</span>
   <li><a href="#interest-group-execution-mode">execution mode</a><span>, in § 8.1</span>
   <li><a href="#dom-auctionadinterestgroup-executionmode">executionMode</a><span>, in § 2</span>
   <li><a href="#interest-group-expiry">expiry</a><span>, in § 8.1</span>
   <li><a href="#fetch-resource">fetch resource</a><span>, in § 4.1</span>
   <li><a href="#generate-and-score-bids">generate and score bids</a><span>, in § 4.1</span>
   <li><a href="#dictdef-generatebidoutput">GenerateBidOutput</a><span>, in § 5.2</span>
   <li><a href="#generated-bid">Generated bid</a><span>, in § 8.5</span>
   <li><a href="#generate-reporting-urls">generate reporting URLs</a><span>, in § 4.1</span>
   <li>
    height
    <ul>
     <li><a href="#ad-size-height">dfn for ad size</a><span>, in § 8.8</span>
     <li><a href="#dom-adrender-height">dict-member for AdRender</a><span>, in § 5.2</span>
    </ul>
   <li><a href="#ad-size-height-units">height units</a><span>, in § 8.8</span>
   <li><a href="#interest-group">Interest group</a><span>, in § 8</span>
   <li><a href="#generated-bid-interest-group">interest group</a><span>, in § 8.6</span>
   <li><a href="#interest-group-ad">Interest group ad</a><span>, in § 8.1</span>
   <li><a href="#interestgroupbiddingscriptrunnerglobalscope">InterestGroupBiddingScriptRunnerGlobalScope</a><span>, in § 5.2</span>
   <li><a href="#auction-config-interest-group-buyers">interest group buyers</a><span>, in § 8.3</span>
   <li><a href="#dom-auctionadconfig-interestgroupbuyers">interestGroupBuyers</a><span>, in § 4.1</span>
   <li><a href="#interestgroupreportingscriptrunnerglobalscope">InterestGroupReportingScriptRunnerGlobalScope</a><span>, in § 5.2</span>
   <li><a href="#interestgroupscoringscriptrunnerglobalscope">InterestGroupScoringScriptRunnerGlobalScope</a><span>, in § 5.2</span>
   <li><a href="#interest-group-set">interest group set</a><span>, in § 2</span>
   <li><a href="#interest-group-update">interest group update</a><span>, in § 6</span>
   <li><a href="#validate-and-convert-auction-ad-config-istoplevel">isTopLevel</a><span>, in § 4.1</span>
   <li><a href="#join-ad-interest-group">join-ad-interest-group</a><span>, in § 7</span>
   <li><a href="#dom-navigator-joinadinterestgroup">joinAdInterestGroup(group, durationSeconds)</a><span>, in § 2</span>
   <li><a href="#interest-group-join-counts">join counts</a><span>, in § 8.1</span>
   <li><a href="#interest-group-joining-origin">joining origin</a><span>, in § 8.1</span>
   <li><a href="#leading-bid-info-leading-bid">leading bid</a><span>, in § 8.10</span>
   <li><a href="#leading-bid-info">Leading bid info</a><span>, in § 8.9</span>
   <li><a href="#dom-navigator-leaveadinterestgroup">leaveAdInterestGroup(group)</a><span>, in § 3</span>
   <li>
    metadata
    <ul>
     <li><a href="#interest-group-ad-metadata">dfn for interest group ad</a><span>, in § 8.2</span>
     <li><a href="#dom-auctionad-metadata">dict-member for AuctionAd</a><span>, in § 2</span>
    </ul>
   <li><a href="#generated-bid-modeling-signals">modeling signals</a><span>, in § 8.6</span>
   <li><a href="#dom-generatebidoutput-modelingsignals">modelingSignals</a><span>, in § 5.2</span>
   <li>
    name
    <ul>
     <li><a href="#interest-group-name">dfn for interest group</a><span>, in § 8.1</span>
     <li><a href="#dom-auctionadinterestgroup-name">dict-member for AuctionAdInterestGroup</a><span>, in § 2</span>
     <li><a href="#dom-auctionadinterestgroupkey-name">dict-member for AuctionAdInterestGroupKey</a><span>, in § 3</span>
    </ul>
   <li><a href="#interest-group-next-update-after">next update after</a><span>, in § 8.1</span>
   <li><a href="#obtain-a-script-runner-agent">obtain a script runner agent</a><span>, in § 5.1</span>
   <li><a href="#create-a-request-origin">origin</a><span>, in § 4.1</span>
   <li>
    owner
    <ul>
     <li><a href="#interest-group-owner">dfn for interest group</a><span>, in § 8.1</span>
     <li><a href="#dom-auctionadinterestgroup-owner">dict-member for AuctionAdInterestGroup</a><span>, in § 2</span>
     <li><a href="#dom-auctionadinterestgroupkey-owner">dict-member for AuctionAdInterestGroupKey</a><span>, in § 3</span>
    </ul>
   <li><a href="#parse-an-origin">parse an origin</a><span>, in § 4.1</span>
   <li><a href="#per-buyer-bid-generator">Per buyer bid generator</a><span>, in § 8.3</span>
   <li><a href="#auction-config-per-buyer-experiment-group-ids">per buyer experiment group ids</a><span>, in § 8.3</span>
   <li><a href="#dom-auctionadconfig-perbuyerexperimentgroupids">perBuyerExperimentGroupIds</a><span>, in § 4.1</span>
   <li><a href="#auction-config-per-buyer-group-limits">per buyer group limits</a><span>, in § 8.3</span>
   <li><a href="#dom-auctionadconfig-perbuyergrouplimits">perBuyerGroupLimits</a><span>, in § 4.1</span>
   <li><a href="#auction-config-per-buyer-priority-signals">per buyer priority signals</a><span>, in § 8.3</span>
   <li><a href="#dom-auctionadconfig-perbuyerprioritysignals">perBuyerPrioritySignals</a><span>, in § 4.1</span>
   <li><a href="#auction-config-per-buyer-signals">per buyer signals</a><span>, in § 8.3</span>
   <li><a href="#dom-auctionadconfig-perbuyersignals">perBuyerSignals</a><span>, in § 4.1</span>
   <li><a href="#auction-config-per-buyer-timeouts">per buyer timeouts</a><span>, in § 8.3</span>
   <li><a href="#dom-auctionadconfig-perbuyertimeouts">perBuyerTimeouts</a><span>, in § 4.1</span>
   <li><a href="#per-signals-url-bid-generator">Per signals url bid generator</a><span>, in § 8.4</span>
   <li><a href="#interest-group-previous-wins">previous wins</a><span>, in § 8.1</span>
   <li>
    priority
    <ul>
     <li><a href="#interest-group-priority">dfn for interest group</a><span>, in § 8.1</span>
     <li><a href="#dom-auctionadinterestgroup-priority">dict-member for AuctionAdInterestGroup</a><span>, in § 2</span>
    </ul>
   <li><a href="#interest-group-priority-signals-overrides">priority signals overrides</a><span>, in § 8.1</span>
   <li><a href="#dom-auctionadinterestgroup-prioritysignalsoverrides">prioritySignalsOverrides</a><span>, in § 2</span>
   <li><a href="#interest-group-priority-vector">priority vector</a><span>, in § 8.1</span>
   <li><a href="#dom-auctionadinterestgroup-priorityvector">priorityVector</a><span>, in § 2</span>
   <li><a href="#interest-group-ad-render-url">render url</a><span>, in § 8.2</span>
   <li><a href="#dom-auctionad-renderurl">renderURL</a><span>, in § 2</span>
   <li><a href="#run-ad-auction">run-ad-auction</a><span>, in § 7</span>
   <li><a href="#dom-navigator-runadauction">runAdAuction(config)</a><span>, in § 4.1</span>
   <li><a href="#score-ad-output">Score ad output</a><span>, in § 8.8</span>
   <li><a href="#score-and-rank-a-bid">score and rank a bid</a><span>, in § 4.1</span>
   <li><a href="#script-runner">script runner</a><span>, in § 5.1</span>
   <li>
    seller
    <ul>
     <li><a href="#auction-config-seller">dfn for auction config</a><span>, in § 8.3</span>
     <li><a href="#dom-auctionadconfig-seller">dict-member for AuctionAdConfig</a><span>, in § 4.1</span>
    </ul>
   <li><a href="#auction-config-seller-experiment-group-id">seller experiment group id</a><span>, in § 8.3</span>
   <li><a href="#dom-auctionadconfig-sellerexperimentgroupid">sellerExperimentGroupId</a><span>, in § 4.1</span>
   <li><a href="#auction-config-seller-signals">seller signals</a><span>, in § 8.3</span>
   <li><a href="#dom-auctionadconfig-sellersignals">sellerSignals</a><span>, in § 4.1</span>
   <li><a href="#auction-config-seller-timeout">seller timeout</a><span>, in § 8.3</span>
   <li><a href="#dom-auctionadconfig-sellertimeout">sellerTimeout</a><span>, in § 4.1</span>
   <li><a href="#dom-interestgroupreportingscriptrunnerglobalscope-sendreportto">sendReportTo(url)</a><span>, in § 5.2</span>
   <li><a href="#serialize-an-integer">serialize an integer</a><span>, in § 4.1</span>
   <li><a href="#dom-interestgroupbiddingscriptrunnerglobalscope-setbid">setBid()</a><span>, in § 5.2</span>
   <li><a href="#dom-interestgroupbiddingscriptrunnerglobalscope-setbid-generatebidoutput">setBid(generateBidOutput)</a><span>, in § 5.2</span>
   <li><a href="#dom-interestgroupbiddingscriptrunnerglobalscope-setpriority">setPriority(priority)</a><span>, in § 5.2</span>
   <li><a href="#dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride">setPrioritySignalsOverride(key, priority)</a><span>, in § 5.2</span>
   <li><a href="#dom-auctionadconfig-signal">signal</a><span>, in § 4.1</span>
   <li><a href="#ad-descriptor-size">size</a><span>, in § 8.7</span>
   <li><a href="#leading-bid-info-top-bids-count">top bids count</a><span>, in § 8.10</span>
   <li><a href="#leading-bid-info-top-score">top score</a><span>, in § 8.10</span>
   <li><a href="#interest-group-trusted-bidding-signals-keys">trusted bidding signals keys</a><span>, in § 8.1</span>
   <li><a href="#dom-auctionadinterestgroup-trustedbiddingsignalskeys">trustedBiddingSignalsKeys</a><span>, in § 2</span>
   <li><a href="#interest-group-trusted-bidding-signals-url">trusted bidding signals url</a><span>, in § 8.1</span>
   <li><a href="#dom-auctionadinterestgroup-trustedbiddingsignalsurl">trustedBiddingSignalsURL</a><span>, in § 2</span>
   <li><a href="#auction-config-trusted-scoring-signals-url">trusted scoring signals url</a><span>, in § 8.3</span>
   <li><a href="#dom-auctionadconfig-trustedscoringsignalsurl">trustedScoringSignalsURL</a><span>, in § 4.1</span>
   <li><a href="#dom-navigator-updateadinterestgroups">updateAdInterestGroups()</a><span>, in § 6</span>
   <li>
    url
    <ul>
     <li><a href="#ad-descriptor-url">dfn for ad descriptor</a><span>, in § 8.7</span>
     <li><a href="#dom-adrender-url">dict-member for AdRender</a><span>, in § 5.2</span>
    </ul>
   <li><a href="#interest-group-user-bidding-signals">user bidding signals</a><span>, in § 8.1</span>
   <li><a href="#dom-auctionadinterestgroup-userbiddingsignals">userBiddingSignals</a><span>, in § 2</span>
   <li><a href="#validate-an-ad-url">validate an ad url</a><span>, in § 5.2</span>
   <li><a href="#validate-and-convert-auction-ad-config">validate and convert auction ad config</a><span>, in § 4.1</span>
   <li>
    width
    <ul>
     <li><a href="#ad-size-width">dfn for ad size</a><span>, in § 8.8</span>
     <li><a href="#dom-adrender-width">dict-member for AdRender</a><span>, in § 5.2</span>
    </ul>
   <li><a href="#ad-size-width-units">width units</a><span>, in § 8.8</span>
  </ul>
  <aside aria-labelledby="infopaneltitle-for-bc0be31e8402fbeecaef46d793534cb1" class="dfn-panel" data-for="bc0be31e8402fbeecaef46d793534cb1" id="infopanel-for-bc0be31e8402fbeecaef46d793534cb1">
   <span id="infopaneltitle-for-bc0be31e8402fbeecaef46d793534cb1" style="display:none">Info about the 'urn uuid' external reference.</span><a href="https://www.ietf.org/rfc/rfc4122.txt#urn-uuid">https://www.ietf.org/rfc/rfc4122.txt#urn-uuid</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-urn-uuid">8.2. Interest group ad</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-0cadfc0f183a5a4a73af55604ddb1ed1" class="dfn-panel" data-for="0cadfc0f183a5a4a73af55604ddb1ed1" id="infopanel-for-0cadfc0f183a5a4a73af55604ddb1ed1">
   <span id="infopaneltitle-for-0cadfc0f183a5a4a73af55604ddb1ed1" style="display:none">Info about the 'AbortSignal' external reference.</span><a href="https://dom.spec.whatwg.org/#abortsignal">https://dom.spec.whatwg.org/#abortsignal</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-abortsignal">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-07886e33695d0e7b473ef18f656ad7ac" class="dfn-panel" data-for="07886e33695d0e7b473ef18f656ad7ac" id="infopanel-for-07886e33695d0e7b473ef18f656ad7ac">
   <span id="infopaneltitle-for-07886e33695d0e7b473ef18f656ad7ac" style="display:none">Info about the 'Document' external reference.</span><a href="https://dom.spec.whatwg.org/#document">https://dom.spec.whatwg.org/#document</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-document">5. Script Runners</a> <a href="#ref-for-document①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-246d6e5a0d07d2d1f595e370c0ed121e" class="dfn-panel" data-for="246d6e5a0d07d2d1f595e370c0ed121e" id="infopanel-for-246d6e5a0d07d2d1f595e370c0ed121e">
   <span id="infopaneltitle-for-246d6e5a0d07d2d1f595e370c0ed121e" style="display:none">Info about the 'abort reason' external reference.</span><a href="https://dom.spec.whatwg.org/#abortsignal-abort-reason">https://dom.spec.whatwg.org/#abortsignal-abort-reason</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-abortsignal-abort-reason">4.1. runAdAuction()</a> <a href="#ref-for-abortsignal-abort-reason①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-a41e1b0215a841ee3eece2fcae96e01a" class="dfn-panel" data-for="a41e1b0215a841ee3eece2fcae96e01a" id="infopanel-for-a41e1b0215a841ee3eece2fcae96e01a">
   <span id="infopaneltitle-for-a41e1b0215a841ee3eece2fcae96e01a" style="display:none">Info about the 'aborted' external reference.</span><a href="https://dom.spec.whatwg.org/#abortsignal-aborted">https://dom.spec.whatwg.org/#abortsignal-aborted</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-abortsignal-aborted">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-ea86cd4a0dc314bc1093a2d0542c4364" class="dfn-panel" data-for="ea86cd4a0dc314bc1093a2d0542c4364" id="infopanel-for-ea86cd4a0dc314bc1093a2d0542c4364">
   <span id="infopaneltitle-for-ea86cd4a0dc314bc1093a2d0542c4364" style="display:none">Info about the 'add' external reference.</span><a href="https://dom.spec.whatwg.org/#abortsignal-add">https://dom.spec.whatwg.org/#abortsignal-add</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-abortsignal-add">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-d9ee0a32a2ecdea8e678ae86e4d4d4d3" class="dfn-panel" data-for="d9ee0a32a2ecdea8e678ae86e4d4d4d3" id="infopanel-for-d9ee0a32a2ecdea8e678ae86e4d4d4d3">
   <span id="infopaneltitle-for-d9ee0a32a2ecdea8e678ae86e4d4d4d3" style="display:none">Info about the 'Call' external reference.</span><a href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-call">https://tc39.es/ecma262/multipage/abstract-operations.html#sec-call</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-sec-call">5.1. Script evaluation</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-cf556f9dd3425380a5c43a2444fde286" class="dfn-panel" data-for="cf556f9dd3425380a5c43a2444fde286" id="infopanel-for-cf556f9dd3425380a5c43a2444fde286">
   <span id="infopaneltitle-for-cf556f9dd3425380a5c43a2444fde286" style="display:none">Info about the 'Date' external reference.</span><a href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-date-objects">https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-date-objects</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-sec-date-objects">5. Script Runners</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-3bd2d97768dc9491b84d8e144cac23f0" class="dfn-panel" data-for="3bd2d97768dc9491b84d8e144cac23f0" id="infopanel-for-3bd2d97768dc9491b84d8e144cac23f0">
   <span id="infopaneltitle-for-3bd2d97768dc9491b84d8e144cac23f0" style="display:none">Info about the 'Get' external reference.</span><a href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-get-o-p">https://tc39.es/ecma262/multipage/abstract-operations.html#sec-get-o-p</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-sec-get-o-p">5.1. Script evaluation</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-03b441c041699089d5c30cf6816d8d9b" class="dfn-panel" data-for="03b441c041699089d5c30cf6816d8d9b" id="infopanel-for-03b441c041699089d5c30cf6816d8d9b">
   <span id="infopaneltitle-for-03b441c041699089d5c30cf6816d8d9b" style="display:none">Info about the 'abrupt completion' external reference.</span><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">https://tc39.es/ecma262/#sec-completion-record-specification-type</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-sec-completion-record-specification-type①">5.1. Script evaluation</a> <a href="#ref-for-sec-completion-record-specification-type②">(2)</a> <a href="#ref-for-sec-completion-record-specification-type③">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-5e7f6c3d89b0a4143da2310dba0efea1" class="dfn-panel" data-for="5e7f6c3d89b0a4143da2310dba0efea1" id="infopanel-for-5e7f6c3d89b0a4143da2310dba0efea1">
   <span id="infopaneltitle-for-5e7f6c3d89b0a4143da2310dba0efea1" style="display:none">Info about the 'agent' external reference.</span><a href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#agent">https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#agent</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-agent">5. Script Runners</a>
    <li><a href="#ref-for-agent①">5.1. Script evaluation</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-adfd4cc12947cddd5727f971c2cbc846" class="dfn-panel" data-for="adfd4cc12947cddd5727f971c2cbc846" id="infopanel-for-adfd4cc12947cddd5727f971c2cbc846">
   <span id="infopaneltitle-for-adfd4cc12947cddd5727f971c2cbc846" style="display:none">Info about the 'agent cluster' external reference.</span><a href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#sec-agent-clusters">https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#sec-agent-clusters</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-sec-agent-clusters">5. Script Runners</a> <a href="#ref-for-sec-agent-clusters①">(2)</a>
    <li><a href="#ref-for-sec-agent-clusters②">5.1. Script evaluation</a> <a href="#ref-for-sec-agent-clusters③">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-0872e6ec5959aa7f1cd8a3d4fb4ea8e9" class="dfn-panel" data-for="0872e6ec5959aa7f1cd8a3d4fb4ea8e9" id="infopanel-for-0872e6ec5959aa7f1cd8a3d4fb4ea8e9">
   <span id="infopaneltitle-for-0872e6ec5959aa7f1cd8a3d4fb4ea8e9" style="display:none">Info about the 'candidate execution' external reference.</span><a href="https://tc39.es/ecma262/multipage/memory-model.html#sec-candidate-executions">https://tc39.es/ecma262/multipage/memory-model.html#sec-candidate-executions</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-sec-candidate-executions">5.1. Script evaluation</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-20659cb606e6a6bcf1d0a7b3a139ce3b" class="dfn-panel" data-for="20659cb606e6a6bcf1d0a7b3a139ce3b" id="infopanel-for-20659cb606e6a6bcf1d0a7b3a139ce3b">
   <span id="infopaneltitle-for-20659cb606e6a6bcf1d0a7b3a139ce3b" style="display:none">Info about the 'completion record' external reference.</span><a href="https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-completion-record-specification-type">https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-completion-record-specification-type</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-sec-completion-record-specification-type">5.1. Script evaluation</a> <a href="#ref-for-sec-completion-record-specification-type④">(2)</a> <a href="#ref-for-sec-completion-record-specification-type⑤">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-77c90e78e7ad9eb607fc7adc1b17b32c" class="dfn-panel" data-for="77c90e78e7ad9eb607fc7adc1b17b32c" id="infopanel-for-77c90e78e7ad9eb607fc7adc1b17b32c">
   <span id="infopaneltitle-for-77c90e78e7ad9eb607fc7adc1b17b32c" style="display:none">Info about the 'ecmascript language value' external reference.</span><a href="https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-ecmascript-language-types">https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-ecmascript-language-types</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-sec-ecmascript-language-types">5.1. Script evaluation</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-cfd4d6f984333ae9bb48d8f0dcbead44" class="dfn-panel" data-for="cfd4d6f984333ae9bb48d8f0dcbead44" id="infopanel-for-cfd4d6f984333ae9bb48d8f0dcbead44">
   <span id="infopaneltitle-for-cfd4d6f984333ae9bb48d8f0dcbead44" style="display:none">Info about the 'execution context stack' external reference.</span><a href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#execution-context-stack">https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#execution-context-stack</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-execution-context-stack">5.1. Script evaluation</a> <a href="#ref-for-execution-context-stack①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-837e5160b812066f8c9d45fa21fc0dc2" class="dfn-panel" data-for="837e5160b812066f8c9d45fa21fc0dc2" id="infopanel-for-837e5160b812066f8c9d45fa21fc0dc2">
   <span id="infopaneltitle-for-837e5160b812066f8c9d45fa21fc0dc2" style="display:none">Info about the 'parsescript' external reference.</span><a href="https://tc39.es/ecma262/#sec-parse-script">https://tc39.es/ecma262/#sec-parse-script</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-sec-parse-script">5.1. Script evaluation</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-92690f62f2a9f71735e0e8781606ca1c" class="dfn-panel" data-for="92690f62f2a9f71735e0e8781606ca1c" id="infopanel-for-92690f62f2a9f71735e0e8781606ca1c">
   <span id="infopaneltitle-for-92690f62f2a9f71735e0e8781606ca1c" style="display:none">Info about the 'realm' external reference.</span><a href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#realm">https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#realm</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-realm">5. Script Runners</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-288b861bc26847610f1e0909c4baca88" class="dfn-panel" data-for="288b861bc26847610f1e0909c4baca88" id="infopanel-for-288b861bc26847610f1e0909c4baca88">
   <span id="infopaneltitle-for-288b861bc26847610f1e0909c4baca88" style="display:none">Info about the 'running execution context' external reference.</span><a href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#running-execution-context">https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#running-execution-context</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-running-execution-context">5.1. Script evaluation</a> <a href="#ref-for-running-execution-context①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dae7a8a5a76a549223439e5e24302504" class="dfn-panel" data-for="dae7a8a5a76a549223439e5e24302504" id="infopanel-for-dae7a8a5a76a549223439e5e24302504">
   <span id="infopaneltitle-for-dae7a8a5a76a549223439e5e24302504" style="display:none">Info about the 'script record' external reference.</span><a href="https://tc39.es/ecma262/multipage/ecmascript-language-scripts-and-modules.html#script-record">https://tc39.es/ecma262/multipage/ecmascript-language-scripts-and-modules.html#script-record</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-script-record">5.1. Script evaluation</a> <a href="#ref-for-script-record①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-c71aa160f2dc633a296d7180b2ab0124" class="dfn-panel" data-for="c71aa160f2dc633a296d7180b2ab0124" id="infopanel-for-c71aa160f2dc633a296d7180b2ab0124">
   <span id="infopaneltitle-for-c71aa160f2dc633a296d7180b2ab0124" style="display:none">Info about the 'scriptevaluation' external reference.</span><a href="https://tc39.es/ecma262/#sec-runtime-semantics-scriptevaluation">https://tc39.es/ecma262/#sec-runtime-semantics-scriptevaluation</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-sec-runtime-semantics-scriptevaluation">5.1. Script evaluation</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-e0e5fa1cbe27d222c052dceb96196adc" class="dfn-panel" data-for="e0e5fa1cbe27d222c052dceb96196adc" id="infopanel-for-e0e5fa1cbe27d222c052dceb96196adc">
   <span id="infopaneltitle-for-e0e5fa1cbe27d222c052dceb96196adc" style="display:none">Info about the 'throw completion' external reference.</span><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">https://tc39.es/ecma262/#sec-completion-record-specification-type</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-sec-completion-record-specification-type①">5.1. Script evaluation</a> <a href="#ref-for-sec-completion-record-specification-type②">(2)</a> <a href="#ref-for-sec-completion-record-specification-type③">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-8297ed8dbe5ddc8d52a433d25b082796" class="dfn-panel" data-for="8297ed8dbe5ddc8d52a433d25b082796" id="infopanel-for-8297ed8dbe5ddc8d52a433d25b082796">
   <span id="infopaneltitle-for-8297ed8dbe5ddc8d52a433d25b082796" style="display:none">Info about the 'utf-8' external reference.</span><a href="https://encoding.spec.whatwg.org/#utf-8">https://encoding.spec.whatwg.org/#utf-8</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-utf-8">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-87005aefb42ddde344e9b7db3359627c" class="dfn-panel" data-for="87005aefb42ddde344e9b7db3359627c" id="infopanel-for-87005aefb42ddde344e9b7db3359627c">
   <span id="infopaneltitle-for-87005aefb42ddde344e9b7db3359627c" style="display:none">Info about the 'fencedframe' external reference.</span><a href="https://wicg.github.io/fenced-frame/#elementdef-fencedframe">https://wicg.github.io/fenced-frame/#elementdef-fencedframe</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-elementdef-fencedframe">9. Privacy Considerations</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-b0566d6d660c85a1c0a11fe593f9993d" class="dfn-panel" data-for="b0566d6d660c85a1c0a11fe593f9993d" id="infopanel-for-b0566d6d660c85a1c0a11fe593f9993d">
   <span id="infopaneltitle-for-b0566d6d660c85a1c0a11fe593f9993d" style="display:none">Info about the 'cache mode' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-cache-mode">https://fetch.spec.whatwg.org/#concept-request-cache-mode</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-cache-mode">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-136f2700e84634abd2f3d42487ba7f41" class="dfn-panel" data-for="136f2700e84634abd2f3d42487ba7f41" id="infopanel-for-136f2700e84634abd2f3d42487ba7f41">
   <span id="infopaneltitle-for-136f2700e84634abd2f3d42487ba7f41" style="display:none">Info about the 'client' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-client">https://fetch.spec.whatwg.org/#concept-request-client</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-client">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-28b697a3fde8f7519842ff0d1ae51f77" class="dfn-panel" data-for="28b697a3fde8f7519842ff0d1ae51f77" id="infopanel-for-28b697a3fde8f7519842ff0d1ae51f77">
   <span id="infopaneltitle-for-28b697a3fde8f7519842ff0d1ae51f77" style="display:none">Info about the 'credentials mode' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-credentials-mode">https://fetch.spec.whatwg.org/#concept-request-credentials-mode</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-credentials-mode">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-3444257488f4a193b6f0c4af59b28292" class="dfn-panel" data-for="3444257488f4a193b6f0c4af59b28292" id="infopanel-for-3444257488f4a193b6f0c4af59b28292">
   <span id="infopaneltitle-for-3444257488f4a193b6f0c4af59b28292" style="display:none">Info about the 'extracting a mime type' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-header-extract-mime-type">https://fetch.spec.whatwg.org/#concept-header-extract-mime-type</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-header-extract-mime-type">2. Joining Interest Groups</a>
    <li><a href="#ref-for-concept-header-extract-mime-type①">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-0bae0f8d0fc019614ef3bb69c15d5311" class="dfn-panel" data-for="0bae0f8d0fc019614ef3bb69c15d5311" id="infopanel-for-0bae0f8d0fc019614ef3bb69c15d5311">
   <span id="infopaneltitle-for-0bae0f8d0fc019614ef3bb69c15d5311" style="display:none">Info about the 'fetch' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-fetch">https://fetch.spec.whatwg.org/#concept-fetch</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-fetch">2. Joining Interest Groups</a>
    <li><a href="#ref-for-concept-fetch①">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-7d20d86aab82c14f214b792b61bc7cb8" class="dfn-panel" data-for="7d20d86aab82c14f214b792b61bc7cb8" id="infopanel-for-7d20d86aab82c14f214b792b61bc7cb8">
   <span id="infopaneltitle-for-7d20d86aab82c14f214b792b61bc7cb8" style="display:none">Info about the 'get a structured field value' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-header-list-get-structured-header">https://fetch.spec.whatwg.org/#concept-header-list-get-structured-header</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-header-list-get-structured-header">2. Joining Interest Groups</a>
    <li><a href="#ref-for-concept-header-list-get-structured-header①">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-ee7584061c2f45d6a827359cc7178423" class="dfn-panel" data-for="ee7584061c2f45d6a827359cc7178423" id="infopanel-for-ee7584061c2f45d6a827359cc7178423">
   <span id="infopaneltitle-for-ee7584061c2f45d6a827359cc7178423" style="display:none">Info about the 'header' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-header">https://fetch.spec.whatwg.org/#concept-header</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-header">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-5171067c910207c96b5420a19bae87a3" class="dfn-panel" data-for="5171067c910207c96b5420a19bae87a3" id="infopanel-for-5171067c910207c96b5420a19bae87a3">
   <span id="infopaneltitle-for-5171067c910207c96b5420a19bae87a3" style="display:none">Info about the 'header list' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-header-list">https://fetch.spec.whatwg.org/#concept-header-list</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-header-list">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-4fd8d1762cd9c874700296c854598fda" class="dfn-panel" data-for="4fd8d1762cd9c874700296c854598fda" id="infopanel-for-4fd8d1762cd9c874700296c854598fda">
   <span id="infopaneltitle-for-4fd8d1762cd9c874700296c854598fda" style="display:none">Info about the 'header list (for request)' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-header-list">https://fetch.spec.whatwg.org/#concept-request-header-list</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-header-list">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-d94cb5e6252c9158478ebbe8a624e99c" class="dfn-panel" data-for="d94cb5e6252c9158478ebbe8a624e99c" id="infopanel-for-d94cb5e6252c9158478ebbe8a624e99c">
   <span id="infopaneltitle-for-d94cb5e6252c9158478ebbe8a624e99c" style="display:none">Info about the 'header list (for response)' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-response-header-list">https://fetch.spec.whatwg.org/#concept-response-header-list</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-response-header-list">2. Joining Interest Groups</a>
    <li><a href="#ref-for-concept-response-header-list①">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-ac749183eb78d9110066fea84c5417ad" class="dfn-panel" data-for="ac749183eb78d9110066fea84c5417ad" id="infopanel-for-ac749183eb78d9110066fea84c5417ad">
   <span id="infopaneltitle-for-ac749183eb78d9110066fea84c5417ad" style="display:none">Info about the 'origin' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-origin">https://fetch.spec.whatwg.org/#concept-request-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-origin">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-c5e700d07aef54b7ee1acac43643b591" class="dfn-panel" data-for="c5e700d07aef54b7ee1acac43643b591" id="infopanel-for-c5e700d07aef54b7ee1acac43643b591">
   <span id="infopaneltitle-for-c5e700d07aef54b7ee1acac43643b591" style="display:none">Info about the 'processresponseconsumebody' external reference.</span><a href="https://fetch.spec.whatwg.org/#process-response-end-of-body">https://fetch.spec.whatwg.org/#process-response-end-of-body</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-process-response-end-of-body">2. Joining Interest Groups</a>
    <li><a href="#ref-for-process-response-end-of-body①">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-58f356f0304930913f67ab881e9ca886" class="dfn-panel" data-for="58f356f0304930913f67ab881e9ca886" id="infopanel-for-58f356f0304930913f67ab881e9ca886">
   <span id="infopaneltitle-for-58f356f0304930913f67ab881e9ca886" style="display:none">Info about the 'redirect mode' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-redirect-mode">https://fetch.spec.whatwg.org/#concept-request-redirect-mode</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-redirect-mode">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-4f358b1fbdaf345d2691f5744de6612b" class="dfn-panel" data-for="4f358b1fbdaf345d2691f5744de6612b" id="infopanel-for-4f358b1fbdaf345d2691f5744de6612b">
   <span id="infopaneltitle-for-4f358b1fbdaf345d2691f5744de6612b" style="display:none">Info about the 'referrer' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-referrer">https://fetch.spec.whatwg.org/#concept-request-referrer</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-referrer">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-491791562dd138987138e7051a96c07c" class="dfn-panel" data-for="491791562dd138987138e7051a96c07c" id="infopanel-for-491791562dd138987138e7051a96c07c">
   <span id="infopaneltitle-for-491791562dd138987138e7051a96c07c" style="display:none">Info about the 'request' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request">https://fetch.spec.whatwg.org/#concept-request</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-d203414c2b48c23fddab90ef753bb7cf" class="dfn-panel" data-for="d203414c2b48c23fddab90ef753bb7cf" id="infopanel-for-d203414c2b48c23fddab90ef753bb7cf">
   <span id="infopaneltitle-for-d203414c2b48c23fddab90ef753bb7cf" style="display:none">Info about the 'response' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-response">https://fetch.spec.whatwg.org/#concept-response</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-response">2. Joining Interest Groups</a>
    <li><a href="#ref-for-concept-response①">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-53448884e088e162bab57824ad9a7165" class="dfn-panel" data-for="53448884e088e162bab57824ad9a7165" id="infopanel-for-53448884e088e162bab57824ad9a7165">
   <span id="infopaneltitle-for-53448884e088e162bab57824ad9a7165" style="display:none">Info about the 'service-workers mode' external reference.</span><a href="https://fetch.spec.whatwg.org/#request-service-workers-mode">https://fetch.spec.whatwg.org/#request-service-workers-mode</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-request-service-workers-mode">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-6f4775873c70787775f9c70f0f110709" class="dfn-panel" data-for="6f4775873c70787775f9c70f0f110709" id="infopanel-for-6f4775873c70787775f9c70f0f110709">
   <span id="infopaneltitle-for-6f4775873c70787775f9c70f0f110709" style="display:none">Info about the 'url' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-url">https://fetch.spec.whatwg.org/#concept-request-url</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-url">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-d72233a2731c7f5b88c9c3da9700b26a" class="dfn-panel" data-for="d72233a2731c7f5b88c9c3da9700b26a" id="infopanel-for-d72233a2731c7f5b88c9c3da9700b26a">
   <span id="infopaneltitle-for-d72233a2731c7f5b88c9c3da9700b26a" style="display:none">Info about the 'window' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-window">https://fetch.spec.whatwg.org/#concept-request-window</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-window">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-9213a3aff5ff1021ab4c2d780aa70cee" class="dfn-panel" data-for="9213a3aff5ff1021ab4c2d780aa70cee" id="infopanel-for-9213a3aff5ff1021ab4c2d780aa70cee">
   <span id="infopaneltitle-for-9213a3aff5ff1021ab4c2d780aa70cee" style="display:none">Info about the 'duration' external reference.</span><a href="https://w3c.github.io/hr-time/#dfn-duration">https://w3c.github.io/hr-time/#dfn-duration</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-duration">8.3. Auction config</a> <a href="#ref-for-dfn-duration①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-3c82b19be23a00eb4bb6896ec20cd7aa" class="dfn-panel" data-for="3c82b19be23a00eb4bb6896ec20cd7aa" id="infopanel-for-3c82b19be23a00eb4bb6896ec20cd7aa">
   <span id="infopaneltitle-for-3c82b19be23a00eb4bb6896ec20cd7aa" style="display:none">Info about the 'Navigator' external reference.</span><a href="https://html.spec.whatwg.org/multipage/system-state.html#navigator">https://html.spec.whatwg.org/multipage/system-state.html#navigator</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigator">2. Joining Interest Groups</a>
    <li><a href="#ref-for-navigator①">3. Leaving Interest Groups</a>
    <li><a href="#ref-for-navigator②">4.1. runAdAuction()</a>
    <li><a href="#ref-for-navigator③">6. Interest Group Updates</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-3dc9eee4a6a1d169f561b6d87bd08573" class="dfn-panel" data-for="3dc9eee4a6a1d169f561b6d87bd08573" id="infopanel-for-3dc9eee4a6a1d169f561b6d87bd08573">
   <span id="infopaneltitle-for-3dc9eee4a6a1d169f561b6d87bd08573" style="display:none">Info about the 'allowed to use' external reference.</span><a href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-allowed-to-use">2. Joining Interest Groups</a>
    <li><a href="#ref-for-allowed-to-use①">3. Leaving Interest Groups</a>
    <li><a href="#ref-for-allowed-to-use②">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-04e6c32034490f45e4757ead7871de18" class="dfn-panel" data-for="04e6c32034490f45e4757ead7871de18" id="infopanel-for-04e6c32034490f45e4757ead7871de18">
   <span id="infopaneltitle-for-04e6c32034490f45e4757ead7871de18" style="display:none">Info about the 'associated document' external reference.</span><a href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-document-window">2. Joining Interest Groups</a>
    <li><a href="#ref-for-concept-document-window①">3. Leaving Interest Groups</a>
    <li><a href="#ref-for-concept-document-window②">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-1a3f6e8052d555c47f8093741e453939" class="dfn-panel" data-for="1a3f6e8052d555c47f8093741e453939" id="infopanel-for-1a3f6e8052d555c47f8093741e453939">
   <span id="infopaneltitle-for-1a3f6e8052d555c47f8093741e453939" style="display:none">Info about the 'classic script' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#classic-script">https://html.spec.whatwg.org/multipage/webappapis.html#classic-script</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-classic-script">5. Script Runners</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-6b2d3a3ac09e5c21579451a2bbd216f0" class="dfn-panel" data-for="6b2d3a3ac09e5c21579451a2bbd216f0" id="infopanel-for-6b2d3a3ac09e5c21579451a2bbd216f0">
   <span id="infopaneltitle-for-6b2d3a3ac09e5c21579451a2bbd216f0" style="display:none">Info about the 'create a new realm' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#creating-a-new-javascript-realm">https://html.spec.whatwg.org/multipage/webappapis.html#creating-a-new-javascript-realm</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-creating-a-new-javascript-realm">5.1. Script evaluation</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-5e8b369042c4916ed8b50fbe6dd8a5a2" class="dfn-panel" data-for="5e8b369042c4916ed8b50fbe6dd8a5a2" id="infopanel-for-5e8b369042c4916ed8b50fbe6dd8a5a2">
   <span id="infopaneltitle-for-5e8b369042c4916ed8b50fbe6dd8a5a2" style="display:none">Info about the 'create an agent' external reference.</span><a href="https://html.spec.whatwg.org/C#create-an-agent">https://html.spec.whatwg.org/C#create-an-agent</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-create-an-agent">5.1. Script evaluation</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-819da64c021c76d5b5101cd2634d02f7" class="dfn-panel" data-for="819da64c021c76d5b5101cd2634d02f7" id="infopanel-for-819da64c021c76d5b5101cd2634d02f7">
   <span id="infopaneltitle-for-819da64c021c76d5b5101cd2634d02f7" style="display:none">Info about the 'dom manipulation task source' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source">https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-manipulation-task-source">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-45195a15648533962d6056ddb7495628" class="dfn-panel" data-for="45195a15648533962d6056ddb7495628" id="infopanel-for-45195a15648533962d6056ddb7495628">
   <span id="infopaneltitle-for-45195a15648533962d6056ddb7495628" style="display:none">Info about the 'enqueue steps' external reference.</span><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps">https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enqueue-the-following-steps">2. Joining Interest Groups</a>
    <li><a href="#ref-for-enqueue-the-following-steps①">4.1. runAdAuction()</a> <a href="#ref-for-enqueue-the-following-steps②">(2)</a> <a href="#ref-for-enqueue-the-following-steps③">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-d7194ba752d7976f439b51ac9d70a9e3" class="dfn-panel" data-for="d7194ba752d7976f439b51ac9d70a9e3" id="infopanel-for-d7194ba752d7976f439b51ac9d70a9e3">
   <span id="infopaneltitle-for-d7194ba752d7976f439b51ac9d70a9e3" style="display:none">Info about the 'event loop' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop">https://html.spec.whatwg.org/multipage/webappapis.html#event-loop</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-loop">5. Script Runners</a>
    <li><a href="#ref-for-event-loop①">5.1. Script evaluation</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dfd386d6786e19e14e8be334215a486e" class="dfn-panel" data-for="dfd386d6786e19e14e8be334215a486e" id="infopanel-for-dfd386d6786e19e14e8be334215a486e">
   <span id="infopaneltitle-for-dfd386d6786e19e14e8be334215a486e" style="display:none">Info about the 'global object' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#global-object">https://html.spec.whatwg.org/multipage/webappapis.html#global-object</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-global-object">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-741282f868a4798f00c707b7aa365f1f" class="dfn-panel" data-for="741282f868a4798f00c707b7aa365f1f" id="infopanel-for-741282f868a4798f00c707b7aa365f1f">
   <span id="infopaneltitle-for-741282f868a4798f00c707b7aa365f1f" style="display:none">Info about the 'global object (for realm)' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global">https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-realm-global">5.1. Script evaluation</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-3a2763fcaa6bc82693554cf36780c0dd" class="dfn-panel" data-for="3a2763fcaa6bc82693554cf36780c0dd" id="infopanel-for-3a2763fcaa6bc82693554cf36780c0dd">
   <span id="infopaneltitle-for-3a2763fcaa6bc82693554cf36780c0dd" style="display:none">Info about the 'in parallel' external reference.</span><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-in-parallel">3. Leaving Interest Groups</a>
    <li><a href="#ref-for-in-parallel①">4.1. runAdAuction()</a>
    <li><a href="#ref-for-in-parallel②">5.1. Script evaluation</a>
    <li><a href="#ref-for-in-parallel③">6. Interest Group Updates</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-3b4d9e0bde382093069451ebd3a62bd0" class="dfn-panel" data-for="3b4d9e0bde382093069451ebd3a62bd0" id="infopanel-for-3b4d9e0bde382093069451ebd3a62bd0">
   <span id="infopaneltitle-for-3b4d9e0bde382093069451ebd3a62bd0" style="display:none">Info about the 'module script' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#module-script">https://html.spec.whatwg.org/multipage/webappapis.html#module-script</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-module-script">5. Script Runners</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-e817c0877b8b0aa9a44aab98d651d5de" class="dfn-panel" data-for="e817c0877b8b0aa9a44aab98d651d5de" id="infopanel-for-e817c0877b8b0aa9a44aab98d651d5de">
   <span id="infopaneltitle-for-e817c0877b8b0aa9a44aab98d651d5de" style="display:none">Info about the 'navigator' external reference.</span><a href="https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator">https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigator">1. Introduction</a> <a href="#ref-for-dom-navigator①">(2)</a>
    <li><a href="#ref-for-dom-navigator②">2. Joining Interest Groups</a>
    <li><a href="#ref-for-dom-navigator③">3. Leaving Interest Groups</a>
    <li><a href="#ref-for-dom-navigator④">4. Running Ad Auctions</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-23307d34220e7159f8e5d8c231db141f" class="dfn-panel" data-for="23307d34220e7159f8e5d8c231db141f" id="infopanel-for-23307d34220e7159f8e5d8c231db141f">
   <span id="infopaneltitle-for-23307d34220e7159f8e5d8c231db141f" style="display:none">Info about the 'opaque origin' external reference.</span><a href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque">https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-origin-opaque">2. Joining Interest Groups</a>
    <li><a href="#ref-for-concept-origin-opaque①">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-e66f9f7d45934e77669cb907bd0c7636" class="dfn-panel" data-for="e66f9f7d45934e77669cb907bd0c7636" id="infopanel-for-e66f9f7d45934e77669cb907bd0c7636">
   <span id="infopaneltitle-for-e66f9f7d45934e77669cb907bd0c7636" style="display:none">Info about the 'origin' external reference.</span><a href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin">https://html.spec.whatwg.org/multipage/browsers.html#concept-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-origin">2. Joining Interest Groups</a> <a href="#ref-for-concept-origin①">(2)</a> <a href="#ref-for-concept-origin②">(3)</a> <a href="#ref-for-concept-origin③">(4)</a> <a href="#ref-for-concept-origin④">(5)</a>
    <li><a href="#ref-for-concept-origin⑤">4.1. runAdAuction()</a> <a href="#ref-for-concept-origin⑥">(2)</a> <a href="#ref-for-concept-origin⑦">(3)</a>
    <li><a href="#ref-for-concept-origin⑧">6. Interest Group Updates</a>
    <li><a href="#ref-for-concept-origin⑨">8.1. Interest group</a> <a href="#ref-for-concept-origin①⓪">(2)</a> <a href="#ref-for-concept-origin①①">(3)</a> <a href="#ref-for-concept-origin①②">(4)</a> <a href="#ref-for-concept-origin①③">(5)</a> <a href="#ref-for-concept-origin①④">(6)</a>
    <li><a href="#ref-for-concept-origin①⑤">8.3. Auction config</a> <a href="#ref-for-concept-origin①⑥">(2)</a> <a href="#ref-for-concept-origin①⑦">(3)</a> <a href="#ref-for-concept-origin①⑧">(4)</a> <a href="#ref-for-concept-origin①⑨">(5)</a> <a href="#ref-for-concept-origin②⓪">(6)</a> <a href="#ref-for-concept-origin②①">(7)</a> <a href="#ref-for-concept-origin②②">(8)</a> <a href="#ref-for-concept-origin②③">(9)</a> <a href="#ref-for-concept-origin②④">(10)</a>
    <li><a href="#ref-for-concept-origin②⑤">8.5. Per signals url bid generator</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-a95cc6f0be910557a60537e0256920b2" class="dfn-panel" data-for="a95cc6f0be910557a60537e0256920b2" id="infopanel-for-a95cc6f0be910557a60537e0256920b2">
   <span id="infopaneltitle-for-a95cc6f0be910557a60537e0256920b2" style="display:none">Info about the 'origin (for environment settings object)' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin">https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-settings-object-origin">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-1a618366c6a1401ee1830a1abf8f5c84" class="dfn-panel" data-for="1a618366c6a1401ee1830a1abf8f5c84" id="infopanel-for-1a618366c6a1401ee1830a1abf8f5c84">
   <span id="infopaneltitle-for-1a618366c6a1401ee1830a1abf8f5c84" style="display:none">Info about the 'perform a microtask checkpoint' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#perform-a-microtask-checkpoint">https://html.spec.whatwg.org/multipage/webappapis.html#perform-a-microtask-checkpoint</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-perform-a-microtask-checkpoint">5. Script Runners</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-a8756513b792b8f203588906035a13bb" class="dfn-panel" data-for="a8756513b792b8f203588906035a13bb" id="infopanel-for-a8756513b792b8f203588906035a13bb">
   <span id="infopaneltitle-for-a8756513b792b8f203588906035a13bb" style="display:none">Info about the 'queue a global task' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-queue-a-global-task">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-da7ed5f190c4eedd375552d6f7876301" class="dfn-panel" data-for="da7ed5f190c4eedd375552d6f7876301" id="infopanel-for-da7ed5f190c4eedd375552d6f7876301">
   <span id="infopaneltitle-for-da7ed5f190c4eedd375552d6f7876301" style="display:none">Info about the 'queue a task' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-queue-a-task">2. Joining Interest Groups</a> <a href="#ref-for-queue-a-task①">(2)</a>
    <li><a href="#ref-for-queue-a-task②">3. Leaving Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-2233058c8f0998915af8393ee2abbc1d" class="dfn-panel" data-for="2233058c8f0998915af8393ee2abbc1d" id="infopanel-for-2233058c8f0998915af8393ee2abbc1d">
   <span id="infopaneltitle-for-2233058c8f0998915af8393ee2abbc1d" style="display:none">Info about the 'relevant global object' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-relevant-global">2. Joining Interest Groups</a>
    <li><a href="#ref-for-concept-relevant-global①">3. Leaving Interest Groups</a>
    <li><a href="#ref-for-concept-relevant-global②">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-bfb9cb6617f81a424ab20212af73bae3" class="dfn-panel" data-for="bfb9cb6617f81a424ab20212af73bae3" id="infopanel-for-bfb9cb6617f81a424ab20212af73bae3">
   <span id="infopaneltitle-for-bfb9cb6617f81a424ab20212af73bae3" style="display:none">Info about the 'relevant settings object' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object">https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-relevant-settings-object">2. Joining Interest Groups</a> <a href="#ref-for-relevant-settings-object①">(2)</a>
    <li><a href="#ref-for-relevant-settings-object②">4.1. runAdAuction()</a>
    <li><a href="#ref-for-relevant-settings-object③">6. Interest Group Updates</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-3bd07dd1ec2f367091cfd0df47c118a5" class="dfn-panel" data-for="3bd07dd1ec2f367091cfd0df47c118a5" id="infopanel-for-3bd07dd1ec2f367091cfd0df47c118a5">
   <span id="infopaneltitle-for-3bd07dd1ec2f367091cfd0df47c118a5" style="display:none">Info about the 'same origin' external reference.</span><a href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin">https://html.spec.whatwg.org/multipage/browsers.html#same-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-same-origin">2. Joining Interest Groups</a> <a href="#ref-for-same-origin①">(2)</a>
    <li><a href="#ref-for-same-origin②">4.1. runAdAuction()</a> <a href="#ref-for-same-origin③">(2)</a> <a href="#ref-for-same-origin④">(3)</a>
    <li><a href="#ref-for-same-origin⑤">6. Interest Group Updates</a>
    <li><a href="#ref-for-same-origin⑥">8.1. Interest group</a> <a href="#ref-for-same-origin⑦">(2)</a> <a href="#ref-for-same-origin⑧">(3)</a> <a href="#ref-for-same-origin⑨">(4)</a>
    <li><a href="#ref-for-same-origin①⓪">8.3. Auction config</a> <a href="#ref-for-same-origin①①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-e462c9f2460203de987a597cf2944ef9" class="dfn-panel" data-for="e462c9f2460203de987a597cf2944ef9" id="infopanel-for-e462c9f2460203de987a597cf2944ef9">
   <span id="infopaneltitle-for-e462c9f2460203de987a597cf2944ef9" style="display:none">Info about the 'scheme' external reference.</span><a href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-scheme">https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-scheme</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-origin-scheme">2. Joining Interest Groups</a>
    <li><a href="#ref-for-concept-origin-scheme①">8.1. Interest group</a>
    <li><a href="#ref-for-concept-origin-scheme②">8.3. Auction config</a> <a href="#ref-for-concept-origin-scheme③">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-51607ee9a6d769a72607f214e5af8447" class="dfn-panel" data-for="51607ee9a6d769a72607f214e5af8447" id="infopanel-for-51607ee9a6d769a72607f214e5af8447">
   <span id="infopaneltitle-for-51607ee9a6d769a72607f214e5af8447" style="display:none">Info about the 'script' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-script">https://html.spec.whatwg.org/multipage/webappapis.html#concept-script</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-script">5. Script Runners</a>
    <li><a href="#ref-for-concept-script①">5.1. Script evaluation</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-2aeb953708ac6466a37697c533cf366f" class="dfn-panel" data-for="2aeb953708ac6466a37697c533cf366f" id="infopanel-for-2aeb953708ac6466a37697c533cf366f">
   <span id="infopaneltitle-for-2aeb953708ac6466a37697c533cf366f" style="display:none">Info about the 'serialization of an origin' external reference.</span><a href="https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin">https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ascii-serialisation-of-an-origin">2. Joining Interest Groups</a> <a href="#ref-for-ascii-serialisation-of-an-origin①">(2)</a> <a href="#ref-for-ascii-serialisation-of-an-origin②">(3)</a>
    <li><a href="#ref-for-ascii-serialisation-of-an-origin③">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-fce605d521c483dd16b985f5cbb30f9d" class="dfn-panel" data-for="fce605d521c483dd16b985f5cbb30f9d" id="infopanel-for-fce605d521c483dd16b985f5cbb30f9d">
   <span id="infopaneltitle-for-fce605d521c483dd16b985f5cbb30f9d" style="display:none">Info about the 'settings object' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-settings-object">https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-settings-object</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-realm-settings-object">5. Script Runners</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-3fb76ef5543342a528980b7992fbd75c" class="dfn-panel" data-for="3fb76ef5543342a528980b7992fbd75c" id="infopanel-for-3fb76ef5543342a528980b7992fbd75c">
   <span id="infopaneltitle-for-3fb76ef5543342a528980b7992fbd75c" style="display:none">Info about the 'starting a new parallel queue' external reference.</span><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue">https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-starting-a-new-parallel-queue">2. Joining Interest Groups</a>
    <li><a href="#ref-for-starting-a-new-parallel-queue①">4.1. runAdAuction()</a> <a href="#ref-for-starting-a-new-parallel-queue②">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-b86b35025268c9540f508d9c15f769a4" class="dfn-panel" data-for="b86b35025268c9540f508d9c15f769a4" id="infopanel-for-b86b35025268c9540f508d9c15f769a4">
   <span id="infopaneltitle-for-b86b35025268c9540f508d9c15f769a4" style="display:none">Info about the 'task' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task">https://html.spec.whatwg.org/multipage/webappapis.html#concept-task</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-task">5.1. Script evaluation</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-8022a5f0b9910c35c5215fd070e93d09" class="dfn-panel" data-for="8022a5f0b9910c35c5215fd070e93d09" id="infopanel-for-8022a5f0b9910c35c5215fd070e93d09">
   <span id="infopaneltitle-for-8022a5f0b9910c35c5215fd070e93d09" style="display:none">Info about the 'task source' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source">https://html.spec.whatwg.org/multipage/webappapis.html#task-source</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-task-source">5.1. Script evaluation</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-fad46e4a016cd6e3ca0c81a3c004e4c3" class="dfn-panel" data-for="fad46e4a016cd6e3ca0c81a3c004e4c3" id="infopanel-for-fad46e4a016cd6e3ca0c81a3c004e4c3">
   <span id="infopaneltitle-for-fad46e4a016cd6e3ca0c81a3c004e4c3" style="display:none">Info about the 'top-level origin' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin">https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-environment-top-level-origin">2. Joining Interest Groups</a>
    <li><a href="#ref-for-concept-environment-top-level-origin①">4.1. runAdAuction()</a>
    <li><a href="#ref-for-concept-environment-top-level-origin②">6. Interest Group Updates</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-fcfc8b0ed220faa237969aed00e2586d" class="dfn-panel" data-for="fcfc8b0ed220faa237969aed00e2586d" id="infopanel-for-fcfc8b0ed220faa237969aed00e2586d">
   <span id="infopaneltitle-for-fcfc8b0ed220faa237969aed00e2586d" style="display:none">Info about the 'append (for list)' external reference.</span><a href="https://infra.spec.whatwg.org/#list-append">https://infra.spec.whatwg.org/#list-append</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-append">2. Joining Interest Groups</a>
    <li><a href="#ref-for-list-append①">4.1. runAdAuction()</a> <a href="#ref-for-list-append②">(2)</a> <a href="#ref-for-list-append③">(3)</a> <a href="#ref-for-list-append④">(4)</a> <a href="#ref-for-list-append⑤">(5)</a> <a href="#ref-for-list-append⑥">(6)</a> <a href="#ref-for-list-append⑦">(7)</a> <a href="#ref-for-list-append⑧">(8)</a> <a href="#ref-for-list-append⑨">(9)</a> <a href="#ref-for-list-append①⓪">(10)</a> <a href="#ref-for-list-append①①">(11)</a>
    <li><a href="#ref-for-list-append①②">5.2. Global scopes</a>
    <li><a href="#ref-for-list-append①③">6. Interest Group Updates</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-53c2c70bc752d6cf2a1f7deddc029549" class="dfn-panel" data-for="53c2c70bc752d6cf2a1f7deddc029549" id="infopanel-for-53c2c70bc752d6cf2a1f7deddc029549">
   <span id="infopaneltitle-for-53c2c70bc752d6cf2a1f7deddc029549" style="display:none">Info about the 'append (for set)' external reference.</span><a href="https://infra.spec.whatwg.org/#set-append">https://infra.spec.whatwg.org/#set-append</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-set-append">4.1. runAdAuction()</a> <a href="#ref-for-set-append①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-61c7c9c76ff1cedf412e7a18bbe24e2c" class="dfn-panel" data-for="61c7c9c76ff1cedf412e7a18bbe24e2c" id="infopanel-for-61c7c9c76ff1cedf412e7a18bbe24e2c">
   <span id="infopaneltitle-for-61c7c9c76ff1cedf412e7a18bbe24e2c" style="display:none">Info about the 'ascii string' external reference.</span><a href="https://infra.spec.whatwg.org/#ascii-string">https://infra.spec.whatwg.org/#ascii-string</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ascii-string">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-7618b9a6d44febb7e784c8f39faac140" class="dfn-panel" data-for="7618b9a6d44febb7e784c8f39faac140" id="infopanel-for-7618b9a6d44febb7e784c8f39faac140">
   <span id="infopaneltitle-for-7618b9a6d44febb7e784c8f39faac140" style="display:none">Info about the 'assert' external reference.</span><a href="https://infra.spec.whatwg.org/#assert">https://infra.spec.whatwg.org/#assert</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-assert">2. Joining Interest Groups</a>
    <li><a href="#ref-for-assert①">4.1. runAdAuction()</a> <a href="#ref-for-assert②">(2)</a> <a href="#ref-for-assert③">(3)</a> <a href="#ref-for-assert④">(4)</a> <a href="#ref-for-assert⑤">(5)</a>
    <li><a href="#ref-for-assert⑥">5.1. Script evaluation</a> <a href="#ref-for-assert⑦">(2)</a> <a href="#ref-for-assert⑧">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-0d4cc8e47c65b15b2be5e5e730a09d3c" class="dfn-panel" data-for="0d4cc8e47c65b15b2be5e5e730a09d3c" id="infopanel-for-0d4cc8e47c65b15b2be5e5e730a09d3c">
   <span id="infopaneltitle-for-0d4cc8e47c65b15b2be5e5e730a09d3c" style="display:none">Info about the 'boolean' external reference.</span><a href="https://infra.spec.whatwg.org/#boolean">https://infra.spec.whatwg.org/#boolean</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-boolean">2. Joining Interest Groups</a>
    <li><a href="#ref-for-boolean①">4.1. runAdAuction()</a> <a href="#ref-for-boolean②">(2)</a>
    <li><a href="#ref-for-boolean③">8.1. Interest group</a>
    <li><a href="#ref-for-boolean④">8.9. Score ad output</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-7605aa4703a0a6921736ddd5321cfc07" class="dfn-panel" data-for="7605aa4703a0a6921736ddd5321cfc07" id="infopanel-for-7605aa4703a0a6921736ddd5321cfc07">
   <span id="infopaneltitle-for-7605aa4703a0a6921736ddd5321cfc07" style="display:none">Info about the 'concatenate' external reference.</span><a href="https://infra.spec.whatwg.org/#string-concatenate">https://infra.spec.whatwg.org/#string-concatenate</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-string-concatenate">2. Joining Interest Groups</a>
    <li><a href="#ref-for-string-concatenate①">4.1. runAdAuction()</a> <a href="#ref-for-string-concatenate②">(2)</a> <a href="#ref-for-string-concatenate③">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-7aa70202d36f53e6295b249241561d26" class="dfn-panel" data-for="7aa70202d36f53e6295b249241561d26" id="infopanel-for-7aa70202d36f53e6295b249241561d26">
   <span id="infopaneltitle-for-7aa70202d36f53e6295b249241561d26" style="display:none">Info about the 'contain' external reference.</span><a href="https://infra.spec.whatwg.org/#map-exists">https://infra.spec.whatwg.org/#map-exists</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-map-exists">2. Joining Interest Groups</a> <a href="#ref-for-map-exists①">(2)</a> <a href="#ref-for-map-exists②">(3)</a> <a href="#ref-for-map-exists③">(4)</a> <a href="#ref-for-map-exists④">(5)</a> <a href="#ref-for-map-exists⑤">(6)</a> <a href="#ref-for-map-exists⑥">(7)</a> <a href="#ref-for-map-exists⑦">(8)</a>
    <li><a href="#ref-for-map-exists⑧">4.1. runAdAuction()</a> <a href="#ref-for-map-exists⑨">(2)</a> <a href="#ref-for-map-exists①⓪">(3)</a> <a href="#ref-for-map-exists①①">(4)</a> <a href="#ref-for-map-exists①②">(5)</a> <a href="#ref-for-map-exists①③">(6)</a> <a href="#ref-for-map-exists①④">(7)</a> <a href="#ref-for-map-exists①⑤">(8)</a> <a href="#ref-for-map-exists①⑥">(9)</a> <a href="#ref-for-map-exists①⑦">(10)</a> <a href="#ref-for-map-exists①⑧">(11)</a> <a href="#ref-for-map-exists①⑨">(12)</a> <a href="#ref-for-map-exists②⓪">(13)</a> <a href="#ref-for-map-exists②①">(14)</a> <a href="#ref-for-map-exists②②">(15)</a> <a href="#ref-for-map-exists②③">(16)</a> <a href="#ref-for-map-exists②④">(17)</a> <a href="#ref-for-map-exists②⑤">(18)</a> <a href="#ref-for-map-exists②⑥">(19)</a> <a href="#ref-for-map-exists②⑦">(20)</a>
    <li><a href="#ref-for-map-exists②⑧">5.2. Global scopes</a> <a href="#ref-for-map-exists②⑨">(2)</a> <a href="#ref-for-map-exists③⓪">(3)</a> <a href="#ref-for-map-exists③①">(4)</a> <a href="#ref-for-map-exists③②">(5)</a> <a href="#ref-for-map-exists③③">(6)</a> <a href="#ref-for-map-exists③④">(7)</a>
    <li><a href="#ref-for-map-exists③⑤">6. Interest Group Updates</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-ce9efec0e74a2cbfe986593eb861ade6" class="dfn-panel" data-for="ce9efec0e74a2cbfe986593eb861ade6" id="infopanel-for-ce9efec0e74a2cbfe986593eb861ade6">
   <span id="infopaneltitle-for-ce9efec0e74a2cbfe986593eb861ade6" style="display:none">Info about the 'continue' external reference.</span><a href="https://infra.spec.whatwg.org/#iteration-continue">https://infra.spec.whatwg.org/#iteration-continue</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-iteration-continue">4.1. runAdAuction()</a> <a href="#ref-for-iteration-continue①">(2)</a> <a href="#ref-for-iteration-continue②">(3)</a> <a href="#ref-for-iteration-continue③">(4)</a> <a href="#ref-for-iteration-continue④">(5)</a> <a href="#ref-for-iteration-continue⑤">(6)</a> <a href="#ref-for-iteration-continue⑥">(7)</a>
    <li><a href="#ref-for-iteration-continue⑦">6. Interest Group Updates</a> <a href="#ref-for-iteration-continue⑧">(2)</a> <a href="#ref-for-iteration-continue⑨">(3)</a> <a href="#ref-for-iteration-continue①⓪">(4)</a> <a href="#ref-for-iteration-continue①①">(5)</a> <a href="#ref-for-iteration-continue①②">(6)</a> <a href="#ref-for-iteration-continue①③">(7)</a> <a href="#ref-for-iteration-continue①④">(8)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-0d3ee326a162c16997e7bb20e8b7133c" class="dfn-panel" data-for="0d3ee326a162c16997e7bb20e8b7133c" id="infopanel-for-0d3ee326a162c16997e7bb20e8b7133c">
   <span id="infopaneltitle-for-0d3ee326a162c16997e7bb20e8b7133c" style="display:none">Info about the 'exist' external reference.</span><a href="https://infra.spec.whatwg.org/#map-exists">https://infra.spec.whatwg.org/#map-exists</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-map-exists">2. Joining Interest Groups</a> <a href="#ref-for-map-exists①">(2)</a> <a href="#ref-for-map-exists②">(3)</a> <a href="#ref-for-map-exists③">(4)</a> <a href="#ref-for-map-exists④">(5)</a> <a href="#ref-for-map-exists⑤">(6)</a> <a href="#ref-for-map-exists⑥">(7)</a> <a href="#ref-for-map-exists⑦">(8)</a>
    <li><a href="#ref-for-map-exists⑧">4.1. runAdAuction()</a> <a href="#ref-for-map-exists⑨">(2)</a> <a href="#ref-for-map-exists①⓪">(3)</a> <a href="#ref-for-map-exists①①">(4)</a> <a href="#ref-for-map-exists①②">(5)</a> <a href="#ref-for-map-exists①③">(6)</a> <a href="#ref-for-map-exists①④">(7)</a> <a href="#ref-for-map-exists①⑤">(8)</a> <a href="#ref-for-map-exists①⑥">(9)</a> <a href="#ref-for-map-exists①⑦">(10)</a> <a href="#ref-for-map-exists①⑧">(11)</a> <a href="#ref-for-map-exists①⑨">(12)</a> <a href="#ref-for-map-exists②⓪">(13)</a> <a href="#ref-for-map-exists②①">(14)</a> <a href="#ref-for-map-exists②②">(15)</a> <a href="#ref-for-map-exists②③">(16)</a> <a href="#ref-for-map-exists②④">(17)</a> <a href="#ref-for-map-exists②⑤">(18)</a> <a href="#ref-for-map-exists②⑥">(19)</a> <a href="#ref-for-map-exists②⑦">(20)</a>
    <li><a href="#ref-for-map-exists②⑧">5.2. Global scopes</a> <a href="#ref-for-map-exists②⑨">(2)</a> <a href="#ref-for-map-exists③⓪">(3)</a> <a href="#ref-for-map-exists③①">(4)</a> <a href="#ref-for-map-exists③②">(5)</a> <a href="#ref-for-map-exists③③">(6)</a> <a href="#ref-for-map-exists③④">(7)</a>
    <li><a href="#ref-for-map-exists③⑤">6. Interest Group Updates</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-8b9e78ceedde26e69095bd6f6cce47bf" class="dfn-panel" data-for="8b9e78ceedde26e69095bd6f6cce47bf" id="infopanel-for-8b9e78ceedde26e69095bd6f6cce47bf">
   <span id="infopaneltitle-for-8b9e78ceedde26e69095bd6f6cce47bf" style="display:none">Info about the 'for each (for list)' external reference.</span><a href="https://infra.spec.whatwg.org/#list-iterate">https://infra.spec.whatwg.org/#list-iterate</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-iterate">2. Joining Interest Groups</a> <a href="#ref-for-list-iterate①">(2)</a> <a href="#ref-for-list-iterate②">(3)</a> <a href="#ref-for-list-iterate③">(4)</a>
    <li><a href="#ref-for-list-iterate④">4.1. runAdAuction()</a> <a href="#ref-for-list-iterate⑤">(2)</a> <a href="#ref-for-list-iterate⑥">(3)</a> <a href="#ref-for-list-iterate⑦">(4)</a> <a href="#ref-for-list-iterate⑧">(5)</a> <a href="#ref-for-list-iterate⑨">(6)</a> <a href="#ref-for-list-iterate①⓪">(7)</a>
    <li><a href="#ref-for-list-iterate①①">6. Interest Group Updates</a> <a href="#ref-for-list-iterate①②">(2)</a> <a href="#ref-for-list-iterate①③">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-fa396dfe2ff99ebb3815418bc73c40fb" class="dfn-panel" data-for="fa396dfe2ff99ebb3815418bc73c40fb" id="infopanel-for-fa396dfe2ff99ebb3815418bc73c40fb">
   <span id="infopaneltitle-for-fa396dfe2ff99ebb3815418bc73c40fb" style="display:none">Info about the 'for each (for map)' external reference.</span><a href="https://infra.spec.whatwg.org/#map-iterate">https://infra.spec.whatwg.org/#map-iterate</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-map-iterate">2. Joining Interest Groups</a> <a href="#ref-for-map-iterate①">(2)</a>
    <li><a href="#ref-for-map-iterate②">4.1. runAdAuction()</a> <a href="#ref-for-map-iterate③">(2)</a> <a href="#ref-for-map-iterate④">(3)</a> <a href="#ref-for-map-iterate⑤">(4)</a> <a href="#ref-for-map-iterate⑥">(5)</a> <a href="#ref-for-map-iterate⑦">(6)</a> <a href="#ref-for-map-iterate⑧">(7)</a> <a href="#ref-for-map-iterate⑨">(8)</a> <a href="#ref-for-map-iterate①⓪">(9)</a> <a href="#ref-for-map-iterate①①">(10)</a>
    <li><a href="#ref-for-map-iterate①②">6. Interest Group Updates</a> <a href="#ref-for-map-iterate①③">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-774d035c53e63931c91186473c19a838" class="dfn-panel" data-for="774d035c53e63931c91186473c19a838" id="infopanel-for-774d035c53e63931c91186473c19a838">
   <span id="infopaneltitle-for-774d035c53e63931c91186473c19a838" style="display:none">Info about the 'is empty' external reference.</span><a href="https://infra.spec.whatwg.org/#list-is-empty">https://infra.spec.whatwg.org/#list-is-empty</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-is-empty">4.1. runAdAuction()</a> <a href="#ref-for-list-is-empty①">(2)</a> <a href="#ref-for-list-is-empty②">(3)</a> <a href="#ref-for-list-is-empty③">(4)</a> <a href="#ref-for-list-is-empty④">(5)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-d970c9402d2ebe6e16b496ab9414f037" class="dfn-panel" data-for="d970c9402d2ebe6e16b496ab9414f037" id="infopanel-for-d970c9402d2ebe6e16b496ab9414f037">
   <span id="infopaneltitle-for-d970c9402d2ebe6e16b496ab9414f037" style="display:none">Info about the 'keys' external reference.</span><a href="https://infra.spec.whatwg.org/#map-getting-the-keys">https://infra.spec.whatwg.org/#map-getting-the-keys</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-map-getting-the-keys">4.1. runAdAuction()</a> <a href="#ref-for-map-getting-the-keys①">(2)</a> <a href="#ref-for-map-getting-the-keys②">(3)</a> <a href="#ref-for-map-getting-the-keys③">(4)</a> <a href="#ref-for-map-getting-the-keys④">(5)</a>
    <li><a href="#ref-for-map-getting-the-keys⑤">6. Interest Group Updates</a> <a href="#ref-for-map-getting-the-keys⑥">(2)</a>
    <li><a href="#ref-for-map-getting-the-keys⑦">8.1. Interest group</a> <a href="#ref-for-map-getting-the-keys⑧">(2)</a>
    <li><a href="#ref-for-map-getting-the-keys⑨">8.3. Auction config</a> <a href="#ref-for-map-getting-the-keys①⓪">(2)</a> <a href="#ref-for-map-getting-the-keys①①">(3)</a> <a href="#ref-for-map-getting-the-keys①②">(4)</a> <a href="#ref-for-map-getting-the-keys①③">(5)</a> <a href="#ref-for-map-getting-the-keys①④">(6)</a> <a href="#ref-for-map-getting-the-keys①⑤">(7)</a> <a href="#ref-for-map-getting-the-keys①⑥">(8)</a> <a href="#ref-for-map-getting-the-keys①⑦">(9)</a> <a href="#ref-for-map-getting-the-keys①⑧">(10)</a> <a href="#ref-for-map-getting-the-keys①⑨">(11)</a>
    <li><a href="#ref-for-map-getting-the-keys②⓪">8.4. Per buyer bid generator</a>
    <li><a href="#ref-for-map-getting-the-keys②①">8.5. Per signals url bid generator</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-81b03c84949641fc3081227509aab38f" class="dfn-panel" data-for="81b03c84949641fc3081227509aab38f" id="infopanel-for-81b03c84949641fc3081227509aab38f">
   <span id="infopaneltitle-for-81b03c84949641fc3081227509aab38f" style="display:none">Info about the 'length' external reference.</span><a href="https://infra.spec.whatwg.org/#string-length">https://infra.spec.whatwg.org/#string-length</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-string-length">2. Joining Interest Groups</a> <a href="#ref-for-string-length①">(2)</a> <a href="#ref-for-string-length②">(3)</a> <a href="#ref-for-string-length③">(4)</a> <a href="#ref-for-string-length④">(5)</a> <a href="#ref-for-string-length⑤">(6)</a> <a href="#ref-for-string-length⑥">(7)</a> <a href="#ref-for-string-length⑦">(8)</a> <a href="#ref-for-string-length⑧">(9)</a> <a href="#ref-for-string-length⑨">(10)</a> <a href="#ref-for-string-length①⓪">(11)</a> <a href="#ref-for-string-length①①">(12)</a> <a href="#ref-for-string-length①②">(13)</a> <a href="#ref-for-string-length①③">(14)</a> <a href="#ref-for-string-length①④">(15)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-fafd38d2108e357bcc9a6fd7f3cd04a7" class="dfn-panel" data-for="fafd38d2108e357bcc9a6fd7f3cd04a7" id="infopanel-for-fafd38d2108e357bcc9a6fd7f3cd04a7">
   <span id="infopaneltitle-for-fafd38d2108e357bcc9a6fd7f3cd04a7" style="display:none">Info about the 'list' external reference.</span><a href="https://infra.spec.whatwg.org/#list">https://infra.spec.whatwg.org/#list</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list">2. Joining Interest Groups</a>
    <li><a href="#ref-for-list①">4.1. runAdAuction()</a> <a href="#ref-for-list②">(2)</a> <a href="#ref-for-list③">(3)</a>
    <li><a href="#ref-for-list④">5.1. Script evaluation</a> <a href="#ref-for-list⑤">(2)</a> <a href="#ref-for-list⑥">(3)</a> <a href="#ref-for-list⑦">(4)</a>
    <li><a href="#ref-for-list⑧">5.2. Global scopes</a>
    <li><a href="#ref-for-list⑨">6. Interest Group Updates</a> <a href="#ref-for-list①⓪">(2)</a> <a href="#ref-for-list①①">(3)</a>
    <li><a href="#ref-for-list①②">8.1. Interest group</a> <a href="#ref-for-list①③">(2)</a> <a href="#ref-for-list①④">(3)</a> <a href="#ref-for-list①⑤">(4)</a> <a href="#ref-for-list①⑥">(5)</a> <a href="#ref-for-list①⑦">(6)</a>
    <li><a href="#ref-for-list①⑧">8.3. Auction config</a> <a href="#ref-for-list①⑨">(2)</a>
    <li><a href="#ref-for-list②⓪">8.5. Per signals url bid generator</a>
    <li><a href="#ref-for-list②①">8.6. Generated bid</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-6f2e2caca6e93162e900d159efe5b573" class="dfn-panel" data-for="6f2e2caca6e93162e900d159efe5b573" id="infopanel-for-6f2e2caca6e93162e900d159efe5b573">
   <span id="infopaneltitle-for-6f2e2caca6e93162e900d159efe5b573" style="display:none">Info about the 'ordered map' external reference.</span><a href="https://infra.spec.whatwg.org/#ordered-map">https://infra.spec.whatwg.org/#ordered-map</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ordered-map">2. Joining Interest Groups</a>
    <li><a href="#ref-for-ordered-map①">4.1. runAdAuction()</a> <a href="#ref-for-ordered-map②">(2)</a> <a href="#ref-for-ordered-map③">(3)</a> <a href="#ref-for-ordered-map④">(4)</a> <a href="#ref-for-ordered-map⑤">(5)</a>
    <li><a href="#ref-for-ordered-map⑥">6. Interest Group Updates</a> <a href="#ref-for-ordered-map⑦">(2)</a> <a href="#ref-for-ordered-map⑧">(3)</a>
    <li><a href="#ref-for-ordered-map⑨">8.1. Interest group</a> <a href="#ref-for-ordered-map①⓪">(2)</a>
    <li><a href="#ref-for-ordered-map①①">8.3. Auction config</a> <a href="#ref-for-ordered-map①②">(2)</a> <a href="#ref-for-ordered-map①③">(3)</a> <a href="#ref-for-ordered-map①④">(4)</a> <a href="#ref-for-ordered-map①⑤">(5)</a> <a href="#ref-for-ordered-map①⑥">(6)</a> <a href="#ref-for-ordered-map①⑦">(7)</a>
    <li><a href="#ref-for-ordered-map①⑧">8.4. Per buyer bid generator</a>
    <li><a href="#ref-for-ordered-map①⑨">8.5. Per signals url bid generator</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-80524ea4c0063fe3cf0b6c49a40e31bf" class="dfn-panel" data-for="80524ea4c0063fe3cf0b6c49a40e31bf" id="infopanel-for-80524ea4c0063fe3cf0b6c49a40e31bf">
   <span id="infopaneltitle-for-80524ea4c0063fe3cf0b6c49a40e31bf" style="display:none">Info about the 'ordered set' external reference.</span><a href="https://infra.spec.whatwg.org/#ordered-set">https://infra.spec.whatwg.org/#ordered-set</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ordered-set">4.1. runAdAuction()</a> <a href="#ref-for-ordered-set①">(2)</a> <a href="#ref-for-ordered-set②">(3)</a> <a href="#ref-for-ordered-set③">(4)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-0b72d18e89ff7b6d0ccd5aba0c2fa85f" class="dfn-panel" data-for="0b72d18e89ff7b6d0ccd5aba0c2fa85f" id="infopanel-for-0b72d18e89ff7b6d0ccd5aba0c2fa85f">
   <span id="infopaneltitle-for-0b72d18e89ff7b6d0ccd5aba0c2fa85f" style="display:none">Info about the 'parsing a json string to an infra value' external reference.</span><a href="https://infra.spec.whatwg.org/#parse-a-json-string-to-an-infra-value">https://infra.spec.whatwg.org/#parse-a-json-string-to-an-infra-value</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-parse-a-json-string-to-an-infra-value">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-5714277b72f1518dcec207876f94ebe0" class="dfn-panel" data-for="5714277b72f1518dcec207876f94ebe0" id="infopanel-for-5714277b72f1518dcec207876f94ebe0">
   <span id="infopaneltitle-for-5714277b72f1518dcec207876f94ebe0" style="display:none">Info about the 'parsing json bytes to a javascript value' external reference.</span><a href="https://infra.spec.whatwg.org/#parse-json-bytes-to-a-javascript-value">https://infra.spec.whatwg.org/#parse-json-bytes-to-a-javascript-value</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-parse-json-bytes-to-a-javascript-value">6. Interest Group Updates</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-fadc27e826887faf120674544589ae68" class="dfn-panel" data-for="fadc27e826887faf120674544589ae68" id="infopanel-for-fadc27e826887faf120674544589ae68">
   <span id="infopaneltitle-for-fadc27e826887faf120674544589ae68" style="display:none">Info about the 'remove (for list)' external reference.</span><a href="https://infra.spec.whatwg.org/#list-remove">https://infra.spec.whatwg.org/#list-remove</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-remove">3. Leaving Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-5191a0c00b6ec5f93646e492ae7ec62c" class="dfn-panel" data-for="5191a0c00b6ec5f93646e492ae7ec62c" id="infopanel-for-5191a0c00b6ec5f93646e492ae7ec62c">
   <span id="infopaneltitle-for-5191a0c00b6ec5f93646e492ae7ec62c" style="display:none">Info about the 'remove (for map)' external reference.</span><a href="https://infra.spec.whatwg.org/#map-remove">https://infra.spec.whatwg.org/#map-remove</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-map-remove">4.1. runAdAuction()</a>
    <li><a href="#ref-for-map-remove①">6. Interest Group Updates</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-f61602af2e3f53cbacdcc4f356cd16f1" class="dfn-panel" data-for="f61602af2e3f53cbacdcc4f356cd16f1" id="infopanel-for-f61602af2e3f53cbacdcc4f356cd16f1">
   <span id="infopaneltitle-for-f61602af2e3f53cbacdcc4f356cd16f1" style="display:none">Info about the 'replace' external reference.</span><a href="https://infra.spec.whatwg.org/#list-replace">https://infra.spec.whatwg.org/#list-replace</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-replace">6. Interest Group Updates</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-c186cdbfe7e0e7f10f543af94aebdac4" class="dfn-panel" data-for="c186cdbfe7e0e7f10f543af94aebdac4" id="infopanel-for-c186cdbfe7e0e7f10f543af94aebdac4">
   <span id="infopaneltitle-for-c186cdbfe7e0e7f10f543af94aebdac4" style="display:none">Info about the 'serializing a javascript value to a json string' external reference.</span><a href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string">https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-serialize-a-javascript-value-to-a-json-string">2. Joining Interest Groups</a> <a href="#ref-for-serialize-a-javascript-value-to-a-json-string①">(2)</a>
    <li><a href="#ref-for-serialize-a-javascript-value-to-a-json-string②">4.1. runAdAuction()</a> <a href="#ref-for-serialize-a-javascript-value-to-a-json-string③">(2)</a> <a href="#ref-for-serialize-a-javascript-value-to-a-json-string④">(3)</a>
    <li><a href="#ref-for-serialize-a-javascript-value-to-a-json-string⑤">5.2. Global scopes</a>
    <li><a href="#ref-for-serialize-a-javascript-value-to-a-json-string⑥">6. Interest Group Updates</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-5c3d3462610d78bc92b91000cc511bc4" class="dfn-panel" data-for="5c3d3462610d78bc92b91000cc511bc4" id="infopanel-for-5c3d3462610d78bc92b91000cc511bc4">
   <span id="infopaneltitle-for-5c3d3462610d78bc92b91000cc511bc4" style="display:none">Info about the 'set' external reference.</span><a href="https://infra.spec.whatwg.org/#map-set">https://infra.spec.whatwg.org/#map-set</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-map-set">4.1. runAdAuction()</a> <a href="#ref-for-map-set①">(2)</a> <a href="#ref-for-map-set②">(3)</a> <a href="#ref-for-map-set③">(4)</a> <a href="#ref-for-map-set④">(5)</a> <a href="#ref-for-map-set⑤">(6)</a> <a href="#ref-for-map-set⑥">(7)</a> <a href="#ref-for-map-set⑦">(8)</a> <a href="#ref-for-map-set⑧">(9)</a> <a href="#ref-for-map-set⑨">(10)</a> <a href="#ref-for-map-set①⓪">(11)</a> <a href="#ref-for-map-set①①">(12)</a> <a href="#ref-for-map-set①②">(13)</a> <a href="#ref-for-map-set①③">(14)</a> <a href="#ref-for-map-set①④">(15)</a> <a href="#ref-for-map-set①⑤">(16)</a> <a href="#ref-for-map-set①⑥">(17)</a> <a href="#ref-for-map-set①⑦">(18)</a> <a href="#ref-for-map-set①⑧">(19)</a> <a href="#ref-for-map-set①⑨">(20)</a> <a href="#ref-for-map-set②⓪">(21)</a> <a href="#ref-for-map-set②①">(22)</a> <a href="#ref-for-map-set②②">(23)</a> <a href="#ref-for-map-set②③">(24)</a> <a href="#ref-for-map-set②④">(25)</a> <a href="#ref-for-map-set②⑤">(26)</a> <a href="#ref-for-map-set②⑥">(27)</a> <a href="#ref-for-map-set②⑦">(28)</a> <a href="#ref-for-map-set②⑧">(29)</a> <a href="#ref-for-map-set②⑨">(30)</a> <a href="#ref-for-map-set③⓪">(31)</a> <a href="#ref-for-map-set③①">(32)</a> <a href="#ref-for-map-set③②">(33)</a>
    <li><a href="#ref-for-map-set③③">6. Interest Group Updates</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-bed8381510f5967f5d37a33de776e857" class="dfn-panel" data-for="bed8381510f5967f5d37a33de776e857" id="infopanel-for-bed8381510f5967f5d37a33de776e857">
   <span id="infopaneltitle-for-bed8381510f5967f5d37a33de776e857" style="display:none">Info about the 'size (for list)' external reference.</span><a href="https://infra.spec.whatwg.org/#list-size">https://infra.spec.whatwg.org/#list-size</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-size">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-cb6090a4148c3b79aef250d4d6625e39" class="dfn-panel" data-for="cb6090a4148c3b79aef250d4d6625e39" id="infopanel-for-cb6090a4148c3b79aef250d4d6625e39">
   <span id="infopaneltitle-for-cb6090a4148c3b79aef250d4d6625e39" style="display:none">Info about the 'size (for map)' external reference.</span><a href="https://infra.spec.whatwg.org/#map-size">https://infra.spec.whatwg.org/#map-size</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-map-size">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-2d700262fcde3097fbf89ef2496f1f0d" class="dfn-panel" data-for="2d700262fcde3097fbf89ef2496f1f0d" id="infopanel-for-2d700262fcde3097fbf89ef2496f1f0d">
   <span id="infopaneltitle-for-2d700262fcde3097fbf89ef2496f1f0d" style="display:none">Info about the 'starts with' external reference.</span><a href="https://infra.spec.whatwg.org/#string-starts-with">https://infra.spec.whatwg.org/#string-starts-with</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-string-starts-with">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-40b59bc325bd4d66701dfd8b7f1847c0" class="dfn-panel" data-for="40b59bc325bd4d66701dfd8b7f1847c0" id="infopanel-for-40b59bc325bd4d66701dfd8b7f1847c0">
   <span id="infopaneltitle-for-40b59bc325bd4d66701dfd8b7f1847c0" style="display:none">Info about the 'string' external reference.</span><a href="https://infra.spec.whatwg.org/#string">https://infra.spec.whatwg.org/#string</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-string">4.1. runAdAuction()</a> <a href="#ref-for-string①">(2)</a> <a href="#ref-for-string②">(3)</a> <a href="#ref-for-string③">(4)</a> <a href="#ref-for-string④">(5)</a> <a href="#ref-for-string⑤">(6)</a> <a href="#ref-for-string⑥">(7)</a> <a href="#ref-for-string⑦">(8)</a> <a href="#ref-for-string⑧">(9)</a> <a href="#ref-for-string⑨">(10)</a>
    <li><a href="#ref-for-string①⓪">5.1. Script evaluation</a> <a href="#ref-for-string①①">(2)</a> <a href="#ref-for-string①②">(3)</a> <a href="#ref-for-string①③">(4)</a> <a href="#ref-for-string①④">(5)</a> <a href="#ref-for-string①⑤">(6)</a>
    <li><a href="#ref-for-string①⑥">6. Interest Group Updates</a> <a href="#ref-for-string①⑦">(2)</a> <a href="#ref-for-string①⑧">(3)</a>
    <li><a href="#ref-for-string①⑨">8.1. Interest group</a> <a href="#ref-for-string②⓪">(2)</a> <a href="#ref-for-string②①">(3)</a> <a href="#ref-for-string②②">(4)</a> <a href="#ref-for-string②③">(5)</a> <a href="#ref-for-string②④">(6)</a>
    <li><a href="#ref-for-string②⑤">8.2. Interest group ad</a>
    <li><a href="#ref-for-string②⑥">8.3. Auction config</a> <a href="#ref-for-string②⑦">(2)</a> <a href="#ref-for-string②⑧">(3)</a> <a href="#ref-for-string②⑨">(4)</a> <a href="#ref-for-string③⓪">(5)</a>
    <li><a href="#ref-for-string③①">8.6. Generated bid</a>
    <li><a href="#ref-for-string③②">8.8. Ad size</a> <a href="#ref-for-string③③">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-3ee316b93eb2dbe81d01a666cce50f9b" class="dfn-panel" data-for="3ee316b93eb2dbe81d01a666cce50f9b" id="infopanel-for-3ee316b93eb2dbe81d01a666cce50f9b">
   <span id="infopaneltitle-for-3ee316b93eb2dbe81d01a666cce50f9b" style="display:none">Info about the 'struct' external reference.</span><a href="https://infra.spec.whatwg.org/#struct">https://infra.spec.whatwg.org/#struct</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-struct">8.1. Interest group</a>
    <li><a href="#ref-for-struct①">8.2. Interest group ad</a>
    <li><a href="#ref-for-struct②">8.3. Auction config</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-decbbd3ee5a73b54e8e8996ce1fddbbc" class="dfn-panel" data-for="decbbd3ee5a73b54e8e8996ce1fddbbc" id="infopanel-for-decbbd3ee5a73b54e8e8996ce1fddbbc">
   <span id="infopaneltitle-for-decbbd3ee5a73b54e8e8996ce1fddbbc" style="display:none">Info about the 'tuple' external reference.</span><a href="https://infra.spec.whatwg.org/#tuple">https://infra.spec.whatwg.org/#tuple</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-tuple">4.1. runAdAuction()</a>
    <li><a href="#ref-for-tuple①">8.1. Interest group</a> <a href="#ref-for-tuple②">(2)</a> <a href="#ref-for-tuple③">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-f3303f924992de4a9bec051b5191187a" class="dfn-panel" data-for="f3303f924992de4a9bec051b5191187a" id="infopanel-for-f3303f924992de4a9bec051b5191187a">
   <span id="infopaneltitle-for-f3303f924992de4a9bec051b5191187a" style="display:none">Info about the 'values' external reference.</span><a href="https://infra.spec.whatwg.org/#map-getting-the-values">https://infra.spec.whatwg.org/#map-getting-the-values</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-map-getting-the-values">4.1. runAdAuction()</a> <a href="#ref-for-map-getting-the-values①">(2)</a> <a href="#ref-for-map-getting-the-values②">(3)</a> <a href="#ref-for-map-getting-the-values③">(4)</a> <a href="#ref-for-map-getting-the-values④">(5)</a>
    <li><a href="#ref-for-map-getting-the-values⑤">6. Interest Group Updates</a> <a href="#ref-for-map-getting-the-values⑥">(2)</a>
    <li><a href="#ref-for-map-getting-the-values⑦">8.1. Interest group</a> <a href="#ref-for-map-getting-the-values⑧">(2)</a>
    <li><a href="#ref-for-map-getting-the-values⑨">8.3. Auction config</a> <a href="#ref-for-map-getting-the-values①⓪">(2)</a> <a href="#ref-for-map-getting-the-values①①">(3)</a> <a href="#ref-for-map-getting-the-values①②">(4)</a> <a href="#ref-for-map-getting-the-values①③">(5)</a> <a href="#ref-for-map-getting-the-values①④">(6)</a> <a href="#ref-for-map-getting-the-values①⑤">(7)</a> <a href="#ref-for-map-getting-the-values①⑥">(8)</a> <a href="#ref-for-map-getting-the-values①⑦">(9)</a> <a href="#ref-for-map-getting-the-values①⑧">(10)</a> <a href="#ref-for-map-getting-the-values①⑨">(11)</a>
    <li><a href="#ref-for-map-getting-the-values②⓪">8.4. Per buyer bid generator</a>
    <li><a href="#ref-for-map-getting-the-values②①">8.5. Per signals url bid generator</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-5f9330a8f7c5b66d2adf3d3370ae74c1" class="dfn-panel" data-for="5f9330a8f7c5b66d2adf3d3370ae74c1" id="infopanel-for-5f9330a8f7c5b66d2adf3d3370ae74c1">
   <span id="infopaneltitle-for-5f9330a8f7c5b66d2adf3d3370ae74c1" style="display:none">Info about the 'javascript mime type' external reference.</span><a href="https://mimesniff.spec.whatwg.org/#javascript-mime-type">https://mimesniff.spec.whatwg.org/#javascript-mime-type</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-javascript-mime-type">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-ecd77f8d0b60bd81f3277adf5fb2d3f3" class="dfn-panel" data-for="ecd77f8d0b60bd81f3277adf5fb2d3f3" id="infopanel-for-ecd77f8d0b60bd81f3277adf5fb2d3f3">
   <span id="infopaneltitle-for-ecd77f8d0b60bd81f3277adf5fb2d3f3" style="display:none">Info about the 'json mime type' external reference.</span><a href="https://mimesniff.spec.whatwg.org/#json-mime-type">https://mimesniff.spec.whatwg.org/#json-mime-type</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-json-mime-type">2. Joining Interest Groups</a>
    <li><a href="#ref-for-json-mime-type①">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-6999afece714837dd460347910a5a28d" class="dfn-panel" data-for="6999afece714837dd460347910a5a28d" id="infopanel-for-6999afece714837dd460347910a5a28d">
   <span id="infopaneltitle-for-6999afece714837dd460347910a5a28d" style="display:none">Info about the 'parameters' external reference.</span><a href="https://mimesniff.spec.whatwg.org/#parameters">https://mimesniff.spec.whatwg.org/#parameters</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-parameters">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-597f16a11d2e9b68ceae30c52291ae72" class="dfn-panel" data-for="597f16a11d2e9b68ceae30c52291ae72" id="infopanel-for-597f16a11d2e9b68ceae30c52291ae72">
   <span id="infopaneltitle-for-597f16a11d2e9b68ceae30c52291ae72" style="display:none">Info about the 'default allowlists' external reference.</span><a href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist">https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-policy-controlled-feature-default-allowlist">7. Permissions Policy integration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-cbc4165961071efad91900c4c7b2fe8b" class="dfn-panel" data-for="cbc4165961071efad91900c4c7b2fe8b" id="infopanel-for-cbc4165961071efad91900c4c7b2fe8b">
   <span id="infopaneltitle-for-cbc4165961071efad91900c4c7b2fe8b" style="display:none">Info about the 'policy-controlled feature' external reference.</span><a href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature">https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-policy-controlled-feature">2. Joining Interest Groups</a>
    <li><a href="#ref-for-policy-controlled-feature①">3. Leaving Interest Groups</a>
    <li><a href="#ref-for-policy-controlled-feature②">4.1. runAdAuction()</a>
    <li><a href="#ref-for-policy-controlled-feature③">7. Permissions Policy integration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-2050d5e7ce0fb9db5cc184a49b67d60f" class="dfn-panel" data-for="2050d5e7ce0fb9db5cc184a49b67d60f" id="infopanel-for-2050d5e7ce0fb9db5cc184a49b67d60f">
   <span id="infopaneltitle-for-2050d5e7ce0fb9db5cc184a49b67d60f" style="display:none">Info about the 'component percent-encode set' external reference.</span><a href="https://url.spec.whatwg.org/#component-percent-encode-set">https://url.spec.whatwg.org/#component-percent-encode-set</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-component-percent-encode-set">2. Joining Interest Groups</a>
    <li><a href="#ref-for-component-percent-encode-set①">4.1. runAdAuction()</a> <a href="#ref-for-component-percent-encode-set②">(2)</a> <a href="#ref-for-component-percent-encode-set③">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-60cc34e102fbb39581626f2f37e3179a" class="dfn-panel" data-for="60cc34e102fbb39581626f2f37e3179a" id="infopanel-for-60cc34e102fbb39581626f2f37e3179a">
   <span id="infopaneltitle-for-60cc34e102fbb39581626f2f37e3179a" style="display:none">Info about the 'fragment' external reference.</span><a href="https://url.spec.whatwg.org/#concept-url-fragment">https://url.spec.whatwg.org/#concept-url-fragment</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-url-fragment">2. Joining Interest Groups</a>
    <li><a href="#ref-for-concept-url-fragment①">6. Interest Group Updates</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-7162945c2118778c48f40774f8d7344b" class="dfn-panel" data-for="7162945c2118778c48f40774f8d7344b" id="infopanel-for-7162945c2118778c48f40774f8d7344b">
   <span id="infopaneltitle-for-7162945c2118778c48f40774f8d7344b" style="display:none">Info about the 'includes credentials' external reference.</span><a href="https://url.spec.whatwg.org/#include-credentials">https://url.spec.whatwg.org/#include-credentials</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-include-credentials">2. Joining Interest Groups</a> <a href="#ref-for-include-credentials①">(2)</a>
    <li><a href="#ref-for-include-credentials②">6. Interest Group Updates</a> <a href="#ref-for-include-credentials③">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-eb0e1698348a5ae30cd3aa882b6dff01" class="dfn-panel" data-for="eb0e1698348a5ae30cd3aa882b6dff01" id="infopanel-for-eb0e1698348a5ae30cd3aa882b6dff01">
   <span id="infopaneltitle-for-eb0e1698348a5ae30cd3aa882b6dff01" style="display:none">Info about the 'origin' external reference.</span><a href="https://url.spec.whatwg.org/#concept-url-origin">https://url.spec.whatwg.org/#concept-url-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-url-origin">2. Joining Interest Groups</a>
    <li><a href="#ref-for-concept-url-origin①">3. Leaving Interest Groups</a>
    <li><a href="#ref-for-concept-url-origin②">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-d4903414a495f752f42338823a0b455e" class="dfn-panel" data-for="d4903414a495f752f42338823a0b455e" id="infopanel-for-d4903414a495f752f42338823a0b455e">
   <span id="infopaneltitle-for-d4903414a495f752f42338823a0b455e" style="display:none">Info about the 'query' external reference.</span><a href="https://url.spec.whatwg.org/#concept-url-query">https://url.spec.whatwg.org/#concept-url-query</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-url-query">2. Joining Interest Groups</a>
    <li><a href="#ref-for-concept-url-query①">4.1. runAdAuction()</a> <a href="#ref-for-concept-url-query②">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-67f83ca6d3c695660bfc2f054f534ffb" class="dfn-panel" data-for="67f83ca6d3c695660bfc2f054f534ffb" id="infopanel-for-67f83ca6d3c695660bfc2f054f534ffb">
   <span id="infopaneltitle-for-67f83ca6d3c695660bfc2f054f534ffb" style="display:none">Info about the 'scheme' external reference.</span><a href="https://url.spec.whatwg.org/#concept-url-scheme">https://url.spec.whatwg.org/#concept-url-scheme</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-url-scheme">2. Joining Interest Groups</a> <a href="#ref-for-concept-url-scheme①">(2)</a>
    <li><a href="#ref-for-concept-url-scheme②">4.1. runAdAuction()</a> <a href="#ref-for-concept-url-scheme③">(2)</a> <a href="#ref-for-concept-url-scheme④">(3)</a> <a href="#ref-for-concept-url-scheme⑤">(4)</a> <a href="#ref-for-concept-url-scheme⑥">(5)</a>
    <li><a href="#ref-for-concept-url-scheme⑦">5.2. Global scopes</a> <a href="#ref-for-concept-url-scheme⑧">(2)</a>
    <li><a href="#ref-for-concept-url-scheme⑨">6. Interest Group Updates</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-fc05c76e016d3aec6a25a91c066500c8" class="dfn-panel" data-for="fc05c76e016d3aec6a25a91c066500c8" id="infopanel-for-fc05c76e016d3aec6a25a91c066500c8">
   <span id="infopaneltitle-for-fc05c76e016d3aec6a25a91c066500c8" style="display:none">Info about the 'url' external reference.</span><a href="https://url.spec.whatwg.org/#concept-url">https://url.spec.whatwg.org/#concept-url</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-url">4.1. runAdAuction()</a> <a href="#ref-for-concept-url①">(2)</a> <a href="#ref-for-concept-url②">(3)</a> <a href="#ref-for-concept-url③">(4)</a>
    <li><a href="#ref-for-concept-url④">5.2. Global scopes</a>
    <li><a href="#ref-for-concept-url⑤">8.1. Interest group</a> <a href="#ref-for-concept-url⑥">(2)</a> <a href="#ref-for-concept-url⑦">(3)</a> <a href="#ref-for-concept-url⑧">(4)</a>
    <li><a href="#ref-for-concept-url⑨">8.2. Interest group ad</a>
    <li><a href="#ref-for-concept-url①⓪">8.3. Auction config</a> <a href="#ref-for-concept-url①①">(2)</a>
    <li><a href="#ref-for-concept-url①②">8.4. Per buyer bid generator</a>
    <li><a href="#ref-for-concept-url①③">8.7. Ad descriptor</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-07df417653faafb38ece7480f2c15a3e" class="dfn-panel" data-for="07df417653faafb38ece7480f2c15a3e" id="infopanel-for-07df417653faafb38ece7480f2c15a3e">
   <span id="infopaneltitle-for-07df417653faafb38ece7480f2c15a3e" style="display:none">Info about the 'url parser' external reference.</span><a href="https://url.spec.whatwg.org/#concept-url-parser">https://url.spec.whatwg.org/#concept-url-parser</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-url-parser">2. Joining Interest Groups</a> <a href="#ref-for-concept-url-parser①">(2)</a> <a href="#ref-for-concept-url-parser②">(3)</a>
    <li><a href="#ref-for-concept-url-parser③">3. Leaving Interest Groups</a>
    <li><a href="#ref-for-concept-url-parser④">4.1. runAdAuction()</a> <a href="#ref-for-concept-url-parser⑤">(2)</a> <a href="#ref-for-concept-url-parser⑥">(3)</a> <a href="#ref-for-concept-url-parser⑦">(4)</a> <a href="#ref-for-concept-url-parser⑧">(5)</a>
    <li><a href="#ref-for-concept-url-parser⑨">5.2. Global scopes</a> <a href="#ref-for-concept-url-parser①⓪">(2)</a> <a href="#ref-for-concept-url-parser①①">(3)</a>
    <li><a href="#ref-for-concept-url-parser①②">6. Interest Group Updates</a> <a href="#ref-for-concept-url-parser①③">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-4cd5cba6c3b356beb9ed1d910eaf8ee9" class="dfn-panel" data-for="4cd5cba6c3b356beb9ed1d910eaf8ee9" id="infopanel-for-4cd5cba6c3b356beb9ed1d910eaf8ee9">
   <span id="infopaneltitle-for-4cd5cba6c3b356beb9ed1d910eaf8ee9" style="display:none">Info about the 'url serializer' external reference.</span><a href="https://url.spec.whatwg.org/#concept-url-serializer">https://url.spec.whatwg.org/#concept-url-serializer</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-url-serializer">2. Joining Interest Groups</a> <a href="#ref-for-concept-url-serializer①">(2)</a> <a href="#ref-for-concept-url-serializer②">(3)</a> <a href="#ref-for-concept-url-serializer③">(4)</a> <a href="#ref-for-concept-url-serializer④">(5)</a> <a href="#ref-for-concept-url-serializer⑤">(6)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-89c942a6be0752175bb866d54a9b3ec0" class="dfn-panel" data-for="89c942a6be0752175bb866d54a9b3ec0" id="infopanel-for-89c942a6be0752175bb866d54a9b3ec0">
   <span id="infopaneltitle-for-89c942a6be0752175bb866d54a9b3ec0" style="display:none">Info about the 'utf-8 percent-encode' external reference.</span><a href="https://url.spec.whatwg.org/#string-utf-8-percent-encode">https://url.spec.whatwg.org/#string-utf-8-percent-encode</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-string-utf-8-percent-encode">2. Joining Interest Groups</a>
    <li><a href="#ref-for-string-utf-8-percent-encode①">4.1. runAdAuction()</a> <a href="#ref-for-string-utf-8-percent-encode②">(2)</a> <a href="#ref-for-string-utf-8-percent-encode③">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-0ab204fb9cc9a746edaff83c0db0740a" class="dfn-panel" data-for="0ab204fb9cc9a746edaff83c0db0740a" id="infopanel-for-0ab204fb9cc9a746edaff83c0db0740a">
   <span id="infopaneltitle-for-0ab204fb9cc9a746edaff83c0db0740a" style="display:none">Info about the 'DOMException' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-DOMException">https://webidl.spec.whatwg.org/#idl-DOMException</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-DOMException">2. Joining Interest Groups</a> <a href="#ref-for-idl-DOMException①">(2)</a>
    <li><a href="#ref-for-idl-DOMException②">3. Leaving Interest Groups</a>
    <li><a href="#ref-for-idl-DOMException③">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-d0f238a61de9310f1738a214749fab18" class="dfn-panel" data-for="d0f238a61de9310f1738a214749fab18" id="infopanel-for-d0f238a61de9310f1738a214749fab18">
   <span id="infopaneltitle-for-d0f238a61de9310f1738a214749fab18" style="display:none">Info about the 'DOMString' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-DOMString">https://webidl.spec.whatwg.org/#idl-DOMString</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-DOMString">2. Joining Interest Groups</a> <a href="#ref-for-idl-DOMString①">(2)</a> <a href="#ref-for-idl-DOMString②">(3)</a>
    <li><a href="#ref-for-idl-DOMString③">5.2. Global scopes</a> <a href="#ref-for-idl-DOMString④">(2)</a> <a href="#ref-for-idl-DOMString⑤">(3)</a> <a href="#ref-for-idl-DOMString⑥">(4)</a> <a href="#ref-for-idl-DOMString⑦">(5)</a> <a href="#ref-for-idl-DOMString⑧">(6)</a> <a href="#ref-for-idl-DOMString⑨">(7)</a> <a href="#ref-for-idl-DOMString①⓪">(8)</a> <a href="#ref-for-idl-DOMString①①">(9)</a> <a href="#ref-for-idl-DOMString①②">(10)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dde049eb112f043fc45407ec0d4cb457" class="dfn-panel" data-for="dde049eb112f043fc45407ec0d4cb457" id="infopanel-for-dde049eb112f043fc45407ec0d4cb457">
   <span id="infopaneltitle-for-dde049eb112f043fc45407ec0d4cb457" style="display:none">Info about the 'Exposed' external reference.</span><a href="https://webidl.spec.whatwg.org/#Exposed">https://webidl.spec.whatwg.org/#Exposed</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-Exposed">5.2. Global scopes</a> <a href="#ref-for-Exposed①">(2)</a> <a href="#ref-for-Exposed②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-87854fa3332c5bf035dec1c1725d8450" class="dfn-panel" data-for="87854fa3332c5bf035dec1c1725d8450" id="infopanel-for-87854fa3332c5bf035dec1c1725d8450">
   <span id="infopaneltitle-for-87854fa3332c5bf035dec1c1725d8450" style="display:none">Info about the 'Global' external reference.</span><a href="https://webidl.spec.whatwg.org/#Global">https://webidl.spec.whatwg.org/#Global</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-Global">5.2. Global scopes</a> <a href="#ref-for-Global①">(2)</a> <a href="#ref-for-Global②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-aa43258e2b51dc6ebe6268a36e6fd733" class="dfn-panel" data-for="aa43258e2b51dc6ebe6268a36e6fd733" id="infopanel-for-aa43258e2b51dc6ebe6268a36e6fd733">
   <span id="infopaneltitle-for-aa43258e2b51dc6ebe6268a36e6fd733" style="display:none">Info about the 'NotAllowedError' external reference.</span><a href="https://webidl.spec.whatwg.org/#notallowederror">https://webidl.spec.whatwg.org/#notallowederror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-notallowederror">2. Joining Interest Groups</a> <a href="#ref-for-notallowederror①">(2)</a>
    <li><a href="#ref-for-notallowederror②">3. Leaving Interest Groups</a>
    <li><a href="#ref-for-notallowederror③">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-93669c631ec1ef8e696b4c083bdbe12c" class="dfn-panel" data-for="93669c631ec1ef8e696b4c083bdbe12c" id="infopanel-for-93669c631ec1ef8e696b4c083bdbe12c">
   <span id="infopaneltitle-for-93669c631ec1ef8e696b4c083bdbe12c" style="display:none">Info about the 'Promise' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-promise">https://webidl.spec.whatwg.org/#idl-promise</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-promise">2. Joining Interest Groups</a>
    <li><a href="#ref-for-idl-promise①">3. Leaving Interest Groups</a>
    <li><a href="#ref-for-idl-promise②">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-cdf224ec60dc3b08449a2fbdf3a90406" class="dfn-panel" data-for="cdf224ec60dc3b08449a2fbdf3a90406" id="infopanel-for-cdf224ec60dc3b08449a2fbdf3a90406">
   <span id="infopaneltitle-for-cdf224ec60dc3b08449a2fbdf3a90406" style="display:none">Info about the 'SecureContext' external reference.</span><a href="https://webidl.spec.whatwg.org/#SecureContext">https://webidl.spec.whatwg.org/#SecureContext</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-SecureContext">2. Joining Interest Groups</a>
    <li><a href="#ref-for-SecureContext①">3. Leaving Interest Groups</a>
    <li><a href="#ref-for-SecureContext②">4.1. runAdAuction()</a>
    <li><a href="#ref-for-SecureContext③">6. Interest Group Updates</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-3f9c3eac015894a734faa8068fd8c2a1" class="dfn-panel" data-for="3f9c3eac015894a734faa8068fd8c2a1" id="infopanel-for-3f9c3eac015894a734faa8068fd8c2a1">
   <span id="infopaneltitle-for-3f9c3eac015894a734faa8068fd8c2a1" style="display:none">Info about the 'TypeError' external reference.</span><a href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror">https://webidl.spec.whatwg.org/#exceptiondef-typeerror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-exceptiondef-typeerror">2. Joining Interest Groups</a> <a href="#ref-for-exceptiondef-typeerror①">(2)</a> <a href="#ref-for-exceptiondef-typeerror②">(3)</a> <a href="#ref-for-exceptiondef-typeerror③">(4)</a> <a href="#ref-for-exceptiondef-typeerror④">(5)</a> <a href="#ref-for-exceptiondef-typeerror⑤">(6)</a> <a href="#ref-for-exceptiondef-typeerror⑥">(7)</a>
    <li><a href="#ref-for-exceptiondef-typeerror⑦">3. Leaving Interest Groups</a>
    <li><a href="#ref-for-exceptiondef-typeerror⑧">4.1. runAdAuction()</a> <a href="#ref-for-exceptiondef-typeerror⑨">(2)</a> <a href="#ref-for-exceptiondef-typeerror①⓪">(3)</a> <a href="#ref-for-exceptiondef-typeerror①①">(4)</a> <a href="#ref-for-exceptiondef-typeerror①②">(5)</a> <a href="#ref-for-exceptiondef-typeerror①③">(6)</a> <a href="#ref-for-exceptiondef-typeerror①④">(7)</a> <a href="#ref-for-exceptiondef-typeerror①⑤">(8)</a> <a href="#ref-for-exceptiondef-typeerror①⑥">(9)</a> <a href="#ref-for-exceptiondef-typeerror①⑦">(10)</a> <a href="#ref-for-exceptiondef-typeerror①⑧">(11)</a> <a href="#ref-for-exceptiondef-typeerror①⑨">(12)</a> <a href="#ref-for-exceptiondef-typeerror②⓪">(13)</a> <a href="#ref-for-exceptiondef-typeerror②①">(14)</a>
    <li><a href="#ref-for-exceptiondef-typeerror②②">5.2. Global scopes</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-e270bcd7cdb4abe27bc3bb16a1975937" class="dfn-panel" data-for="e270bcd7cdb4abe27bc3bb16a1975937" id="infopanel-for-e270bcd7cdb4abe27bc3bb16a1975937">
   <span id="infopaneltitle-for-e270bcd7cdb4abe27bc3bb16a1975937" style="display:none">Info about the 'USVString' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-USVString">https://webidl.spec.whatwg.org/#idl-USVString</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-USVString">2. Joining Interest Groups</a> <a href="#ref-for-idl-USVString①">(2)</a> <a href="#ref-for-idl-USVString②">(3)</a> <a href="#ref-for-idl-USVString③">(4)</a> <a href="#ref-for-idl-USVString④">(5)</a> <a href="#ref-for-idl-USVString⑤">(6)</a> <a href="#ref-for-idl-USVString⑥">(7)</a> <a href="#ref-for-idl-USVString⑦">(8)</a>
    <li><a href="#ref-for-idl-USVString⑧">3. Leaving Interest Groups</a> <a href="#ref-for-idl-USVString⑨">(2)</a>
    <li><a href="#ref-for-idl-USVString①⓪">4.1. runAdAuction()</a> <a href="#ref-for-idl-USVString①①">(2)</a> <a href="#ref-for-idl-USVString①②">(3)</a> <a href="#ref-for-idl-USVString①③">(4)</a> <a href="#ref-for-idl-USVString①④">(5)</a> <a href="#ref-for-idl-USVString①⑤">(6)</a> <a href="#ref-for-idl-USVString①⑥">(7)</a> <a href="#ref-for-idl-USVString①⑦">(8)</a> <a href="#ref-for-idl-USVString①⑧">(9)</a> <a href="#ref-for-idl-USVString①⑨">(10)</a> <a href="#ref-for-idl-USVString②⓪">(11)</a> <a href="#ref-for-idl-USVString②①">(12)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-bbe33fc7ac016834e4aaddbfd1b084a1" class="dfn-panel" data-for="bbe33fc7ac016834e4aaddbfd1b084a1" id="infopanel-for-bbe33fc7ac016834e4aaddbfd1b084a1">
   <span id="infopaneltitle-for-bbe33fc7ac016834e4aaddbfd1b084a1" style="display:none">Info about the 'a new promise' external reference.</span><a href="https://webidl.spec.whatwg.org/#a-new-promise">https://webidl.spec.whatwg.org/#a-new-promise</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-a-new-promise">2. Joining Interest Groups</a>
    <li><a href="#ref-for-a-new-promise①">3. Leaving Interest Groups</a>
    <li><a href="#ref-for-a-new-promise②">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-8eec6bb7878bb17dddbbb727b8d77c28" class="dfn-panel" data-for="8eec6bb7878bb17dddbbb727b8d77c28" id="infopanel-for-8eec6bb7878bb17dddbbb727b8d77c28">
   <span id="infopaneltitle-for-8eec6bb7878bb17dddbbb727b8d77c28" style="display:none">Info about the 'any' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-any">https://webidl.spec.whatwg.org/#idl-any</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-any">2. Joining Interest Groups</a> <a href="#ref-for-idl-any①">(2)</a>
    <li><a href="#ref-for-idl-any②">4.1. runAdAuction()</a> <a href="#ref-for-idl-any③">(2)</a> <a href="#ref-for-idl-any④">(3)</a> <a href="#ref-for-idl-any⑤">(4)</a> <a href="#ref-for-idl-any⑥">(5)</a> <a href="#ref-for-idl-any⑦">(6)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-f8062b07e25ed0281f5cbfb9a54070b4" class="dfn-panel" data-for="f8062b07e25ed0281f5cbfb9a54070b4" id="infopanel-for-f8062b07e25ed0281f5cbfb9a54070b4">
   <span id="infopaneltitle-for-f8062b07e25ed0281f5cbfb9a54070b4" style="display:none">Info about the 'boolean' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-boolean">https://webidl.spec.whatwg.org/#idl-boolean</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-boolean">2. Joining Interest Groups</a>
    <li><a href="#ref-for-idl-boolean①">5.2. Global scopes</a> <a href="#ref-for-idl-boolean②">(2)</a> <a href="#ref-for-idl-boolean③">(3)</a>
    <li><a href="#ref-for-idl-boolean④">6. Interest Group Updates</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-d3fd0dc5b12c87e613395fec1824ac77" class="dfn-panel" data-for="d3fd0dc5b12c87e613395fec1824ac77" id="infopanel-for-d3fd0dc5b12c87e613395fec1824ac77">
   <span id="infopaneltitle-for-d3fd0dc5b12c87e613395fec1824ac77" style="display:none">Info about the 'double' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-double">https://webidl.spec.whatwg.org/#idl-double</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-double">2. Joining Interest Groups</a> <a href="#ref-for-idl-double①">(2)</a> <a href="#ref-for-idl-double②">(3)</a> <a href="#ref-for-idl-double③">(4)</a>
    <li><a href="#ref-for-idl-double④">4.1. runAdAuction()</a> <a href="#ref-for-idl-double⑤">(2)</a>
    <li><a href="#ref-for-idl-double⑥">5.2. Global scopes</a> <a href="#ref-for-idl-double⑦">(2)</a> <a href="#ref-for-idl-double⑧">(3)</a> <a href="#ref-for-idl-double⑨">(4)</a> <a href="#ref-for-idl-double①⓪">(5)</a>
    <li><a href="#ref-for-idl-double①①">6. Interest Group Updates</a> <a href="#ref-for-idl-double①②">(2)</a> <a href="#ref-for-idl-double①③">(3)</a>
    <li><a href="#ref-for-idl-double①④">8.1. Interest group</a> <a href="#ref-for-idl-double①⑤">(2)</a> <a href="#ref-for-idl-double①⑥">(3)</a>
    <li><a href="#ref-for-idl-double①⑦">8.3. Auction config</a> <a href="#ref-for-idl-double①⑧">(2)</a>
    <li><a href="#ref-for-idl-double①⑨">8.6. Generated bid</a> <a href="#ref-for-idl-double②⓪">(2)</a>
    <li><a href="#ref-for-idl-double②①">8.8. Ad size</a> <a href="#ref-for-idl-double②②">(2)</a>
    <li><a href="#ref-for-idl-double②③">8.9. Score ad output</a> <a href="#ref-for-idl-double②④">(2)</a>
    <li><a href="#ref-for-idl-double②⑤">8.10. Leading bid info</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-4aeae6a32b1bd5aaac1b5b8f61aed2c8" class="dfn-panel" data-for="4aeae6a32b1bd5aaac1b5b8f61aed2c8" id="infopanel-for-4aeae6a32b1bd5aaac1b5b8f61aed2c8">
   <span id="infopaneltitle-for-4aeae6a32b1bd5aaac1b5b8f61aed2c8" style="display:none">Info about the 'invoke' external reference.</span><a href="https://webidl.spec.whatwg.org/#invoke-a-callback-function">https://webidl.spec.whatwg.org/#invoke-a-callback-function</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-invoke-a-callback-function">5. Script Runners</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-98c84278a4f9d1aa9fa4e4dd12bb7fb2" class="dfn-panel" data-for="98c84278a4f9d1aa9fa4e4dd12bb7fb2" id="infopanel-for-98c84278a4f9d1aa9fa4e4dd12bb7fb2">
   <span id="infopaneltitle-for-98c84278a4f9d1aa9fa4e4dd12bb7fb2" style="display:none">Info about the 'record' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-record">https://webidl.spec.whatwg.org/#idl-record</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-record">2. Joining Interest Groups</a> <a href="#ref-for-idl-record①">(2)</a>
    <li><a href="#ref-for-idl-record②">4.1. runAdAuction()</a> <a href="#ref-for-idl-record③">(2)</a> <a href="#ref-for-idl-record④">(3)</a> <a href="#ref-for-idl-record⑤">(4)</a> <a href="#ref-for-idl-record⑥">(5)</a> <a href="#ref-for-idl-record⑦">(6)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-f7204c0306e7ffcb24c31adf6e629e1d" class="dfn-panel" data-for="f7204c0306e7ffcb24c31adf6e629e1d" id="infopanel-for-f7204c0306e7ffcb24c31adf6e629e1d">
   <span id="infopaneltitle-for-f7204c0306e7ffcb24c31adf6e629e1d" style="display:none">Info about the 'reject' external reference.</span><a href="https://webidl.spec.whatwg.org/#reject">https://webidl.spec.whatwg.org/#reject</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-reject">2. Joining Interest Groups</a>
    <li><a href="#ref-for-reject①">4.1. runAdAuction()</a> <a href="#ref-for-reject②">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-f4f973f92274819781816b033aea1f11" class="dfn-panel" data-for="f4f973f92274819781816b033aea1f11" id="infopanel-for-f4f973f92274819781816b033aea1f11">
   <span id="infopaneltitle-for-f4f973f92274819781816b033aea1f11" style="display:none">Info about the 'resolve' external reference.</span><a href="https://webidl.spec.whatwg.org/#resolve">https://webidl.spec.whatwg.org/#resolve</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-resolve">2. Joining Interest Groups</a>
    <li><a href="#ref-for-resolve①">3. Leaving Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-38ab7db52e46bed36993204c29f67202" class="dfn-panel" data-for="38ab7db52e46bed36993204c29f67202" id="infopanel-for-38ab7db52e46bed36993204c29f67202">
   <span id="infopaneltitle-for-38ab7db52e46bed36993204c29f67202" style="display:none">Info about the 'sequence' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-sequence">https://webidl.spec.whatwg.org/#idl-sequence</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-sequence">2. Joining Interest Groups</a> <a href="#ref-for-idl-sequence①">(2)</a> <a href="#ref-for-idl-sequence②">(3)</a>
    <li><a href="#ref-for-idl-sequence③">4.1. runAdAuction()</a> <a href="#ref-for-idl-sequence④">(2)</a>
    <li><a href="#ref-for-idl-sequence⑤">5.2. Global scopes</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-be0933df03cd63338f98de217c4158c7" class="dfn-panel" data-for="be0933df03cd63338f98de217c4158c7" id="infopanel-for-be0933df03cd63338f98de217c4158c7">
   <span id="infopaneltitle-for-be0933df03cd63338f98de217c4158c7" style="display:none">Info about the 'this' external reference.</span><a href="https://webidl.spec.whatwg.org/#this">https://webidl.spec.whatwg.org/#this</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-this">2. Joining Interest Groups</a> <a href="#ref-for-this①">(2)</a>
    <li><a href="#ref-for-this②">3. Leaving Interest Groups</a>
    <li><a href="#ref-for-this③">4.1. runAdAuction()</a> <a href="#ref-for-this④">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-2ffe113543b75964c47c7e6248fef5eb" class="dfn-panel" data-for="2ffe113543b75964c47c7e6248fef5eb" id="infopanel-for-2ffe113543b75964c47c7e6248fef5eb">
   <span id="infopaneltitle-for-2ffe113543b75964c47c7e6248fef5eb" style="display:none">Info about the 'throw' external reference.</span><a href="https://webidl.spec.whatwg.org/#dfn-throw">https://webidl.spec.whatwg.org/#dfn-throw</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-throw">2. Joining Interest Groups</a> <a href="#ref-for-dfn-throw①">(2)</a> <a href="#ref-for-dfn-throw②">(3)</a> <a href="#ref-for-dfn-throw③">(4)</a> <a href="#ref-for-dfn-throw④">(5)</a> <a href="#ref-for-dfn-throw⑤">(6)</a> <a href="#ref-for-dfn-throw⑥">(7)</a> <a href="#ref-for-dfn-throw⑦">(8)</a>
    <li><a href="#ref-for-dfn-throw⑧">3. Leaving Interest Groups</a> <a href="#ref-for-dfn-throw⑨">(2)</a>
    <li><a href="#ref-for-dfn-throw①⓪">4.1. runAdAuction()</a> <a href="#ref-for-dfn-throw①①">(2)</a> <a href="#ref-for-dfn-throw①②">(3)</a> <a href="#ref-for-dfn-throw①③">(4)</a> <a href="#ref-for-dfn-throw①④">(5)</a> <a href="#ref-for-dfn-throw①⑤">(6)</a> <a href="#ref-for-dfn-throw①⑥">(7)</a> <a href="#ref-for-dfn-throw①⑦">(8)</a> <a href="#ref-for-dfn-throw①⑧">(9)</a> <a href="#ref-for-dfn-throw①⑨">(10)</a> <a href="#ref-for-dfn-throw②⓪">(11)</a> <a href="#ref-for-dfn-throw②①">(12)</a> <a href="#ref-for-dfn-throw②②">(13)</a> <a href="#ref-for-dfn-throw②③">(14)</a> <a href="#ref-for-dfn-throw②④">(15)</a>
    <li><a href="#ref-for-dfn-throw②⑤">5.2. Global scopes</a>
    <li><a href="#ref-for-dfn-throw②⑥">6. Interest Group Updates</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-cee863f1f2ec91066cfb7f5d309d59dc" class="dfn-panel" data-for="cee863f1f2ec91066cfb7f5d309d59dc" id="infopanel-for-cee863f1f2ec91066cfb7f5d309d59dc">
   <span id="infopaneltitle-for-cee863f1f2ec91066cfb7f5d309d59dc" style="display:none">Info about the 'undefined' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-undefined">https://webidl.spec.whatwg.org/#idl-undefined</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-undefined">2. Joining Interest Groups</a>
    <li><a href="#ref-for-idl-undefined①">3. Leaving Interest Groups</a>
    <li><a href="#ref-for-idl-undefined②">5.2. Global scopes</a> <a href="#ref-for-idl-undefined③">(2)</a> <a href="#ref-for-idl-undefined④">(3)</a>
    <li><a href="#ref-for-idl-undefined⑤">6. Interest Group Updates</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-db891cb1cc28e2bf626982240ec36b2a" class="dfn-panel" data-for="db891cb1cc28e2bf626982240ec36b2a" id="infopanel-for-db891cb1cc28e2bf626982240ec36b2a">
   <span id="infopaneltitle-for-db891cb1cc28e2bf626982240ec36b2a" style="display:none">Info about the 'unsigned long long' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long">https://webidl.spec.whatwg.org/#idl-unsigned-long-long</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-unsigned-long-long">4.1. runAdAuction()</a> <a href="#ref-for-idl-unsigned-long-long①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-85ad66f191d72a7d6508e0bab70044dc" class="dfn-panel" data-for="85ad66f191d72a7d6508e0bab70044dc" id="infopanel-for-85ad66f191d72a7d6508e0bab70044dc">
   <span id="infopaneltitle-for-85ad66f191d72a7d6508e0bab70044dc" style="display:none">Info about the 'unsigned short' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-unsigned-short">https://webidl.spec.whatwg.org/#idl-unsigned-short</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-unsigned-short">4.1. runAdAuction()</a> <a href="#ref-for-idl-unsigned-short①">(2)</a> <a href="#ref-for-idl-unsigned-short②">(3)</a> <a href="#ref-for-idl-unsigned-short③">(4)</a>
    <li><a href="#ref-for-idl-unsigned-short④">8.3. Auction config</a> <a href="#ref-for-idl-unsigned-short⑤">(2)</a> <a href="#ref-for-idl-unsigned-short⑥">(3)</a> <a href="#ref-for-idl-unsigned-short⑦">(4)</a> <a href="#ref-for-idl-unsigned-short⑧">(5)</a>
    <li><a href="#ref-for-idl-unsigned-short⑨">8.6. Generated bid</a>
   </ul>
  </aside>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="bc0be31e8402fbeecaef46d793534cb1">urn uuid</span>
    </ul>
   <li>
    <a data-link-type="biblio">[DOM]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="0cadfc0f183a5a4a73af55604ddb1ed1">AbortSignal</span>
     <li><span class="dfn-paneled" id="07886e33695d0e7b473ef18f656ad7ac">Document</span>
     <li><span class="dfn-paneled" id="246d6e5a0d07d2d1f595e370c0ed121e">abort reason</span>
     <li><span class="dfn-paneled" id="a41e1b0215a841ee3eece2fcae96e01a">aborted</span>
     <li><span class="dfn-paneled" id="ea86cd4a0dc314bc1093a2d0542c4364">add</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ECMASCRIPT]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="d9ee0a32a2ecdea8e678ae86e4d4d4d3">Call</span>
     <li><span class="dfn-paneled" id="cf556f9dd3425380a5c43a2444fde286">Date</span>
     <li><span class="dfn-paneled" id="3bd2d97768dc9491b84d8e144cac23f0">Get</span>
     <li><span class="dfn-paneled" id="03b441c041699089d5c30cf6816d8d9b">abrupt completion</span>
     <li><span class="dfn-paneled" id="5e7f6c3d89b0a4143da2310dba0efea1">agent</span>
     <li><span class="dfn-paneled" id="adfd4cc12947cddd5727f971c2cbc846">agent cluster</span>
     <li><span class="dfn-paneled" id="0872e6ec5959aa7f1cd8a3d4fb4ea8e9">candidate execution</span>
     <li><span class="dfn-paneled" id="20659cb606e6a6bcf1d0a7b3a139ce3b">completion record</span>
     <li><span class="dfn-paneled" id="77c90e78e7ad9eb607fc7adc1b17b32c">ecmascript language value</span>
     <li><span class="dfn-paneled" id="cfd4d6f984333ae9bb48d8f0dcbead44">execution context stack</span>
     <li><span class="dfn-paneled" id="837e5160b812066f8c9d45fa21fc0dc2">parsescript</span>
     <li><span class="dfn-paneled" id="92690f62f2a9f71735e0e8781606ca1c">realm</span>
     <li><span class="dfn-paneled" id="288b861bc26847610f1e0909c4baca88">running execution context</span>
     <li><span class="dfn-paneled" id="dae7a8a5a76a549223439e5e24302504">script record</span>
     <li><span class="dfn-paneled" id="c71aa160f2dc633a296d7180b2ab0124">scriptevaluation</span>
     <li><span class="dfn-paneled" id="e0e5fa1cbe27d222c052dceb96196adc">throw completion</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ENCODING]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="8297ed8dbe5ddc8d52a433d25b082796">utf-8</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FENCED-FRAME]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="87005aefb42ddde344e9b7db3359627c">fencedframe</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FETCH]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="b0566d6d660c85a1c0a11fe593f9993d">cache mode</span>
     <li><span class="dfn-paneled" id="136f2700e84634abd2f3d42487ba7f41">client</span>
     <li><span class="dfn-paneled" id="28b697a3fde8f7519842ff0d1ae51f77">credentials mode</span>
     <li><span class="dfn-paneled" id="3444257488f4a193b6f0c4af59b28292">extracting a mime type</span>
     <li><span class="dfn-paneled" id="0bae0f8d0fc019614ef3bb69c15d5311">fetch</span>
     <li><span class="dfn-paneled" id="7d20d86aab82c14f214b792b61bc7cb8">get a structured field value</span>
     <li><span class="dfn-paneled" id="ee7584061c2f45d6a827359cc7178423">header</span>
     <li><span class="dfn-paneled" id="5171067c910207c96b5420a19bae87a3">header list</span>
     <li><span class="dfn-paneled" id="4fd8d1762cd9c874700296c854598fda">header list <small>(for request)</small></span>
     <li><span class="dfn-paneled" id="d94cb5e6252c9158478ebbe8a624e99c">header list <small>(for response)</small></span>
     <li><span class="dfn-paneled" id="ac749183eb78d9110066fea84c5417ad">origin</span>
     <li><span class="dfn-paneled" id="c5e700d07aef54b7ee1acac43643b591">processresponseconsumebody</span>
     <li><span class="dfn-paneled" id="58f356f0304930913f67ab881e9ca886">redirect mode</span>
     <li><span class="dfn-paneled" id="4f358b1fbdaf345d2691f5744de6612b">referrer</span>
     <li><span class="dfn-paneled" id="491791562dd138987138e7051a96c07c">request</span>
     <li><span class="dfn-paneled" id="d203414c2b48c23fddab90ef753bb7cf">response</span>
     <li><span class="dfn-paneled" id="53448884e088e162bab57824ad9a7165">service-workers mode</span>
     <li><span class="dfn-paneled" id="6f4775873c70787775f9c70f0f110709">url</span>
     <li><span class="dfn-paneled" id="d72233a2731c7f5b88c9c3da9700b26a">window</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HR-TIME-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="9213a3aff5ff1021ab4c2d780aa70cee">duration</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="3c82b19be23a00eb4bb6896ec20cd7aa">Navigator</span>
     <li><span class="dfn-paneled" id="3dc9eee4a6a1d169f561b6d87bd08573">allowed to use</span>
     <li><span class="dfn-paneled" id="04e6c32034490f45e4757ead7871de18">associated document</span>
     <li><span class="dfn-paneled" id="1a3f6e8052d555c47f8093741e453939">classic script</span>
     <li><span class="dfn-paneled" id="6b2d3a3ac09e5c21579451a2bbd216f0">create a new realm</span>
     <li><span class="dfn-paneled" id="5e8b369042c4916ed8b50fbe6dd8a5a2">create an agent</span>
     <li><span class="dfn-paneled" id="819da64c021c76d5b5101cd2634d02f7">dom manipulation task source</span>
     <li><span class="dfn-paneled" id="45195a15648533962d6056ddb7495628">enqueue steps</span>
     <li><span class="dfn-paneled" id="d7194ba752d7976f439b51ac9d70a9e3">event loop</span>
     <li><span class="dfn-paneled" id="dfd386d6786e19e14e8be334215a486e">global object</span>
     <li><span class="dfn-paneled" id="741282f868a4798f00c707b7aa365f1f">global object <small>(for realm)</small></span>
     <li><span class="dfn-paneled" id="3a2763fcaa6bc82693554cf36780c0dd">in parallel</span>
     <li><span class="dfn-paneled" id="3b4d9e0bde382093069451ebd3a62bd0">module script</span>
     <li><span class="dfn-paneled" id="e817c0877b8b0aa9a44aab98d651d5de">navigator</span>
     <li><span class="dfn-paneled" id="23307d34220e7159f8e5d8c231db141f">opaque origin</span>
     <li><span class="dfn-paneled" id="e66f9f7d45934e77669cb907bd0c7636">origin</span>
     <li><span class="dfn-paneled" id="a95cc6f0be910557a60537e0256920b2">origin <small>(for environment settings object)</small></span>
     <li><span class="dfn-paneled" id="1a618366c6a1401ee1830a1abf8f5c84">perform a microtask checkpoint</span>
     <li><span class="dfn-paneled" id="a8756513b792b8f203588906035a13bb">queue a global task</span>
     <li><span class="dfn-paneled" id="da7ed5f190c4eedd375552d6f7876301">queue a task</span>
     <li><span class="dfn-paneled" id="2233058c8f0998915af8393ee2abbc1d">relevant global object</span>
     <li><span class="dfn-paneled" id="bfb9cb6617f81a424ab20212af73bae3">relevant settings object</span>
     <li><span class="dfn-paneled" id="3bd07dd1ec2f367091cfd0df47c118a5">same origin</span>
     <li><span class="dfn-paneled" id="e462c9f2460203de987a597cf2944ef9">scheme</span>
     <li><span class="dfn-paneled" id="51607ee9a6d769a72607f214e5af8447">script</span>
     <li><span class="dfn-paneled" id="2aeb953708ac6466a37697c533cf366f">serialization of an origin</span>
     <li><span class="dfn-paneled" id="fce605d521c483dd16b985f5cbb30f9d">settings object</span>
     <li><span class="dfn-paneled" id="3fb76ef5543342a528980b7992fbd75c">starting a new parallel queue</span>
     <li><span class="dfn-paneled" id="b86b35025268c9540f508d9c15f769a4">task</span>
     <li><span class="dfn-paneled" id="8022a5f0b9910c35c5215fd070e93d09">task source</span>
     <li><span class="dfn-paneled" id="fad46e4a016cd6e3ca0c81a3c004e4c3">top-level origin</span>
    </ul>
   <li>
    <a data-link-type="biblio">[INFRA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="fcfc8b0ed220faa237969aed00e2586d">append <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="53c2c70bc752d6cf2a1f7deddc029549">append <small>(for set)</small></span>
     <li><span class="dfn-paneled" id="61c7c9c76ff1cedf412e7a18bbe24e2c">ascii string</span>
     <li><span class="dfn-paneled" id="7618b9a6d44febb7e784c8f39faac140">assert</span>
     <li><span class="dfn-paneled" id="0d4cc8e47c65b15b2be5e5e730a09d3c">boolean</span>
     <li><span class="dfn-paneled" id="7605aa4703a0a6921736ddd5321cfc07">concatenate</span>
     <li><span class="dfn-paneled" id="7aa70202d36f53e6295b249241561d26">contain</span>
     <li><span class="dfn-paneled" id="ce9efec0e74a2cbfe986593eb861ade6">continue</span>
     <li><span class="dfn-paneled" id="0d3ee326a162c16997e7bb20e8b7133c">exist</span>
     <li><span class="dfn-paneled" id="8b9e78ceedde26e69095bd6f6cce47bf">for each <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="fa396dfe2ff99ebb3815418bc73c40fb">for each <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="774d035c53e63931c91186473c19a838">is empty</span>
     <li><span class="dfn-paneled" id="d970c9402d2ebe6e16b496ab9414f037">keys</span>
     <li><span class="dfn-paneled" id="81b03c84949641fc3081227509aab38f">length</span>
     <li><span class="dfn-paneled" id="fafd38d2108e357bcc9a6fd7f3cd04a7">list</span>
     <li><span class="dfn-paneled" id="6f2e2caca6e93162e900d159efe5b573">ordered map</span>
     <li><span class="dfn-paneled" id="80524ea4c0063fe3cf0b6c49a40e31bf">ordered set</span>
     <li><span class="dfn-paneled" id="0b72d18e89ff7b6d0ccd5aba0c2fa85f">parsing a json string to an infra value</span>
     <li><span class="dfn-paneled" id="5714277b72f1518dcec207876f94ebe0">parsing json bytes to a javascript value</span>
     <li><span class="dfn-paneled" id="fadc27e826887faf120674544589ae68">remove <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="5191a0c00b6ec5f93646e492ae7ec62c">remove <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="f61602af2e3f53cbacdcc4f356cd16f1">replace</span>
     <li><span class="dfn-paneled" id="c186cdbfe7e0e7f10f543af94aebdac4">serializing a javascript value to a json string</span>
     <li><span class="dfn-paneled" id="5c3d3462610d78bc92b91000cc511bc4">set</span>
     <li><span class="dfn-paneled" id="bed8381510f5967f5d37a33de776e857">size <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="cb6090a4148c3b79aef250d4d6625e39">size <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="2d700262fcde3097fbf89ef2496f1f0d">starts with</span>
     <li><span class="dfn-paneled" id="40b59bc325bd4d66701dfd8b7f1847c0">string</span>
     <li><span class="dfn-paneled" id="3ee316b93eb2dbe81d01a666cce50f9b">struct</span>
     <li><span class="dfn-paneled" id="decbbd3ee5a73b54e8e8996ce1fddbbc">tuple</span>
     <li><span class="dfn-paneled" id="f3303f924992de4a9bec051b5191187a">values</span>
    </ul>
   <li>
    <a data-link-type="biblio">[MIMESNIFF]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="5f9330a8f7c5b66d2adf3d3370ae74c1">javascript mime type</span>
     <li><span class="dfn-paneled" id="ecd77f8d0b60bd81f3277adf5fb2d3f3">json mime type</span>
     <li><span class="dfn-paneled" id="6999afece714837dd460347910a5a28d">parameters</span>
    </ul>
   <li>
    <a data-link-type="biblio">[PERMISSIONS-POLICY-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="597f16a11d2e9b68ceae30c52291ae72">default allowlists</span>
     <li><span class="dfn-paneled" id="cbc4165961071efad91900c4c7b2fe8b">policy-controlled feature</span>
    </ul>
   <li>
    <a data-link-type="biblio">[URL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="2050d5e7ce0fb9db5cc184a49b67d60f">component percent-encode set</span>
     <li><span class="dfn-paneled" id="60cc34e102fbb39581626f2f37e3179a">fragment</span>
     <li><span class="dfn-paneled" id="7162945c2118778c48f40774f8d7344b">includes credentials</span>
     <li><span class="dfn-paneled" id="eb0e1698348a5ae30cd3aa882b6dff01">origin</span>
     <li><span class="dfn-paneled" id="d4903414a495f752f42338823a0b455e">query</span>
     <li><span class="dfn-paneled" id="67f83ca6d3c695660bfc2f054f534ffb">scheme</span>
     <li><span class="dfn-paneled" id="fc05c76e016d3aec6a25a91c066500c8">url</span>
     <li><span class="dfn-paneled" id="07df417653faafb38ece7480f2c15a3e">url parser</span>
     <li><span class="dfn-paneled" id="4cd5cba6c3b356beb9ed1d910eaf8ee9">url serializer</span>
     <li><span class="dfn-paneled" id="89c942a6be0752175bb866d54a9b3ec0">utf-8 percent-encode</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WebIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="0ab204fb9cc9a746edaff83c0db0740a">DOMException</span>
     <li><span class="dfn-paneled" id="d0f238a61de9310f1738a214749fab18">DOMString</span>
     <li><span class="dfn-paneled" id="dde049eb112f043fc45407ec0d4cb457">Exposed</span>
     <li><span class="dfn-paneled" id="87854fa3332c5bf035dec1c1725d8450">Global</span>
     <li><span class="dfn-paneled" id="aa43258e2b51dc6ebe6268a36e6fd733">NotAllowedError</span>
     <li><span class="dfn-paneled" id="93669c631ec1ef8e696b4c083bdbe12c">Promise</span>
     <li><span class="dfn-paneled" id="cdf224ec60dc3b08449a2fbdf3a90406">SecureContext</span>
     <li><span class="dfn-paneled" id="3f9c3eac015894a734faa8068fd8c2a1">TypeError</span>
     <li><span class="dfn-paneled" id="e270bcd7cdb4abe27bc3bb16a1975937">USVString</span>
     <li><span class="dfn-paneled" id="bbe33fc7ac016834e4aaddbfd1b084a1">a new promise</span>
     <li><span class="dfn-paneled" id="8eec6bb7878bb17dddbbb727b8d77c28">any</span>
     <li><span class="dfn-paneled" id="f8062b07e25ed0281f5cbfb9a54070b4">boolean</span>
     <li><span class="dfn-paneled" id="d3fd0dc5b12c87e613395fec1824ac77">double</span>
     <li><span class="dfn-paneled" id="4aeae6a32b1bd5aaac1b5b8f61aed2c8">invoke</span>
     <li><span class="dfn-paneled" id="98c84278a4f9d1aa9fa4e4dd12bb7fb2">record</span>
     <li><span class="dfn-paneled" id="f7204c0306e7ffcb24c31adf6e629e1d">reject</span>
     <li><span class="dfn-paneled" id="f4f973f92274819781816b033aea1f11">resolve</span>
     <li><span class="dfn-paneled" id="38ab7db52e46bed36993204c29f67202">sequence</span>
     <li><span class="dfn-paneled" id="be0933df03cd63338f98de217c4158c7">this</span>
     <li><span class="dfn-paneled" id="2ffe113543b75964c47c7e6248fef5eb">throw</span>
     <li><span class="dfn-paneled" id="cee863f1f2ec91066cfb7f5d309d59dc">undefined</span>
     <li><span class="dfn-paneled" id="db891cb1cc28e2bf626982240ec36b2a">unsigned long long</span>
     <li><span class="dfn-paneled" id="85ad66f191d72a7d6508e0bab70044dc">unsigned short</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-dom">[DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-ecmascript">[ECMASCRIPT]
   <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript Language Specification</cite></a>. URL: <a href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
   <dt id="biblio-encoding">[ENCODING]
   <dd>Anne van Kesteren. <a href="https://encoding.spec.whatwg.org/"><cite>Encoding Standard</cite></a>. Living Standard. URL: <a href="https://encoding.spec.whatwg.org/">https://encoding.spec.whatwg.org/</a>
   <dt id="biblio-fenced-frame">[FENCED-FRAME]
   <dd>Fenced frame URL: <a href="https://wicg.github.io/fenced-frame/">https://wicg.github.io/fenced-frame/</a>
   <dt id="biblio-fetch">[FETCH]
   <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/"><cite>Fetch Standard</cite></a>. Living Standard. URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
   <dt id="biblio-hr-time-3">[HR-TIME-3]
   <dd>Yoav Weiss. <a href="https://w3c.github.io/hr-time/"><cite>High Resolution Time</cite></a>. URL: <a href="https://w3c.github.io/hr-time/">https://w3c.github.io/hr-time/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-infra">[INFRA]
   <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   <dt id="biblio-mimesniff">[MIMESNIFF]
   <dd>Gordon P. Hemsley. <a href="https://mimesniff.spec.whatwg.org/"><cite>MIME Sniffing Standard</cite></a>. Living Standard. URL: <a href="https://mimesniff.spec.whatwg.org/">https://mimesniff.spec.whatwg.org/</a>
   <dt id="biblio-permissions-policy-1">[PERMISSIONS-POLICY-1]
   <dd>Ian Clelland. <a href="https://w3c.github.io/webappsec-permissions-policy/"><cite>Permissions Policy</cite></a>. URL: <a href="https://w3c.github.io/webappsec-permissions-policy/">https://w3c.github.io/webappsec-permissions-policy/</a>
   <dt id="biblio-url">[URL]
   <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>. Living Standard. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
   <dt id="biblio-webidl">[WebIDL]
   <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"><c- g>Navigator</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigator-joinadinterestgroup"><c- g>joinAdInterestGroup</c-></a>(<a data-link-type="idl-name" href="#dictdef-auctionadinterestgroup"><c- n>AuctionAdInterestGroup</c-></a> <a href="#dom-navigator-joinadinterestgroup-group-durationseconds-group"><code><c- g>group</c-></code></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a href="#dom-navigator-joinadinterestgroup-group-durationseconds-durationseconds"><code><c- g>durationSeconds</c-></code></a>);
};

<c- b>dictionary</c-> <a href="#dictdef-auctionad"><code><c- g>AuctionAd</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionad-renderurl"><code><c- g>renderURL</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a data-type="any " href="#dom-auctionad-metadata"><code><c- g>metadata</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-auctionadinterestgroup"><code><c- g>AuctionAdInterestGroup</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionadinterestgroup-owner"><code><c- g>owner</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionadinterestgroup-name"><code><c- g>name</c-></code></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a data-default="0.0" data-type="double " href="#dom-auctionadinterestgroup-priority"><code><c- g>priority</c-></code></a> = 0.0;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean " href="#dom-auctionadinterestgroup-enablebiddingsignalsprioritization"><code><c- g>enableBiddingSignalsPrioritization</c-></code></a> = <c- b>false</c->;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>> <a data-type="record<DOMString, double> " href="#dom-auctionadinterestgroup-priorityvector"><code><c- g>priorityVector</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>> <a data-type="record<DOMString, double> " href="#dom-auctionadinterestgroup-prioritysignalsoverrides"><code><c- g>prioritySignalsOverrides</c-></code></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-default="&quot;compatibility&quot;" data-type="DOMString " href="#dom-auctionadinterestgroup-executionmode"><code><c- g>executionMode</c-></code></a> = "compatibility";
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionadinterestgroup-biddinglogicurl"><code><c- g>biddingLogicURL</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionadinterestgroup-biddingwasmhelperurl"><code><c- g>biddingWasmHelperURL</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionadinterestgroup-dailyupdateurl"><code><c- g>dailyUpdateURL</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionadinterestgroup-trustedbiddingsignalsurl"><code><c- g>trustedBiddingSignalsURL</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>> <a data-type="sequence<USVString> " href="#dom-auctionadinterestgroup-trustedbiddingsignalskeys"><code><c- g>trustedBiddingSignalsKeys</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a data-type="any " href="#dom-auctionadinterestgroup-userbiddingsignals"><code><c- g>userBiddingSignals</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-auctionad"><c- n>AuctionAd</c-></a>> <a data-type="sequence<AuctionAd> " href="#dom-auctionadinterestgroup-ads"><code><c- g>ads</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-auctionad"><c- n>AuctionAd</c-></a>> <a data-type="sequence<AuctionAd> " href="#dom-auctionadinterestgroup-adcomponents"><code><c- g>adComponents</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"><c- g>Navigator</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigator-leaveadinterestgroup"><c- g>leaveAdInterestGroup</c-></a>(<a data-link-type="idl-name" href="#dictdef-auctionadinterestgroupkey"><c- n>AuctionAdInterestGroupKey</c-></a> <a href="#dom-navigator-leaveadinterestgroup-group-group"><code><c- g>group</c-></code></a>);
};

<c- b>dictionary</c-> <a href="#dictdef-auctionadinterestgroupkey"><code><c- g>AuctionAdInterestGroupKey</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionadinterestgroupkey-owner"><code><c- g>owner</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionadinterestgroupkey-name"><code><c- g>name</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"><c- g>Navigator</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>?> <a class="idl-code" data-link-type="method" href="#dom-navigator-runadauction"><c- g>runAdAuction</c-></a>(<a data-link-type="idl-name" href="#dictdef-auctionadconfig"><c- n>AuctionAdConfig</c-></a> <a href="#dom-navigator-runadauction-config-config"><code><c- g>config</c-></code></a>);
};

<c- b>dictionary</c-> <a href="#dictdef-auctionadconfig"><code><c- g>AuctionAdConfig</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionadconfig-seller"><code><c- g>seller</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionadconfig-decisionlogicurl"><code><c- g>decisionLogicURL</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionadconfig-trustedscoringsignalsurl"><code><c- g>trustedScoringSignalsURL</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>> <a data-type="sequence<USVString> " href="#dom-auctionadconfig-interestgroupbuyers"><code><c- g>interestGroupBuyers</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a data-type="any " href="#dom-auctionadconfig-auctionsignals"><code><c- g>auctionSignals</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a data-type="any " href="#dom-auctionadconfig-sellersignals"><code><c- g>sellerSignals</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionadconfig-directfromsellersignals"><code><c- g>directFromSellerSignals</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a data-type="unsigned long long " href="#dom-auctionadconfig-sellertimeout"><code><c- g>sellerTimeout</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short"><c- b>unsigned</c-> <c- b>short</c-></a> <a data-type="unsigned short " href="#dom-auctionadconfig-sellerexperimentgroupid"><code><c- g>sellerExperimentGroupId</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a>> <a data-type="record<USVString, any> " href="#dom-auctionadconfig-perbuyersignals"><code><c- g>perBuyerSignals</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a>> <a data-type="record<USVString, unsigned long long> " href="#dom-auctionadconfig-perbuyertimeouts"><code><c- g>perBuyerTimeouts</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short"><c- b>unsigned</c-> <c- b>short</c-></a>> <a data-type="record<USVString, unsigned short> " href="#dom-auctionadconfig-perbuyergrouplimits"><code><c- g>perBuyerGroupLimits</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short"><c- b>unsigned</c-> <c- b>short</c-></a>> <a data-type="record<USVString, unsigned short> " href="#dom-auctionadconfig-perbuyerexperimentgroupids"><code><c- g>perBuyerExperimentGroupIds</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>>> <a data-type="record<USVString, record<USVString, double>> " href="#dom-auctionadconfig-perbuyerprioritysignals"><code><c- g>perBuyerPrioritySignals</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-auctionadconfig"><c- n>AuctionAdConfig</c-></a>> <a data-default="[]" data-type="sequence<AuctionAdConfig> " href="#dom-auctionadconfig-componentauctions"><code><c- g>componentAuctions</c-></code></a> = [];
  <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#abortsignal"><c- n>AbortSignal</c-></a>? <a data-type="AbortSignal? " href="#dom-auctionadconfig-signal"><code><c- g>signal</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>InterestGroupBiddingScriptRunnerGlobalScope</c->,
<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Global"><c- g>Global</c-></a>=<a data-link-type="idl-name" href="#interestgroupbiddingscriptrunnerglobalscope"><c- n>InterestGroupBiddingScriptRunnerGlobalScope</c-></a>]
<c- b>interface</c-> <a href="#interestgroupbiddingscriptrunnerglobalscope"><code><c- g>InterestGroupBiddingScriptRunnerGlobalScope</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="method" href="#dom-interestgroupbiddingscriptrunnerglobalscope-setbid"><c- g>setBid</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="method" href="#dom-interestgroupbiddingscriptrunnerglobalscope-setbid-generatebidoutput"><c- g>setBid</c-></a>(<a data-link-type="idl-name" href="#dictdef-generatebidoutput"><c- n>GenerateBidOutput</c-></a> <a href="#dom-interestgroupbiddingscriptrunnerglobalscope-setbid-generatebidoutput-generatebidoutput"><code><c- g>generateBidOutput</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-interestgroupbiddingscriptrunnerglobalscope-setpriority"><c- g>setPriority</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a href="#dom-interestgroupbiddingscriptrunnerglobalscope-setpriority-priority-priority"><code><c- g>priority</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride"><c- g>setPrioritySignalsOverride</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride-key-priority-key"><code><c- g>key</c-></code></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a href="#dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride-key-priority-priority"><code><c- g>priority</c-></code></a>);
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>InterestGroupScoringScriptRunnerGlobalScope</c->,
<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Global"><c- g>Global</c-></a>=<a data-link-type="idl-name" href="#interestgroupscoringscriptrunnerglobalscope"><c- n>InterestGroupScoringScriptRunnerGlobalScope</c-></a>]
<c- b>interface</c-> <a href="#interestgroupscoringscriptrunnerglobalscope"><code><c- g>InterestGroupScoringScriptRunnerGlobalScope</c-></code></a> {
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>InterestGroupReportingScriptRunnerGlobalScope</c->,
<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Global"><c- g>Global</c-></a>=<a data-link-type="idl-name" href="#interestgroupreportingscriptrunnerglobalscope"><c- n>InterestGroupReportingScriptRunnerGlobalScope</c-></a>]
<c- b>interface</c-> <a href="#interestgroupreportingscriptrunnerglobalscope"><code><c- g>InterestGroupReportingScriptRunnerGlobalScope</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-interestgroupreportingscriptrunnerglobalscope-sendreportto"><c- g>sendReportTo</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-interestgroupreportingscriptrunnerglobalscope-sendreportto-url-url"><code><c- g>url</c-></code></a>);
};

<c- b>dictionary</c-> <a href="#dictdef-adrender"><code><c- g>AdRender</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString " href="#dom-adrender-url"><code><c- g>url</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString " href="#dom-adrender-width"><code><c- g>width</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString " href="#dom-adrender-height"><code><c- g>height</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-generatebidoutput"><code><c- g>GenerateBidOutput</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a data-type="double " href="#dom-generatebidoutput-bid"><code><c- g>bid</c-></code></a>;
  <c- b>required</c-> (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#dictdef-adrender"><c- n>AdRender</c-></a>) <a data-type="(DOMString or AdRender) " href="#dom-generatebidoutput-adrender"><code><c- g>adRender</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString " href="#dom-generatebidoutput-ad"><code><c- g>ad</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#dictdef-adrender"><c- n>AdRender</c-></a>)> <a data-type="sequence<(DOMString or AdRender)> " href="#dom-generatebidoutput-adcomponents"><code><c- g>adComponents</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a data-type="double " href="#dom-generatebidoutput-adcost"><code><c- g>adCost</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a data-type="double " href="#dom-generatebidoutput-modelingsignals"><code><c- g>modelingSignals</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean " href="#dom-generatebidoutput-allowcomponentauction"><code><c- g>allowComponentAuction</c-></code></a> = <c- b>false</c->;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"><c- g>Navigator</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-navigator-updateadinterestgroups"><c- g>updateAdInterestGroups</c-></a>();
};

</pre>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> This would ideally be replaced by a more descriptive algorithm in Infra. See <a href="https://github.com/whatwg/infra/issues/201">infra/201</a> <a class="issue-return" href="#issue-ccb90c6c" title="Jump to section">↵</a></div>
   <div class="issue"> This exclusively creates a new <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#sec-agent-clusters">agent cluster</a> for the given <var>script</var> to
 run in, but we should make this work with <a data-link-type="dfn" href="#interest-group-execution-mode">execution mode</a> somehow. <a class="issue-return" href="#issue-3823b15e" title="Jump to section">↵</a></div>
   <div class="issue"> Finish specifying the following algorithms. <a class="issue-return" href="#issue-3547680d" title="Jump to section">↵</a></div>
   <div class="issue no-marker">
    <a class="marker" href="https://github.com/WICG/turtledove/issues/522">Issue #522 on GitHub: “Move "join-ad-interest-group" &amp; "run-ad-auction" default allowlists to `self`”</a>
    <p dir="auto">Currently they're <code class="notranslate">*</code>.</p>
     <a class="issue-return" href="#issue-fe255eea" title="Jump to section">↵</a>
   </div>
  </div>
  <aside aria-labelledby="infopaneltitle-for-interest-group-set" class="dfn-panel" data-for="interest-group-set" id="infopanel-for-interest-group-set">
   <span id="infopaneltitle-for-interest-group-set" style="display:none">Info about the 'interest group set' definition.</span><b><a href="#interest-group-set">#interest-group-set</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-set">2. Joining Interest Groups</a>
    <li><a href="#ref-for-interest-group-set①">3. Leaving Interest Groups</a>
    <li><a href="#ref-for-interest-group-set②">4.1. runAdAuction()</a>
    <li><a href="#ref-for-interest-group-set③">5. Script Runners</a>
    <li><a href="#ref-for-interest-group-set④">6. Interest Group Updates</a> <a href="#ref-for-interest-group-set⑤">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dictdef-auctionad" class="dfn-panel" data-for="dictdef-auctionad" id="infopanel-for-dictdef-auctionad">
   <span id="infopaneltitle-for-dictdef-auctionad" style="display:none">Info about the 'AuctionAd' definition.</span><b><a href="#dictdef-auctionad">#dictdef-auctionad</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-auctionad">2. Joining Interest Groups</a> <a href="#ref-for-dictdef-auctionad①">(2)</a>
    <li><a href="#ref-for-dictdef-auctionad②">6. Interest Group Updates</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionad-renderurl" class="dfn-panel" data-for="dom-auctionad-renderurl" id="infopanel-for-dom-auctionad-renderurl">
   <span id="infopaneltitle-for-dom-auctionad-renderurl" style="display:none">Info about the 'renderURL' definition.</span><b><a href="#dom-auctionad-renderurl">#dom-auctionad-renderurl</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionad-renderurl">2. Joining Interest Groups</a>
    <li><a href="#ref-for-dom-auctionad-renderurl①">6. Interest Group Updates</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionad-metadata" class="dfn-panel" data-for="dom-auctionad-metadata" id="infopanel-for-dom-auctionad-metadata">
   <span id="infopaneltitle-for-dom-auctionad-metadata" style="display:none">Info about the 'metadata' definition.</span><b><a href="#dom-auctionad-metadata">#dom-auctionad-metadata</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionad-metadata">2. Joining Interest Groups</a> <a href="#ref-for-dom-auctionad-metadata①">(2)</a>
    <li><a href="#ref-for-dom-auctionad-metadata②">6. Interest Group Updates</a> <a href="#ref-for-dom-auctionad-metadata③">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dictdef-auctionadinterestgroup" class="dfn-panel" data-for="dictdef-auctionadinterestgroup" id="infopanel-for-dictdef-auctionadinterestgroup">
   <span id="infopaneltitle-for-dictdef-auctionadinterestgroup" style="display:none">Info about the 'AuctionAdInterestGroup' definition.</span><b><a href="#dictdef-auctionadinterestgroup">#dictdef-auctionadinterestgroup</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-auctionadinterestgroup">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroup-owner" class="dfn-panel" data-for="dom-auctionadinterestgroup-owner" id="infopanel-for-dom-auctionadinterestgroup-owner">
   <span id="infopaneltitle-for-dom-auctionadinterestgroup-owner" style="display:none">Info about the 'owner' definition.</span><b><a href="#dom-auctionadinterestgroup-owner">#dom-auctionadinterestgroup-owner</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroup-owner">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroup-name" class="dfn-panel" data-for="dom-auctionadinterestgroup-name" id="infopanel-for-dom-auctionadinterestgroup-name">
   <span id="infopaneltitle-for-dom-auctionadinterestgroup-name" style="display:none">Info about the 'name' definition.</span><b><a href="#dom-auctionadinterestgroup-name">#dom-auctionadinterestgroup-name</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroup-name">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroup-priority" class="dfn-panel" data-for="dom-auctionadinterestgroup-priority" id="infopanel-for-dom-auctionadinterestgroup-priority">
   <span id="infopaneltitle-for-dom-auctionadinterestgroup-priority" style="display:none">Info about the 'priority' definition.</span><b><a href="#dom-auctionadinterestgroup-priority">#dom-auctionadinterestgroup-priority</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroup-priority">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroup-enablebiddingsignalsprioritization" class="dfn-panel" data-for="dom-auctionadinterestgroup-enablebiddingsignalsprioritization" id="infopanel-for-dom-auctionadinterestgroup-enablebiddingsignalsprioritization">
   <span id="infopaneltitle-for-dom-auctionadinterestgroup-enablebiddingsignalsprioritization" style="display:none">Info about the 'enableBiddingSignalsPrioritization' definition.</span><b><a href="#dom-auctionadinterestgroup-enablebiddingsignalsprioritization">#dom-auctionadinterestgroup-enablebiddingsignalsprioritization</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroup-enablebiddingsignalsprioritization">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroup-priorityvector" class="dfn-panel" data-for="dom-auctionadinterestgroup-priorityvector" id="infopanel-for-dom-auctionadinterestgroup-priorityvector">
   <span id="infopaneltitle-for-dom-auctionadinterestgroup-priorityvector" style="display:none">Info about the 'priorityVector' definition.</span><b><a href="#dom-auctionadinterestgroup-priorityvector">#dom-auctionadinterestgroup-priorityvector</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroup-priorityvector">2. Joining Interest Groups</a> <a href="#ref-for-dom-auctionadinterestgroup-priorityvector①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroup-prioritysignalsoverrides" class="dfn-panel" data-for="dom-auctionadinterestgroup-prioritysignalsoverrides" id="infopanel-for-dom-auctionadinterestgroup-prioritysignalsoverrides">
   <span id="infopaneltitle-for-dom-auctionadinterestgroup-prioritysignalsoverrides" style="display:none">Info about the 'prioritySignalsOverrides' definition.</span><b><a href="#dom-auctionadinterestgroup-prioritysignalsoverrides">#dom-auctionadinterestgroup-prioritysignalsoverrides</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroup-prioritysignalsoverrides">2. Joining Interest Groups</a> <a href="#ref-for-dom-auctionadinterestgroup-prioritysignalsoverrides①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroup-executionmode" class="dfn-panel" data-for="dom-auctionadinterestgroup-executionmode" id="infopanel-for-dom-auctionadinterestgroup-executionmode">
   <span id="infopaneltitle-for-dom-auctionadinterestgroup-executionmode" style="display:none">Info about the 'executionMode' definition.</span><b><a href="#dom-auctionadinterestgroup-executionmode">#dom-auctionadinterestgroup-executionmode</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroup-executionmode">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroup-biddinglogicurl" class="dfn-panel" data-for="dom-auctionadinterestgroup-biddinglogicurl" id="infopanel-for-dom-auctionadinterestgroup-biddinglogicurl">
   <span id="infopaneltitle-for-dom-auctionadinterestgroup-biddinglogicurl" style="display:none">Info about the 'biddingLogicURL' definition.</span><b><a href="#dom-auctionadinterestgroup-biddinglogicurl">#dom-auctionadinterestgroup-biddinglogicurl</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroup-biddinglogicurl">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroup-biddingwasmhelperurl" class="dfn-panel" data-for="dom-auctionadinterestgroup-biddingwasmhelperurl" id="infopanel-for-dom-auctionadinterestgroup-biddingwasmhelperurl">
   <span id="infopaneltitle-for-dom-auctionadinterestgroup-biddingwasmhelperurl" style="display:none">Info about the 'biddingWasmHelperURL' definition.</span><b><a href="#dom-auctionadinterestgroup-biddingwasmhelperurl">#dom-auctionadinterestgroup-biddingwasmhelperurl</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroup-biddingwasmhelperurl">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroup-dailyupdateurl" class="dfn-panel" data-for="dom-auctionadinterestgroup-dailyupdateurl" id="infopanel-for-dom-auctionadinterestgroup-dailyupdateurl">
   <span id="infopaneltitle-for-dom-auctionadinterestgroup-dailyupdateurl" style="display:none">Info about the 'dailyUpdateURL' definition.</span><b><a href="#dom-auctionadinterestgroup-dailyupdateurl">#dom-auctionadinterestgroup-dailyupdateurl</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroup-dailyupdateurl">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroup-trustedbiddingsignalsurl" class="dfn-panel" data-for="dom-auctionadinterestgroup-trustedbiddingsignalsurl" id="infopanel-for-dom-auctionadinterestgroup-trustedbiddingsignalsurl">
   <span id="infopaneltitle-for-dom-auctionadinterestgroup-trustedbiddingsignalsurl" style="display:none">Info about the 'trustedBiddingSignalsURL' definition.</span><b><a href="#dom-auctionadinterestgroup-trustedbiddingsignalsurl">#dom-auctionadinterestgroup-trustedbiddingsignalsurl</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroup-trustedbiddingsignalsurl">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroup-trustedbiddingsignalskeys" class="dfn-panel" data-for="dom-auctionadinterestgroup-trustedbiddingsignalskeys" id="infopanel-for-dom-auctionadinterestgroup-trustedbiddingsignalskeys">
   <span id="infopaneltitle-for-dom-auctionadinterestgroup-trustedbiddingsignalskeys" style="display:none">Info about the 'trustedBiddingSignalsKeys' definition.</span><b><a href="#dom-auctionadinterestgroup-trustedbiddingsignalskeys">#dom-auctionadinterestgroup-trustedbiddingsignalskeys</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroup-trustedbiddingsignalskeys">2. Joining Interest Groups</a> <a href="#ref-for-dom-auctionadinterestgroup-trustedbiddingsignalskeys①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroup-userbiddingsignals" class="dfn-panel" data-for="dom-auctionadinterestgroup-userbiddingsignals" id="infopanel-for-dom-auctionadinterestgroup-userbiddingsignals">
   <span id="infopaneltitle-for-dom-auctionadinterestgroup-userbiddingsignals" style="display:none">Info about the 'userBiddingSignals' definition.</span><b><a href="#dom-auctionadinterestgroup-userbiddingsignals">#dom-auctionadinterestgroup-userbiddingsignals</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroup-userbiddingsignals">2. Joining Interest Groups</a> <a href="#ref-for-dom-auctionadinterestgroup-userbiddingsignals①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroup-ads" class="dfn-panel" data-for="dom-auctionadinterestgroup-ads" id="infopanel-for-dom-auctionadinterestgroup-ads">
   <span id="infopaneltitle-for-dom-auctionadinterestgroup-ads" style="display:none">Info about the 'ads' definition.</span><b><a href="#dom-auctionadinterestgroup-ads">#dom-auctionadinterestgroup-ads</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroup-ads">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroup-adcomponents" class="dfn-panel" data-for="dom-auctionadinterestgroup-adcomponents" id="infopanel-for-dom-auctionadinterestgroup-adcomponents">
   <span id="infopaneltitle-for-dom-auctionadinterestgroup-adcomponents" style="display:none">Info about the 'adComponents' definition.</span><b><a href="#dom-auctionadinterestgroup-adcomponents">#dom-auctionadinterestgroup-adcomponents</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroup-adcomponents">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-navigator-joinadinterestgroup" class="dfn-panel" data-for="dom-navigator-joinadinterestgroup" id="infopanel-for-dom-navigator-joinadinterestgroup">
   <span id="infopaneltitle-for-dom-navigator-joinadinterestgroup" style="display:none">Info about the 'joinAdInterestGroup(group, durationSeconds)' definition.</span><b><a href="#dom-navigator-joinadinterestgroup">#dom-navigator-joinadinterestgroup</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigator-joinadinterestgroup">1. Introduction</a>
    <li><a href="#ref-for-dom-navigator-joinadinterestgroup①">2. Joining Interest Groups</a> <a href="#ref-for-dom-navigator-joinadinterestgroup②">(2)</a>
    <li><a href="#ref-for-dom-navigator-joinadinterestgroup③">8.1. Interest group</a>
    <li><a href="#ref-for-dom-navigator-joinadinterestgroup④">9. Privacy Considerations</a>
    <li><a href="#ref-for-dom-navigator-joinadinterestgroup⑤">10. Security Considerations</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-estimated-size" class="dfn-panel" data-for="interest-group-estimated-size" id="infopanel-for-interest-group-estimated-size">
   <span id="infopaneltitle-for-interest-group-estimated-size" style="display:none">Info about the 'estimated size' definition.</span><b><a href="#interest-group-estimated-size">#interest-group-estimated-size</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-estimated-size">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-check-interest-group-permissions" class="dfn-panel" data-for="check-interest-group-permissions" id="infopanel-for-check-interest-group-permissions">
   <span id="infopaneltitle-for-check-interest-group-permissions" style="display:none">Info about the 'check interest group permissions' definition.</span><b><a href="#check-interest-group-permissions">#check-interest-group-permissions</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-check-interest-group-permissions">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-build-an-interest-group-permissions-url" class="dfn-panel" data-for="build-an-interest-group-permissions-url" id="infopanel-for-build-an-interest-group-permissions-url">
   <span id="infopaneltitle-for-build-an-interest-group-permissions-url" style="display:none">Info about the 'build an interest group permissions url' definition.</span><b><a href="#build-an-interest-group-permissions-url">#build-an-interest-group-permissions-url</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-build-an-interest-group-permissions-url">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dictdef-auctionadinterestgroupkey" class="dfn-panel" data-for="dictdef-auctionadinterestgroupkey" id="infopanel-for-dictdef-auctionadinterestgroupkey">
   <span id="infopaneltitle-for-dictdef-auctionadinterestgroupkey" style="display:none">Info about the 'AuctionAdInterestGroupKey' definition.</span><b><a href="#dictdef-auctionadinterestgroupkey">#dictdef-auctionadinterestgroupkey</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-auctionadinterestgroupkey">3. Leaving Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroupkey-owner" class="dfn-panel" data-for="dom-auctionadinterestgroupkey-owner" id="infopanel-for-dom-auctionadinterestgroupkey-owner">
   <span id="infopaneltitle-for-dom-auctionadinterestgroupkey-owner" style="display:none">Info about the 'owner' definition.</span><b><a href="#dom-auctionadinterestgroupkey-owner">#dom-auctionadinterestgroupkey-owner</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroupkey-owner">3. Leaving Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadinterestgroupkey-name" class="dfn-panel" data-for="dom-auctionadinterestgroupkey-name" id="infopanel-for-dom-auctionadinterestgroupkey-name">
   <span id="infopaneltitle-for-dom-auctionadinterestgroupkey-name" style="display:none">Info about the 'name' definition.</span><b><a href="#dom-auctionadinterestgroupkey-name">#dom-auctionadinterestgroupkey-name</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadinterestgroupkey-name">3. Leaving Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-navigator-leaveadinterestgroup" class="dfn-panel" data-for="dom-navigator-leaveadinterestgroup" id="infopanel-for-dom-navigator-leaveadinterestgroup">
   <span id="infopaneltitle-for-dom-navigator-leaveadinterestgroup" style="display:none">Info about the 'leaveAdInterestGroup(group)' definition.</span><b><a href="#dom-navigator-leaveadinterestgroup">#dom-navigator-leaveadinterestgroup</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigator-leaveadinterestgroup">3. Leaving Interest Groups</a> <a href="#ref-for-dom-navigator-leaveadinterestgroup①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dictdef-auctionadconfig" class="dfn-panel" data-for="dictdef-auctionadconfig" id="infopanel-for-dictdef-auctionadconfig">
   <span id="infopaneltitle-for-dictdef-auctionadconfig" style="display:none">Info about the 'AuctionAdConfig' definition.</span><b><a href="#dictdef-auctionadconfig">#dictdef-auctionadconfig</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-auctionadconfig">4.1. runAdAuction()</a> <a href="#ref-for-dictdef-auctionadconfig①">(2)</a> <a href="#ref-for-dictdef-auctionadconfig②">(3)</a> <a href="#ref-for-dictdef-auctionadconfig③">(4)</a>
    <li><a href="#ref-for-dictdef-auctionadconfig④">8.1. Interest group</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-seller" class="dfn-panel" data-for="dom-auctionadconfig-seller" id="infopanel-for-dom-auctionadconfig-seller">
   <span id="infopaneltitle-for-dom-auctionadconfig-seller" style="display:none">Info about the 'seller' definition.</span><b><a href="#dom-auctionadconfig-seller">#dom-auctionadconfig-seller</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-seller">4.1. runAdAuction()</a> <a href="#ref-for-dom-auctionadconfig-seller①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-decisionlogicurl" class="dfn-panel" data-for="dom-auctionadconfig-decisionlogicurl" id="infopanel-for-dom-auctionadconfig-decisionlogicurl">
   <span id="infopaneltitle-for-dom-auctionadconfig-decisionlogicurl" style="display:none">Info about the 'decisionLogicURL' definition.</span><b><a href="#dom-auctionadconfig-decisionlogicurl">#dom-auctionadconfig-decisionlogicurl</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-decisionlogicurl">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-trustedscoringsignalsurl" class="dfn-panel" data-for="dom-auctionadconfig-trustedscoringsignalsurl" id="infopanel-for-dom-auctionadconfig-trustedscoringsignalsurl">
   <span id="infopaneltitle-for-dom-auctionadconfig-trustedscoringsignalsurl" style="display:none">Info about the 'trustedScoringSignalsURL' definition.</span><b><a href="#dom-auctionadconfig-trustedscoringsignalsurl">#dom-auctionadconfig-trustedscoringsignalsurl</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-trustedscoringsignalsurl">4.1. runAdAuction()</a> <a href="#ref-for-dom-auctionadconfig-trustedscoringsignalsurl①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-interestgroupbuyers" class="dfn-panel" data-for="dom-auctionadconfig-interestgroupbuyers" id="infopanel-for-dom-auctionadconfig-interestgroupbuyers">
   <span id="infopaneltitle-for-dom-auctionadconfig-interestgroupbuyers" style="display:none">Info about the 'interestGroupBuyers' definition.</span><b><a href="#dom-auctionadconfig-interestgroupbuyers">#dom-auctionadconfig-interestgroupbuyers</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-interestgroupbuyers">4.1. runAdAuction()</a> <a href="#ref-for-dom-auctionadconfig-interestgroupbuyers①">(2)</a> <a href="#ref-for-dom-auctionadconfig-interestgroupbuyers②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-auctionsignals" class="dfn-panel" data-for="dom-auctionadconfig-auctionsignals" id="infopanel-for-dom-auctionadconfig-auctionsignals">
   <span id="infopaneltitle-for-dom-auctionadconfig-auctionsignals" style="display:none">Info about the 'auctionSignals' definition.</span><b><a href="#dom-auctionadconfig-auctionsignals">#dom-auctionadconfig-auctionsignals</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-auctionsignals">4.1. runAdAuction()</a> <a href="#ref-for-dom-auctionadconfig-auctionsignals①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-sellersignals" class="dfn-panel" data-for="dom-auctionadconfig-sellersignals" id="infopanel-for-dom-auctionadconfig-sellersignals">
   <span id="infopaneltitle-for-dom-auctionadconfig-sellersignals" style="display:none">Info about the 'sellerSignals' definition.</span><b><a href="#dom-auctionadconfig-sellersignals">#dom-auctionadconfig-sellersignals</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-sellersignals">4.1. runAdAuction()</a> <a href="#ref-for-dom-auctionadconfig-sellersignals①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-directfromsellersignals" class="dfn-panel" data-for="dom-auctionadconfig-directfromsellersignals" id="infopanel-for-dom-auctionadconfig-directfromsellersignals">
   <span id="infopaneltitle-for-dom-auctionadconfig-directfromsellersignals" style="display:none">Info about the 'directFromSellerSignals' definition.</span><b><a href="#dom-auctionadconfig-directfromsellersignals">#dom-auctionadconfig-directfromsellersignals</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-directfromsellersignals">4.1. runAdAuction()</a> <a href="#ref-for-dom-auctionadconfig-directfromsellersignals①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-sellertimeout" class="dfn-panel" data-for="dom-auctionadconfig-sellertimeout" id="infopanel-for-dom-auctionadconfig-sellertimeout">
   <span id="infopaneltitle-for-dom-auctionadconfig-sellertimeout" style="display:none">Info about the 'sellerTimeout' definition.</span><b><a href="#dom-auctionadconfig-sellertimeout">#dom-auctionadconfig-sellertimeout</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-sellertimeout">4.1. runAdAuction()</a> <a href="#ref-for-dom-auctionadconfig-sellertimeout①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-sellerexperimentgroupid" class="dfn-panel" data-for="dom-auctionadconfig-sellerexperimentgroupid" id="infopanel-for-dom-auctionadconfig-sellerexperimentgroupid">
   <span id="infopaneltitle-for-dom-auctionadconfig-sellerexperimentgroupid" style="display:none">Info about the 'sellerExperimentGroupId' definition.</span><b><a href="#dom-auctionadconfig-sellerexperimentgroupid">#dom-auctionadconfig-sellerexperimentgroupid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-sellerexperimentgroupid">4.1. runAdAuction()</a> <a href="#ref-for-dom-auctionadconfig-sellerexperimentgroupid①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-perbuyersignals" class="dfn-panel" data-for="dom-auctionadconfig-perbuyersignals" id="infopanel-for-dom-auctionadconfig-perbuyersignals">
   <span id="infopaneltitle-for-dom-auctionadconfig-perbuyersignals" style="display:none">Info about the 'perBuyerSignals' definition.</span><b><a href="#dom-auctionadconfig-perbuyersignals">#dom-auctionadconfig-perbuyersignals</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-perbuyersignals">4.1. runAdAuction()</a> <a href="#ref-for-dom-auctionadconfig-perbuyersignals①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-perbuyertimeouts" class="dfn-panel" data-for="dom-auctionadconfig-perbuyertimeouts" id="infopanel-for-dom-auctionadconfig-perbuyertimeouts">
   <span id="infopaneltitle-for-dom-auctionadconfig-perbuyertimeouts" style="display:none">Info about the 'perBuyerTimeouts' definition.</span><b><a href="#dom-auctionadconfig-perbuyertimeouts">#dom-auctionadconfig-perbuyertimeouts</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-perbuyertimeouts">4.1. runAdAuction()</a> <a href="#ref-for-dom-auctionadconfig-perbuyertimeouts①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-perbuyergrouplimits" class="dfn-panel" data-for="dom-auctionadconfig-perbuyergrouplimits" id="infopanel-for-dom-auctionadconfig-perbuyergrouplimits">
   <span id="infopaneltitle-for-dom-auctionadconfig-perbuyergrouplimits" style="display:none">Info about the 'perBuyerGroupLimits' definition.</span><b><a href="#dom-auctionadconfig-perbuyergrouplimits">#dom-auctionadconfig-perbuyergrouplimits</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-perbuyergrouplimits">4.1. runAdAuction()</a> <a href="#ref-for-dom-auctionadconfig-perbuyergrouplimits①">(2)</a>
    <li><a href="#ref-for-dom-auctionadconfig-perbuyergrouplimits②">8.1. Interest group</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-perbuyerexperimentgroupids" class="dfn-panel" data-for="dom-auctionadconfig-perbuyerexperimentgroupids" id="infopanel-for-dom-auctionadconfig-perbuyerexperimentgroupids">
   <span id="infopaneltitle-for-dom-auctionadconfig-perbuyerexperimentgroupids" style="display:none">Info about the 'perBuyerExperimentGroupIds' definition.</span><b><a href="#dom-auctionadconfig-perbuyerexperimentgroupids">#dom-auctionadconfig-perbuyerexperimentgroupids</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-perbuyerexperimentgroupids">4.1. runAdAuction()</a> <a href="#ref-for-dom-auctionadconfig-perbuyerexperimentgroupids①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-perbuyerprioritysignals" class="dfn-panel" data-for="dom-auctionadconfig-perbuyerprioritysignals" id="infopanel-for-dom-auctionadconfig-perbuyerprioritysignals">
   <span id="infopaneltitle-for-dom-auctionadconfig-perbuyerprioritysignals" style="display:none">Info about the 'perBuyerPrioritySignals' definition.</span><b><a href="#dom-auctionadconfig-perbuyerprioritysignals">#dom-auctionadconfig-perbuyerprioritysignals</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-perbuyerprioritysignals">4.1. runAdAuction()</a> <a href="#ref-for-dom-auctionadconfig-perbuyerprioritysignals①">(2)</a>
    <li><a href="#ref-for-dom-auctionadconfig-perbuyerprioritysignals②">8.1. Interest group</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-componentauctions" class="dfn-panel" data-for="dom-auctionadconfig-componentauctions" id="infopanel-for-dom-auctionadconfig-componentauctions">
   <span id="infopaneltitle-for-dom-auctionadconfig-componentauctions" style="display:none">Info about the 'componentAuctions' definition.</span><b><a href="#dom-auctionadconfig-componentauctions">#dom-auctionadconfig-componentauctions</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-componentauctions">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-auctionadconfig-signal" class="dfn-panel" data-for="dom-auctionadconfig-signal" id="infopanel-for-dom-auctionadconfig-signal">
   <span id="infopaneltitle-for-dom-auctionadconfig-signal" style="display:none">Info about the 'signal' definition.</span><b><a href="#dom-auctionadconfig-signal">#dom-auctionadconfig-signal</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-auctionadconfig-signal">4.1. runAdAuction()</a> <a href="#ref-for-dom-auctionadconfig-signal①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-navigator-runadauction" class="dfn-panel" data-for="dom-navigator-runadauction" id="infopanel-for-dom-navigator-runadauction">
   <span id="infopaneltitle-for-dom-navigator-runadauction" style="display:none">Info about the 'runAdAuction(config)' definition.</span><b><a href="#dom-navigator-runadauction">#dom-navigator-runadauction</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigator-runadauction">1. Introduction</a>
    <li><a href="#ref-for-dom-navigator-runadauction①">4. Running Ad Auctions</a>
    <li><a href="#ref-for-dom-navigator-runadauction②">4.1. runAdAuction()</a>
    <li><a href="#ref-for-dom-navigator-runadauction③">6. Interest Group Updates</a>
    <li><a href="#ref-for-dom-navigator-runadauction④">8.1. Interest group</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-validate-and-convert-auction-ad-config" class="dfn-panel" data-for="validate-and-convert-auction-ad-config" id="infopanel-for-validate-and-convert-auction-ad-config">
   <span id="infopaneltitle-for-validate-and-convert-auction-ad-config" style="display:none">Info about the 'validate and convert auction ad config' definition.</span><b><a href="#validate-and-convert-auction-ad-config">#validate-and-convert-auction-ad-config</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-validate-and-convert-auction-ad-config">4.1. runAdAuction()</a> <a href="#ref-for-validate-and-convert-auction-ad-config①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-validate-and-convert-auction-ad-config-istoplevel" class="dfn-panel" data-for="validate-and-convert-auction-ad-config-istoplevel" id="infopanel-for-validate-and-convert-auction-ad-config-istoplevel">
   <span id="infopaneltitle-for-validate-and-convert-auction-ad-config-istoplevel" style="display:none">Info about the 'isTopLevel' definition.</span><b><a href="#validate-and-convert-auction-ad-config-istoplevel">#validate-and-convert-auction-ad-config-istoplevel</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-validate-and-convert-auction-ad-config-istoplevel">4.1. runAdAuction()</a> <a href="#ref-for-validate-and-convert-auction-ad-config-istoplevel①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-parse-an-origin" class="dfn-panel" data-for="parse-an-origin" id="infopanel-for-parse-an-origin">
   <span id="infopaneltitle-for-parse-an-origin" style="display:none">Info about the 'parse an origin' definition.</span><b><a href="#parse-an-origin">#parse-an-origin</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-parse-an-origin">4.1. runAdAuction()</a> <a href="#ref-for-parse-an-origin①">(2)</a> <a href="#ref-for-parse-an-origin②">(3)</a> <a href="#ref-for-parse-an-origin③">(4)</a> <a href="#ref-for-parse-an-origin④">(5)</a> <a href="#ref-for-parse-an-origin⑤">(6)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-build-bid-generators-map" class="dfn-panel" data-for="build-bid-generators-map" id="infopanel-for-build-bid-generators-map">
   <span id="infopaneltitle-for-build-bid-generators-map" style="display:none">Info about the 'build bid generators map' definition.</span><b><a href="#build-bid-generators-map">#build-bid-generators-map</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-build-bid-generators-map">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-generate-and-score-bids" class="dfn-panel" data-for="generate-and-score-bids" id="infopanel-for-generate-and-score-bids">
   <span id="infopaneltitle-for-generate-and-score-bids" style="display:none">Info about the 'generate and score bids' definition.</span><b><a href="#generate-and-score-bids">#generate-and-score-bids</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-generate-and-score-bids">4.1. runAdAuction()</a> <a href="#ref-for-generate-and-score-bids①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-score-and-rank-a-bid" class="dfn-panel" data-for="score-and-rank-a-bid" id="infopanel-for-score-and-rank-a-bid">
   <span id="infopaneltitle-for-score-and-rank-a-bid" style="display:none">Info about the 'score and rank a bid' definition.</span><b><a href="#score-and-rank-a-bid">#score-and-rank-a-bid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-score-and-rank-a-bid">4.1. runAdAuction()</a> <a href="#ref-for-score-and-rank-a-bid①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-create-a-seller-script-runner" class="dfn-panel" data-for="create-a-seller-script-runner" id="infopanel-for-create-a-seller-script-runner">
   <span id="infopaneltitle-for-create-a-seller-script-runner" style="display:none">Info about the 'create a seller script runner' definition.</span><b><a href="#create-a-seller-script-runner">#create-a-seller-script-runner</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-create-a-seller-script-runner">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-create-a-request" class="dfn-panel" data-for="create-a-request" id="infopanel-for-create-a-request">
   <span id="infopaneltitle-for-create-a-request" style="display:none">Info about the 'create a request' definition.</span><b><a href="#create-a-request">#create-a-request</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-create-a-request">2. Joining Interest Groups</a>
    <li><a href="#ref-for-create-a-request①">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-create-a-request-accept" class="dfn-panel" data-for="create-a-request-accept" id="infopanel-for-create-a-request-accept">
   <span id="infopaneltitle-for-create-a-request-accept" style="display:none">Info about the '
accept' definition.</span><b><a href="#create-a-request-accept">#create-a-request-accept</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-create-a-request-accept">2. Joining Interest Groups</a>
    <li><a href="#ref-for-create-a-request-accept①">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-create-a-request-origin" class="dfn-panel" data-for="create-a-request-origin" id="infopanel-for-create-a-request-origin">
   <span id="infopaneltitle-for-create-a-request-origin" style="display:none">Info about the 'origin' definition.</span><b><a href="#create-a-request-origin">#create-a-request-origin</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-create-a-request-origin">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-fetch-resource" class="dfn-panel" data-for="fetch-resource" id="infopanel-for-fetch-resource">
   <span id="infopaneltitle-for-fetch-resource" style="display:none">Info about the 'fetch resource' definition.</span><b><a href="#fetch-resource">#fetch-resource</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fetch-resource">4.1. runAdAuction()</a> <a href="#ref-for-fetch-resource①">(2)</a> <a href="#ref-for-fetch-resource②">(3)</a> <a href="#ref-for-fetch-resource③">(4)</a> <a href="#ref-for-fetch-resource④">(5)</a>
    <li><a href="#ref-for-fetch-resource⑤">6. Interest Group Updates</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-build-trusted-bidding-signals-url" class="dfn-panel" data-for="build-trusted-bidding-signals-url" id="infopanel-for-build-trusted-bidding-signals-url">
   <span id="infopaneltitle-for-build-trusted-bidding-signals-url" style="display:none">Info about the 'build trusted bidding signals url' definition.</span><b><a href="#build-trusted-bidding-signals-url">#build-trusted-bidding-signals-url</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-build-trusted-bidding-signals-url">4.1. runAdAuction()</a>
    <li><a href="#ref-for-build-trusted-bidding-signals-url①">8.1. Interest group</a> <a href="#ref-for-build-trusted-bidding-signals-url②">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-serialize-an-integer" class="dfn-panel" data-for="serialize-an-integer" id="infopanel-for-serialize-an-integer">
   <span id="infopaneltitle-for-serialize-an-integer" style="display:none">Info about the 'serialize an integer' definition.</span><b><a href="#serialize-an-integer">#serialize-an-integer</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-serialize-an-integer">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-generate-reporting-urls" class="dfn-panel" data-for="generate-reporting-urls" id="infopanel-for-generate-reporting-urls">
   <span id="infopaneltitle-for-generate-reporting-urls" style="display:none">Info about the 'generate reporting URLs' definition.</span><b><a href="#generate-reporting-urls">#generate-reporting-urls</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-generate-reporting-urls">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-script-runner" class="dfn-panel" data-for="script-runner" id="infopanel-for-script-runner">
   <span id="infopaneltitle-for-script-runner" style="display:none">Info about the 'script runner' definition.</span><b><a href="#script-runner">#script-runner</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-script-runner">5. Script Runners</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-evaluate-a-bidding-script" class="dfn-panel" data-for="evaluate-a-bidding-script" id="infopanel-for-evaluate-a-bidding-script">
   <span id="infopaneltitle-for-evaluate-a-bidding-script" style="display:none">Info about the 'evaluate a bidding script' definition.</span><b><a href="#evaluate-a-bidding-script">#evaluate-a-bidding-script</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-evaluate-a-bidding-script">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-evaluate-a-scoring-script" class="dfn-panel" data-for="evaluate-a-scoring-script" id="infopanel-for-evaluate-a-scoring-script">
   <span id="infopaneltitle-for-evaluate-a-scoring-script" style="display:none">Info about the 'evaluate a scoring script' definition.</span><b><a href="#evaluate-a-scoring-script">#evaluate-a-scoring-script</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-evaluate-a-scoring-script">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-evaluate-a-reporting-script" class="dfn-panel" data-for="evaluate-a-reporting-script" id="infopanel-for-evaluate-a-reporting-script">
   <span id="infopaneltitle-for-evaluate-a-reporting-script" style="display:none">Info about the 'evaluate a reporting script' definition.</span><b><a href="#evaluate-a-reporting-script">#evaluate-a-reporting-script</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-evaluate-a-reporting-script">4.1. runAdAuction()</a> <a href="#ref-for-evaluate-a-reporting-script①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-create-a-new-script-runner-agent" class="dfn-panel" data-for="create-a-new-script-runner-agent" id="infopanel-for-create-a-new-script-runner-agent">
   <span id="infopaneltitle-for-create-a-new-script-runner-agent" style="display:none">Info about the 'create a new script runner agent' definition.</span><b><a href="#create-a-new-script-runner-agent">#create-a-new-script-runner-agent</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-create-a-new-script-runner-agent">5.1. Script evaluation</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-obtain-a-script-runner-agent" class="dfn-panel" data-for="obtain-a-script-runner-agent" id="infopanel-for-obtain-a-script-runner-agent">
   <span id="infopaneltitle-for-obtain-a-script-runner-agent" style="display:none">Info about the 'obtain a script runner agent' definition.</span><b><a href="#obtain-a-script-runner-agent">#obtain-a-script-runner-agent</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-obtain-a-script-runner-agent">5.1. Script evaluation</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-evaluate-a-script" class="dfn-panel" data-for="evaluate-a-script" id="infopanel-for-evaluate-a-script">
   <span id="infopaneltitle-for-evaluate-a-script" style="display:none">Info about the 'evaluate a script' definition.</span><b><a href="#evaluate-a-script">#evaluate-a-script</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-evaluate-a-script">5.1. Script evaluation</a> <a href="#ref-for-evaluate-a-script①">(2)</a> <a href="#ref-for-evaluate-a-script②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interestgroupbiddingscriptrunnerglobalscope" class="dfn-panel" data-for="interestgroupbiddingscriptrunnerglobalscope" id="infopanel-for-interestgroupbiddingscriptrunnerglobalscope">
   <span id="infopaneltitle-for-interestgroupbiddingscriptrunnerglobalscope" style="display:none">Info about the 'InterestGroupBiddingScriptRunnerGlobalScope' definition.</span><b><a href="#interestgroupbiddingscriptrunnerglobalscope">#interestgroupbiddingscriptrunnerglobalscope</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interestgroupbiddingscriptrunnerglobalscope">5.1. Script evaluation</a> <a href="#ref-for-interestgroupbiddingscriptrunnerglobalscope①">(2)</a>
    <li><a href="#ref-for-interestgroupbiddingscriptrunnerglobalscope②">5.2. Global scopes</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interestgroupscoringscriptrunnerglobalscope" class="dfn-panel" data-for="interestgroupscoringscriptrunnerglobalscope" id="infopanel-for-interestgroupscoringscriptrunnerglobalscope">
   <span id="infopaneltitle-for-interestgroupscoringscriptrunnerglobalscope" style="display:none">Info about the 'InterestGroupScoringScriptRunnerGlobalScope' definition.</span><b><a href="#interestgroupscoringscriptrunnerglobalscope">#interestgroupscoringscriptrunnerglobalscope</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interestgroupscoringscriptrunnerglobalscope">5.1. Script evaluation</a> <a href="#ref-for-interestgroupscoringscriptrunnerglobalscope①">(2)</a>
    <li><a href="#ref-for-interestgroupscoringscriptrunnerglobalscope②">5.2. Global scopes</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interestgroupreportingscriptrunnerglobalscope" class="dfn-panel" data-for="interestgroupreportingscriptrunnerglobalscope" id="infopanel-for-interestgroupreportingscriptrunnerglobalscope">
   <span id="infopaneltitle-for-interestgroupreportingscriptrunnerglobalscope" style="display:none">Info about the 'InterestGroupReportingScriptRunnerGlobalScope' definition.</span><b><a href="#interestgroupreportingscriptrunnerglobalscope">#interestgroupreportingscriptrunnerglobalscope</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interestgroupreportingscriptrunnerglobalscope">5.1. Script evaluation</a> <a href="#ref-for-interestgroupreportingscriptrunnerglobalscope①">(2)</a>
    <li><a href="#ref-for-interestgroupreportingscriptrunnerglobalscope②">5.2. Global scopes</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dictdef-adrender" class="dfn-panel" data-for="dictdef-adrender" id="infopanel-for-dictdef-adrender">
   <span id="infopaneltitle-for-dictdef-adrender" style="display:none">Info about the 'AdRender' definition.</span><b><a href="#dictdef-adrender">#dictdef-adrender</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-adrender">5.2. Global scopes</a> <a href="#ref-for-dictdef-adrender①">(2)</a> <a href="#ref-for-dictdef-adrender②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-adrender-url" class="dfn-panel" data-for="dom-adrender-url" id="infopanel-for-dom-adrender-url">
   <span id="infopaneltitle-for-dom-adrender-url" style="display:none">Info about the 'url' definition.</span><b><a href="#dom-adrender-url">#dom-adrender-url</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-adrender-url">5.2. Global scopes</a> <a href="#ref-for-dom-adrender-url①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-adrender-width" class="dfn-panel" data-for="dom-adrender-width" id="infopanel-for-dom-adrender-width">
   <span id="infopaneltitle-for-dom-adrender-width" style="display:none">Info about the 'width' definition.</span><b><a href="#dom-adrender-width">#dom-adrender-width</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-adrender-width">5.2. Global scopes</a> <a href="#ref-for-dom-adrender-width①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-adrender-height" class="dfn-panel" data-for="dom-adrender-height" id="infopanel-for-dom-adrender-height">
   <span id="infopaneltitle-for-dom-adrender-height" style="display:none">Info about the 'height' definition.</span><b><a href="#dom-adrender-height">#dom-adrender-height</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-adrender-height">5.2. Global scopes</a> <a href="#ref-for-dom-adrender-height①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dictdef-generatebidoutput" class="dfn-panel" data-for="dictdef-generatebidoutput" id="infopanel-for-dictdef-generatebidoutput">
   <span id="infopaneltitle-for-dictdef-generatebidoutput" style="display:none">Info about the 'GenerateBidOutput' definition.</span><b><a href="#dictdef-generatebidoutput">#dictdef-generatebidoutput</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-generatebidoutput">5.2. Global scopes</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-generatebidoutput-bid" class="dfn-panel" data-for="dom-generatebidoutput-bid" id="infopanel-for-dom-generatebidoutput-bid">
   <span id="infopaneltitle-for-dom-generatebidoutput-bid" style="display:none">Info about the 'bid' definition.</span><b><a href="#dom-generatebidoutput-bid">#dom-generatebidoutput-bid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-generatebidoutput-bid">5.2. Global scopes</a> <a href="#ref-for-dom-generatebidoutput-bid①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-generatebidoutput-adrender" class="dfn-panel" data-for="dom-generatebidoutput-adrender" id="infopanel-for-dom-generatebidoutput-adrender">
   <span id="infopaneltitle-for-dom-generatebidoutput-adrender" style="display:none">Info about the 'adRender' definition.</span><b><a href="#dom-generatebidoutput-adrender">#dom-generatebidoutput-adrender</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-generatebidoutput-adrender">5.2. Global scopes</a> <a href="#ref-for-dom-generatebidoutput-adrender①">(2)</a> <a href="#ref-for-dom-generatebidoutput-adrender②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-generatebidoutput-ad" class="dfn-panel" data-for="dom-generatebidoutput-ad" id="infopanel-for-dom-generatebidoutput-ad">
   <span id="infopaneltitle-for-dom-generatebidoutput-ad" style="display:none">Info about the 'ad' definition.</span><b><a href="#dom-generatebidoutput-ad">#dom-generatebidoutput-ad</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-generatebidoutput-ad">5.2. Global scopes</a> <a href="#ref-for-dom-generatebidoutput-ad①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-generatebidoutput-adcomponents" class="dfn-panel" data-for="dom-generatebidoutput-adcomponents" id="infopanel-for-dom-generatebidoutput-adcomponents">
   <span id="infopaneltitle-for-dom-generatebidoutput-adcomponents" style="display:none">Info about the 'adComponents' definition.</span><b><a href="#dom-generatebidoutput-adcomponents">#dom-generatebidoutput-adcomponents</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-generatebidoutput-adcomponents">5.2. Global scopes</a> <a href="#ref-for-dom-generatebidoutput-adcomponents①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-generatebidoutput-adcost" class="dfn-panel" data-for="dom-generatebidoutput-adcost" id="infopanel-for-dom-generatebidoutput-adcost">
   <span id="infopaneltitle-for-dom-generatebidoutput-adcost" style="display:none">Info about the 'adCost' definition.</span><b><a href="#dom-generatebidoutput-adcost">#dom-generatebidoutput-adcost</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-generatebidoutput-adcost">5.2. Global scopes</a> <a href="#ref-for-dom-generatebidoutput-adcost①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-generatebidoutput-modelingsignals" class="dfn-panel" data-for="dom-generatebidoutput-modelingsignals" id="infopanel-for-dom-generatebidoutput-modelingsignals">
   <span id="infopaneltitle-for-dom-generatebidoutput-modelingsignals" style="display:none">Info about the 'modelingSignals' definition.</span><b><a href="#dom-generatebidoutput-modelingsignals">#dom-generatebidoutput-modelingsignals</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-generatebidoutput-modelingsignals">5.2. Global scopes</a> <a href="#ref-for-dom-generatebidoutput-modelingsignals①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-generatebidoutput-allowcomponentauction" class="dfn-panel" data-for="dom-generatebidoutput-allowcomponentauction" id="infopanel-for-dom-generatebidoutput-allowcomponentauction">
   <span id="infopaneltitle-for-dom-generatebidoutput-allowcomponentauction" style="display:none">Info about the 'allowComponentAuction' definition.</span><b><a href="#dom-generatebidoutput-allowcomponentauction">#dom-generatebidoutput-allowcomponentauction</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-generatebidoutput-allowcomponentauction">5.2. Global scopes</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-interestgroupbiddingscriptrunnerglobalscope-setbid" class="dfn-panel" data-for="dom-interestgroupbiddingscriptrunnerglobalscope-setbid" id="infopanel-for-dom-interestgroupbiddingscriptrunnerglobalscope-setbid">
   <span id="infopaneltitle-for-dom-interestgroupbiddingscriptrunnerglobalscope-setbid" style="display:none">Info about the 'setBid()' definition.</span><b><a href="#dom-interestgroupbiddingscriptrunnerglobalscope-setbid">#dom-interestgroupbiddingscriptrunnerglobalscope-setbid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-interestgroupbiddingscriptrunnerglobalscope-setbid">5.2. Global scopes</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-interestgroupbiddingscriptrunnerglobalscope-setbid-generatebidoutput" class="dfn-panel" data-for="dom-interestgroupbiddingscriptrunnerglobalscope-setbid-generatebidoutput" id="infopanel-for-dom-interestgroupbiddingscriptrunnerglobalscope-setbid-generatebidoutput">
   <span id="infopaneltitle-for-dom-interestgroupbiddingscriptrunnerglobalscope-setbid-generatebidoutput" style="display:none">Info about the 'setBid(generateBidOutput)' definition.</span><b><a href="#dom-interestgroupbiddingscriptrunnerglobalscope-setbid-generatebidoutput">#dom-interestgroupbiddingscriptrunnerglobalscope-setbid-generatebidoutput</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-interestgroupbiddingscriptrunnerglobalscope-setbid-generatebidoutput">5.2. Global scopes</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-convert-an-ad-render" class="dfn-panel" data-for="convert-an-ad-render" id="infopanel-for-convert-an-ad-render">
   <span id="infopaneltitle-for-convert-an-ad-render" style="display:none">Info about the 'convert an ad render' definition.</span><b><a href="#convert-an-ad-render">#convert-an-ad-render</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-convert-an-ad-render">5.2. Global scopes</a> <a href="#ref-for-convert-an-ad-render①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-validate-an-ad-url" class="dfn-panel" data-for="validate-an-ad-url" id="infopanel-for-validate-an-ad-url">
   <span id="infopaneltitle-for-validate-an-ad-url" style="display:none">Info about the 'validate an ad url' definition.</span><b><a href="#validate-an-ad-url">#validate-an-ad-url</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-validate-an-ad-url">5.2. Global scopes</a> <a href="#ref-for-validate-an-ad-url①">(2)</a> <a href="#ref-for-validate-an-ad-url②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-interestgroupbiddingscriptrunnerglobalscope-setpriority" class="dfn-panel" data-for="dom-interestgroupbiddingscriptrunnerglobalscope-setpriority" id="infopanel-for-dom-interestgroupbiddingscriptrunnerglobalscope-setpriority">
   <span id="infopaneltitle-for-dom-interestgroupbiddingscriptrunnerglobalscope-setpriority" style="display:none">Info about the 'setPriority(priority)' definition.</span><b><a href="#dom-interestgroupbiddingscriptrunnerglobalscope-setpriority">#dom-interestgroupbiddingscriptrunnerglobalscope-setpriority</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-interestgroupbiddingscriptrunnerglobalscope-setpriority">5.2. Global scopes</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride" class="dfn-panel" data-for="dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride" id="infopanel-for-dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride">
   <span id="infopaneltitle-for-dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride" style="display:none">Info about the 'setPrioritySignalsOverride(key, priority)' definition.</span><b><a href="#dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride">#dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride">5.2. Global scopes</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-interestgroupreportingscriptrunnerglobalscope-sendreportto" class="dfn-panel" data-for="dom-interestgroupreportingscriptrunnerglobalscope-sendreportto" id="infopanel-for-dom-interestgroupreportingscriptrunnerglobalscope-sendreportto">
   <span id="infopaneltitle-for-dom-interestgroupreportingscriptrunnerglobalscope-sendreportto" style="display:none">Info about the 'sendReportTo(url)' definition.</span><b><a href="#dom-interestgroupreportingscriptrunnerglobalscope-sendreportto">#dom-interestgroupreportingscriptrunnerglobalscope-sendreportto</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-interestgroupreportingscriptrunnerglobalscope-sendreportto">5.2. Global scopes</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-navigator-updateadinterestgroups" class="dfn-panel" data-for="dom-navigator-updateadinterestgroups" id="infopanel-for-dom-navigator-updateadinterestgroups">
   <span id="infopaneltitle-for-dom-navigator-updateadinterestgroups" style="display:none">Info about the 'updateAdInterestGroups()' definition.</span><b><a href="#dom-navigator-updateadinterestgroups">#dom-navigator-updateadinterestgroups</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigator-updateadinterestgroups">6. Interest Group Updates</a> <a href="#ref-for-dom-navigator-updateadinterestgroups①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-update" class="dfn-panel" data-for="interest-group-update" id="infopanel-for-interest-group-update">
   <span id="infopaneltitle-for-interest-group-update" style="display:none">Info about the 'update interest groups' definition.</span><b><a href="#interest-group-update">#interest-group-update</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-update">4.1. runAdAuction()</a>
    <li><a href="#ref-for-interest-group-update①">6. Interest Group Updates</a> <a href="#ref-for-interest-group-update②">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-join-ad-interest-group" class="dfn-panel" data-for="join-ad-interest-group" id="infopanel-for-join-ad-interest-group">
   <span id="infopaneltitle-for-join-ad-interest-group" style="display:none">Info about the 'join-ad-interest-group' definition.</span><b><a href="#join-ad-interest-group">#join-ad-interest-group</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-join-ad-interest-group">2. Joining Interest Groups</a>
    <li><a href="#ref-for-join-ad-interest-group①">3. Leaving Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-run-ad-auction" class="dfn-panel" data-for="run-ad-auction" id="infopanel-for-run-ad-auction">
   <span id="infopaneltitle-for-run-ad-auction" style="display:none">Info about the 'run-ad-auction' definition.</span><b><a href="#run-ad-auction">#run-ad-auction</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-run-ad-auction">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group" class="dfn-panel" data-for="interest-group" id="infopanel-for-interest-group">
   <span id="infopaneltitle-for-interest-group" style="display:none">Info about the '8.1. Interest group' definition.</span><b><a href="#interest-group">#interest-group</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group">2. Joining Interest Groups</a> <a href="#ref-for-interest-group①">(2)</a> <a href="#ref-for-interest-group②">(3)</a>
    <li><a href="#ref-for-interest-group③">3. Leaving Interest Groups</a>
    <li><a href="#ref-for-interest-group④">5. Script Runners</a>
    <li><a href="#ref-for-interest-group⑤">6. Interest Group Updates</a> <a href="#ref-for-interest-group⑥">(2)</a> <a href="#ref-for-interest-group⑦">(3)</a>
    <li><a href="#ref-for-interest-group">8.1. Interest group</a>
    <li><a href="#ref-for-interest-group⑧">8.5. Per signals url bid generator</a>
    <li><a href="#ref-for-interest-group⑨">8.6. Generated bid</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-expiry" class="dfn-panel" data-for="interest-group-expiry" id="infopanel-for-interest-group-expiry">
   <span id="infopaneltitle-for-interest-group-expiry" style="display:none">Info about the 'expiry' definition.</span><b><a href="#interest-group-expiry">#interest-group-expiry</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-expiry">2. Joining Interest Groups</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-owner" class="dfn-panel" data-for="interest-group-owner" id="infopanel-for-interest-group-owner">
   <span id="infopaneltitle-for-interest-group-owner" style="display:none">Info about the 'owner' definition.</span><b><a href="#interest-group-owner">#interest-group-owner</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-owner">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-owner①">(2)</a> <a href="#ref-for-interest-group-owner②">(3)</a> <a href="#ref-for-interest-group-owner③">(4)</a>
    <li><a href="#ref-for-interest-group-owner④">3. Leaving Interest Groups</a>
    <li><a href="#ref-for-interest-group-owner⑤">4.1. runAdAuction()</a> <a href="#ref-for-interest-group-owner⑥">(2)</a> <a href="#ref-for-interest-group-owner⑦">(3)</a>
    <li><a href="#ref-for-interest-group-owner⑧">6. Interest Group Updates</a> <a href="#ref-for-interest-group-owner⑨">(2)</a> <a href="#ref-for-interest-group-owner①⓪">(3)</a>
    <li><a href="#ref-for-interest-group-owner①①">8.1. Interest group</a> <a href="#ref-for-interest-group-owner①②">(2)</a> <a href="#ref-for-interest-group-owner①③">(3)</a> <a href="#ref-for-interest-group-owner①④">(4)</a> <a href="#ref-for-interest-group-owner①⑤">(5)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-name" class="dfn-panel" data-for="interest-group-name" id="infopanel-for-interest-group-name">
   <span id="infopaneltitle-for-interest-group-name" style="display:none">Info about the 'name' definition.</span><b><a href="#interest-group-name">#interest-group-name</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-name">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-name①">(2)</a> <a href="#ref-for-interest-group-name②">(3)</a>
    <li><a href="#ref-for-interest-group-name③">3. Leaving Interest Groups</a>
    <li><a href="#ref-for-interest-group-name④">4.1. runAdAuction()</a> <a href="#ref-for-interest-group-name⑤">(2)</a>
    <li><a href="#ref-for-interest-group-name⑥">6. Interest Group Updates</a>
    <li><a href="#ref-for-interest-group-name⑦">8.1. Interest group</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-priority" class="dfn-panel" data-for="interest-group-priority" id="infopanel-for-interest-group-priority">
   <span id="infopaneltitle-for-interest-group-priority" style="display:none">Info about the 'priority' definition.</span><b><a href="#interest-group-priority">#interest-group-priority</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-priority">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-priority①">(2)</a>
    <li><a href="#ref-for-interest-group-priority②">6. Interest Group Updates</a>
    <li><a href="#ref-for-interest-group-priority③">8.1. Interest group</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-enable-bidding-signals-prioritization" class="dfn-panel" data-for="interest-group-enable-bidding-signals-prioritization" id="infopanel-for-interest-group-enable-bidding-signals-prioritization">
   <span id="infopaneltitle-for-interest-group-enable-bidding-signals-prioritization" style="display:none">Info about the 'enable bidding signals prioritization' definition.</span><b><a href="#interest-group-enable-bidding-signals-prioritization">#interest-group-enable-bidding-signals-prioritization</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-enable-bidding-signals-prioritization">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-enable-bidding-signals-prioritization①">(2)</a>
    <li><a href="#ref-for-interest-group-enable-bidding-signals-prioritization②">6. Interest Group Updates</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-priority-vector" class="dfn-panel" data-for="interest-group-priority-vector" id="infopanel-for-interest-group-priority-vector">
   <span id="infopaneltitle-for-interest-group-priority-vector" style="display:none">Info about the 'priority vector' definition.</span><b><a href="#interest-group-priority-vector">#interest-group-priority-vector</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-priority-vector">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-priority-vector①">(2)</a> <a href="#ref-for-interest-group-priority-vector②">(3)</a>
    <li><a href="#ref-for-interest-group-priority-vector③">6. Interest Group Updates</a>
    <li><a href="#ref-for-interest-group-priority-vector④">8.3. Auction config</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-priority-signals-overrides" class="dfn-panel" data-for="interest-group-priority-signals-overrides" id="infopanel-for-interest-group-priority-signals-overrides">
   <span id="infopaneltitle-for-interest-group-priority-signals-overrides" style="display:none">Info about the 'priority signals overrides' definition.</span><b><a href="#interest-group-priority-signals-overrides">#interest-group-priority-signals-overrides</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-priority-signals-overrides">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-priority-signals-overrides①">(2)</a> <a href="#ref-for-interest-group-priority-signals-overrides②">(3)</a>
    <li><a href="#ref-for-interest-group-priority-signals-overrides③">6. Interest Group Updates</a> <a href="#ref-for-interest-group-priority-signals-overrides④">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-execution-mode" class="dfn-panel" data-for="interest-group-execution-mode" id="infopanel-for-interest-group-execution-mode">
   <span id="infopaneltitle-for-interest-group-execution-mode" style="display:none">Info about the 'execution mode' definition.</span><b><a href="#interest-group-execution-mode">#interest-group-execution-mode</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-execution-mode">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-execution-mode①">(2)</a> <a href="#ref-for-interest-group-execution-mode②">(3)</a>
    <li><a href="#ref-for-interest-group-execution-mode③">5.1. Script evaluation</a>
    <li><a href="#ref-for-interest-group-execution-mode④">6. Interest Group Updates</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-bidding-url" class="dfn-panel" data-for="interest-group-bidding-url" id="infopanel-for-interest-group-bidding-url">
   <span id="infopaneltitle-for-interest-group-bidding-url" style="display:none">Info about the 'bidding url' definition.</span><b><a href="#interest-group-bidding-url">#interest-group-bidding-url</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-bidding-url">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-bidding-url①">(2)</a>
    <li><a href="#ref-for-interest-group-bidding-url②">4.1. runAdAuction()</a> <a href="#ref-for-interest-group-bidding-url③">(2)</a>
    <li><a href="#ref-for-interest-group-bidding-url④">6. Interest Group Updates</a>
    <li><a href="#ref-for-interest-group-bidding-url⑤">8.1. Interest group</a> <a href="#ref-for-interest-group-bidding-url⑥">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-bidding-wasm-helper-url" class="dfn-panel" data-for="interest-group-bidding-wasm-helper-url" id="infopanel-for-interest-group-bidding-wasm-helper-url">
   <span id="infopaneltitle-for-interest-group-bidding-wasm-helper-url" style="display:none">Info about the 'bidding wasm helper url' definition.</span><b><a href="#interest-group-bidding-wasm-helper-url">#interest-group-bidding-wasm-helper-url</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-bidding-wasm-helper-url">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-bidding-wasm-helper-url①">(2)</a>
    <li><a href="#ref-for-interest-group-bidding-wasm-helper-url②">4.1. runAdAuction()</a>
    <li><a href="#ref-for-interest-group-bidding-wasm-helper-url③">6. Interest Group Updates</a>
    <li><a href="#ref-for-interest-group-bidding-wasm-helper-url④">8.1. Interest group</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-daily-update-url" class="dfn-panel" data-for="interest-group-daily-update-url" id="infopanel-for-interest-group-daily-update-url">
   <span id="infopaneltitle-for-interest-group-daily-update-url" style="display:none">Info about the 'daily update url' definition.</span><b><a href="#interest-group-daily-update-url">#interest-group-daily-update-url</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-daily-update-url">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-daily-update-url①">(2)</a>
    <li><a href="#ref-for-interest-group-daily-update-url②">6. Interest Group Updates</a> <a href="#ref-for-interest-group-daily-update-url③">(2)</a> <a href="#ref-for-interest-group-daily-update-url④">(3)</a> <a href="#ref-for-interest-group-daily-update-url⑤">(4)</a>
    <li><a href="#ref-for-interest-group-daily-update-url⑥">8.1. Interest group</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-trusted-bidding-signals-url" class="dfn-panel" data-for="interest-group-trusted-bidding-signals-url" id="infopanel-for-interest-group-trusted-bidding-signals-url">
   <span id="infopaneltitle-for-interest-group-trusted-bidding-signals-url" style="display:none">Info about the 'trusted bidding signals url' definition.</span><b><a href="#interest-group-trusted-bidding-signals-url">#interest-group-trusted-bidding-signals-url</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-trusted-bidding-signals-url">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-trusted-bidding-signals-url①">(2)</a> <a href="#ref-for-interest-group-trusted-bidding-signals-url②">(3)</a>
    <li><a href="#ref-for-interest-group-trusted-bidding-signals-url③">4.1. runAdAuction()</a>
    <li><a href="#ref-for-interest-group-trusted-bidding-signals-url④">6. Interest Group Updates</a>
    <li><a href="#ref-for-interest-group-trusted-bidding-signals-url⑤">8.1. Interest group</a>
    <li><a href="#ref-for-interest-group-trusted-bidding-signals-url⑥">8.4. Per buyer bid generator</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-trusted-bidding-signals-keys" class="dfn-panel" data-for="interest-group-trusted-bidding-signals-keys" id="infopanel-for-interest-group-trusted-bidding-signals-keys">
   <span id="infopaneltitle-for-interest-group-trusted-bidding-signals-keys" style="display:none">Info about the 'trusted bidding signals keys' definition.</span><b><a href="#interest-group-trusted-bidding-signals-keys">#interest-group-trusted-bidding-signals-keys</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-trusted-bidding-signals-keys">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-trusted-bidding-signals-keys①">(2)</a>
    <li><a href="#ref-for-interest-group-trusted-bidding-signals-keys②">4.1. runAdAuction()</a>
    <li><a href="#ref-for-interest-group-trusted-bidding-signals-keys③">6. Interest Group Updates</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-user-bidding-signals" class="dfn-panel" data-for="interest-group-user-bidding-signals" id="infopanel-for-interest-group-user-bidding-signals">
   <span id="infopaneltitle-for-interest-group-user-bidding-signals" style="display:none">Info about the 'user bidding signals' definition.</span><b><a href="#interest-group-user-bidding-signals">#interest-group-user-bidding-signals</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-user-bidding-signals">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-user-bidding-signals①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-ads" class="dfn-panel" data-for="interest-group-ads" id="infopanel-for-interest-group-ads">
   <span id="infopaneltitle-for-interest-group-ads" style="display:none">Info about the 'ads' definition.</span><b><a href="#interest-group-ads">#interest-group-ads</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-ads">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-ads①">(2)</a>
    <li><a href="#ref-for-interest-group-ads②">6. Interest Group Updates</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-ad-components" class="dfn-panel" data-for="interest-group-ad-components" id="infopanel-for-interest-group-ad-components">
   <span id="infopaneltitle-for-interest-group-ad-components" style="display:none">Info about the 'ad components' definition.</span><b><a href="#interest-group-ad-components">#interest-group-ad-components</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-ad-components">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-ad-components①">(2)</a>
    <li><a href="#ref-for-interest-group-ad-components②">6. Interest Group Updates</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-joining-origin" class="dfn-panel" data-for="interest-group-joining-origin" id="infopanel-for-interest-group-joining-origin">
   <span id="infopaneltitle-for-interest-group-joining-origin" style="display:none">Info about the 'joining origin' definition.</span><b><a href="#interest-group-joining-origin">#interest-group-joining-origin</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-joining-origin">2. Joining Interest Groups</a>
    <li><a href="#ref-for-interest-group-joining-origin①">4.1. runAdAuction()</a>
    <li><a href="#ref-for-interest-group-joining-origin②">8.5. Per signals url bid generator</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-join-counts" class="dfn-panel" data-for="interest-group-join-counts" id="infopanel-for-interest-group-join-counts">
   <span id="infopaneltitle-for-interest-group-join-counts" style="display:none">Info about the 'join counts' definition.</span><b><a href="#interest-group-join-counts">#interest-group-join-counts</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-join-counts">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-join-counts①">(2)</a>
    <li><a href="#ref-for-interest-group-join-counts②">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-bid-counts" class="dfn-panel" data-for="interest-group-bid-counts" id="infopanel-for-interest-group-bid-counts">
   <span id="infopaneltitle-for-interest-group-bid-counts" style="display:none">Info about the 'bid counts' definition.</span><b><a href="#interest-group-bid-counts">#interest-group-bid-counts</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-bid-counts">2. Joining Interest Groups</a>
    <li><a href="#ref-for-interest-group-bid-counts①">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-previous-wins" class="dfn-panel" data-for="interest-group-previous-wins" id="infopanel-for-interest-group-previous-wins">
   <span id="infopaneltitle-for-interest-group-previous-wins" style="display:none">Info about the 'previous wins' definition.</span><b><a href="#interest-group-previous-wins">#interest-group-previous-wins</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-previous-wins">2. Joining Interest Groups</a>
    <li><a href="#ref-for-interest-group-previous-wins①">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-next-update-after" class="dfn-panel" data-for="interest-group-next-update-after" id="infopanel-for-interest-group-next-update-after">
   <span id="infopaneltitle-for-interest-group-next-update-after" style="display:none">Info about the 'next update after' definition.</span><b><a href="#interest-group-next-update-after">#interest-group-next-update-after</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-next-update-after">2. Joining Interest Groups</a>
    <li><a href="#ref-for-interest-group-next-update-after①">6. Interest Group Updates</a> <a href="#ref-for-interest-group-next-update-after②">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-ad" class="dfn-panel" data-for="interest-group-ad" id="infopanel-for-interest-group-ad">
   <span id="infopaneltitle-for-interest-group-ad" style="display:none">Info about the '8.2. Interest group ad' definition.</span><b><a href="#interest-group-ad">#interest-group-ad</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-ad">2. Joining Interest Groups</a>
    <li><a href="#ref-for-interest-group-ad①">4.1. runAdAuction()</a>
    <li><a href="#ref-for-interest-group-ad②">6. Interest Group Updates</a>
    <li><a href="#ref-for-interest-group-ad③">8.1. Interest group</a> <a href="#ref-for-interest-group-ad④">(2)</a> <a href="#ref-for-interest-group-ad⑤">(3)</a>
    <li><a href="#ref-for-interest-group-ad">8.2. Interest group ad</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-ad-render-url" class="dfn-panel" data-for="interest-group-ad-render-url" id="infopanel-for-interest-group-ad-render-url">
   <span id="infopaneltitle-for-interest-group-ad-render-url" style="display:none">Info about the 'render url' definition.</span><b><a href="#interest-group-ad-render-url">#interest-group-ad-render-url</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-ad-render-url">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-ad-render-url①">(2)</a> <a href="#ref-for-interest-group-ad-render-url②">(3)</a>
    <li><a href="#ref-for-interest-group-ad-render-url③">6. Interest Group Updates</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-interest-group-ad-metadata" class="dfn-panel" data-for="interest-group-ad-metadata" id="infopanel-for-interest-group-ad-metadata">
   <span id="infopaneltitle-for-interest-group-ad-metadata" style="display:none">Info about the 'metadata' definition.</span><b><a href="#interest-group-ad-metadata">#interest-group-ad-metadata</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interest-group-ad-metadata">2. Joining Interest Groups</a> <a href="#ref-for-interest-group-ad-metadata①">(2)</a> <a href="#ref-for-interest-group-ad-metadata②">(3)</a>
    <li><a href="#ref-for-interest-group-ad-metadata③">6. Interest Group Updates</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config" class="dfn-panel" data-for="auction-config" id="infopanel-for-auction-config">
   <span id="infopaneltitle-for-auction-config" style="display:none">Info about the '8.3. Auction config' definition.</span><b><a href="#auction-config">#auction-config</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config">4.1. runAdAuction()</a> <a href="#ref-for-auction-config①">(2)</a> <a href="#ref-for-auction-config②">(3)</a> <a href="#ref-for-auction-config③">(4)</a> <a href="#ref-for-auction-config④">(5)</a>
    <li><a href="#ref-for-auction-config">8.3. Auction config</a> <a href="#ref-for-auction-config⑤">(2)</a> <a href="#ref-for-auction-config⑥">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-seller" class="dfn-panel" data-for="auction-config-seller" id="infopanel-for-auction-config-seller">
   <span id="infopaneltitle-for-auction-config-seller" style="display:none">Info about the 'seller' definition.</span><b><a href="#auction-config-seller">#auction-config-seller</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-seller">4.1. runAdAuction()</a> <a href="#ref-for-auction-config-seller①">(2)</a> <a href="#ref-for-auction-config-seller②">(3)</a> <a href="#ref-for-auction-config-seller③">(4)</a> <a href="#ref-for-auction-config-seller④">(5)</a> <a href="#ref-for-auction-config-seller⑤">(6)</a>
    <li><a href="#ref-for-auction-config-seller⑥">8.3. Auction config</a> <a href="#ref-for-auction-config-seller⑦">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-decision-logic-url" class="dfn-panel" data-for="auction-config-decision-logic-url" id="infopanel-for-auction-config-decision-logic-url">
   <span id="infopaneltitle-for-auction-config-decision-logic-url" style="display:none">Info about the 'decision logic url' definition.</span><b><a href="#auction-config-decision-logic-url">#auction-config-decision-logic-url</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-decision-logic-url">4.1. runAdAuction()</a> <a href="#ref-for-auction-config-decision-logic-url①">(2)</a> <a href="#ref-for-auction-config-decision-logic-url②">(3)</a>
    <li><a href="#ref-for-auction-config-decision-logic-url③">8.3. Auction config</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-trusted-scoring-signals-url" class="dfn-panel" data-for="auction-config-trusted-scoring-signals-url" id="infopanel-for-auction-config-trusted-scoring-signals-url">
   <span id="infopaneltitle-for-auction-config-trusted-scoring-signals-url" style="display:none">Info about the 'trusted scoring signals url' definition.</span><b><a href="#auction-config-trusted-scoring-signals-url">#auction-config-trusted-scoring-signals-url</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-trusted-scoring-signals-url">4.1. runAdAuction()</a>
    <li><a href="#ref-for-auction-config-trusted-scoring-signals-url①">8.3. Auction config</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-interest-group-buyers" class="dfn-panel" data-for="auction-config-interest-group-buyers" id="infopanel-for-auction-config-interest-group-buyers">
   <span id="infopaneltitle-for-auction-config-interest-group-buyers" style="display:none">Info about the 'interest group buyers' definition.</span><b><a href="#auction-config-interest-group-buyers">#auction-config-interest-group-buyers</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-interest-group-buyers">4.1. runAdAuction()</a> <a href="#ref-for-auction-config-interest-group-buyers①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-auction-signals" class="dfn-panel" data-for="auction-config-auction-signals" id="infopanel-for-auction-config-auction-signals">
   <span id="infopaneltitle-for-auction-config-auction-signals" style="display:none">Info about the 'auction signals' definition.</span><b><a href="#auction-config-auction-signals">#auction-config-auction-signals</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-auction-signals">4.1. runAdAuction()</a> <a href="#ref-for-auction-config-auction-signals①">(2)</a> <a href="#ref-for-auction-config-auction-signals②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-seller-signals" class="dfn-panel" data-for="auction-config-seller-signals" id="infopanel-for-auction-config-seller-signals">
   <span id="infopaneltitle-for-auction-config-seller-signals" style="display:none">Info about the 'seller signals' definition.</span><b><a href="#auction-config-seller-signals">#auction-config-seller-signals</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-seller-signals">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-seller-timeout" class="dfn-panel" data-for="auction-config-seller-timeout" id="infopanel-for-auction-config-seller-timeout">
   <span id="infopaneltitle-for-auction-config-seller-timeout" style="display:none">Info about the 'seller timeout' definition.</span><b><a href="#auction-config-seller-timeout">#auction-config-seller-timeout</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-seller-timeout">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-per-buyer-signals" class="dfn-panel" data-for="auction-config-per-buyer-signals" id="infopanel-for-auction-config-per-buyer-signals">
   <span id="infopaneltitle-for-auction-config-per-buyer-signals" style="display:none">Info about the 'per buyer signals' definition.</span><b><a href="#auction-config-per-buyer-signals">#auction-config-per-buyer-signals</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-per-buyer-signals">4.1. runAdAuction()</a> <a href="#ref-for-auction-config-per-buyer-signals①">(2)</a> <a href="#ref-for-auction-config-per-buyer-signals②">(3)</a> <a href="#ref-for-auction-config-per-buyer-signals③">(4)</a> <a href="#ref-for-auction-config-per-buyer-signals④">(5)</a> <a href="#ref-for-auction-config-per-buyer-signals⑤">(6)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-per-buyer-timeouts" class="dfn-panel" data-for="auction-config-per-buyer-timeouts" id="infopanel-for-auction-config-per-buyer-timeouts">
   <span id="infopaneltitle-for-auction-config-per-buyer-timeouts" style="display:none">Info about the 'per buyer timeouts' definition.</span><b><a href="#auction-config-per-buyer-timeouts">#auction-config-per-buyer-timeouts</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-per-buyer-timeouts">4.1. runAdAuction()</a>
    <li><a href="#ref-for-auction-config-per-buyer-timeouts①">8.3. Auction config</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-all-buyers-timeout" class="dfn-panel" data-for="auction-config-all-buyers-timeout" id="infopanel-for-auction-config-all-buyers-timeout">
   <span id="infopaneltitle-for-auction-config-all-buyers-timeout" style="display:none">Info about the 'all buyers timeout' definition.</span><b><a href="#auction-config-all-buyers-timeout">#auction-config-all-buyers-timeout</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-all-buyers-timeout">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-per-buyer-group-limits" class="dfn-panel" data-for="auction-config-per-buyer-group-limits" id="infopanel-for-auction-config-per-buyer-group-limits">
   <span id="infopaneltitle-for-auction-config-per-buyer-group-limits" style="display:none">Info about the 'per buyer group limits' definition.</span><b><a href="#auction-config-per-buyer-group-limits">#auction-config-per-buyer-group-limits</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-per-buyer-group-limits">4.1. runAdAuction()</a>
    <li><a href="#ref-for-auction-config-per-buyer-group-limits①">8.3. Auction config</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-all-buyers-group-limit" class="dfn-panel" data-for="auction-config-all-buyers-group-limit" id="infopanel-for-auction-config-all-buyers-group-limit">
   <span id="infopaneltitle-for-auction-config-all-buyers-group-limit" style="display:none">Info about the 'all buyers group limit' definition.</span><b><a href="#auction-config-all-buyers-group-limit">#auction-config-all-buyers-group-limit</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-all-buyers-group-limit">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-per-buyer-priority-signals" class="dfn-panel" data-for="auction-config-per-buyer-priority-signals" id="infopanel-for-auction-config-per-buyer-priority-signals">
   <span id="infopaneltitle-for-auction-config-per-buyer-priority-signals" style="display:none">Info about the 'per buyer priority signals' definition.</span><b><a href="#auction-config-per-buyer-priority-signals">#auction-config-per-buyer-priority-signals</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-per-buyer-priority-signals">4.1. runAdAuction()</a>
    <li><a href="#ref-for-auction-config-per-buyer-priority-signals①">8.3. Auction config</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-all-buyers-priority-signals" class="dfn-panel" data-for="auction-config-all-buyers-priority-signals" id="infopanel-for-auction-config-all-buyers-priority-signals">
   <span id="infopaneltitle-for-auction-config-all-buyers-priority-signals" style="display:none">Info about the 'all buyers priority signals' definition.</span><b><a href="#auction-config-all-buyers-priority-signals">#auction-config-all-buyers-priority-signals</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-all-buyers-priority-signals">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-component-auctions" class="dfn-panel" data-for="auction-config-component-auctions" id="infopanel-for-auction-config-component-auctions">
   <span id="infopaneltitle-for-auction-config-component-auctions" style="display:none">Info about the 'component auctions' definition.</span><b><a href="#auction-config-component-auctions">#auction-config-component-auctions</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-component-auctions">4.1. runAdAuction()</a> <a href="#ref-for-auction-config-component-auctions①">(2)</a> <a href="#ref-for-auction-config-component-auctions②">(3)</a> <a href="#ref-for-auction-config-component-auctions③">(4)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-seller-experiment-group-id" class="dfn-panel" data-for="auction-config-seller-experiment-group-id" id="infopanel-for-auction-config-seller-experiment-group-id">
   <span id="infopaneltitle-for-auction-config-seller-experiment-group-id" style="display:none">Info about the 'seller experiment group id' definition.</span><b><a href="#auction-config-seller-experiment-group-id">#auction-config-seller-experiment-group-id</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-seller-experiment-group-id">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-per-buyer-experiment-group-ids" class="dfn-panel" data-for="auction-config-per-buyer-experiment-group-ids" id="infopanel-for-auction-config-per-buyer-experiment-group-ids">
   <span id="infopaneltitle-for-auction-config-per-buyer-experiment-group-ids" style="display:none">Info about the 'per buyer experiment group ids' definition.</span><b><a href="#auction-config-per-buyer-experiment-group-ids">#auction-config-per-buyer-experiment-group-ids</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-per-buyer-experiment-group-ids">4.1. runAdAuction()</a> <a href="#ref-for-auction-config-per-buyer-experiment-group-ids①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-auction-config-all-buyer-experiment-group-id" class="dfn-panel" data-for="auction-config-all-buyer-experiment-group-id" id="infopanel-for-auction-config-all-buyer-experiment-group-id">
   <span id="infopaneltitle-for-auction-config-all-buyer-experiment-group-id" style="display:none">Info about the 'all buyer experiment group id' definition.</span><b><a href="#auction-config-all-buyer-experiment-group-id">#auction-config-all-buyer-experiment-group-id</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-auction-config-all-buyer-experiment-group-id">4.1. runAdAuction()</a> <a href="#ref-for-auction-config-all-buyer-experiment-group-id①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-per-buyer-bid-generator" class="dfn-panel" data-for="per-buyer-bid-generator" id="infopanel-for-per-buyer-bid-generator">
   <span id="infopaneltitle-for-per-buyer-bid-generator" style="display:none">Info about the '8.4. Per buyer bid generator' definition.</span><b><a href="#per-buyer-bid-generator">#per-buyer-bid-generator</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-per-buyer-bid-generator">4.1. runAdAuction()</a> <a href="#ref-for-per-buyer-bid-generator①">(2)</a>
    <li><a href="#ref-for-per-buyer-bid-generator">8.4. Per buyer bid generator</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-per-signals-url-bid-generator" class="dfn-panel" data-for="per-signals-url-bid-generator" id="infopanel-for-per-signals-url-bid-generator">
   <span id="infopaneltitle-for-per-signals-url-bid-generator" style="display:none">Info about the '8.5. Per signals url bid generator' definition.</span><b><a href="#per-signals-url-bid-generator">#per-signals-url-bid-generator</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-per-signals-url-bid-generator">4.1. runAdAuction()</a> <a href="#ref-for-per-signals-url-bid-generator①">(2)</a>
    <li><a href="#ref-for-per-signals-url-bid-generator②">8.4. Per buyer bid generator</a>
    <li><a href="#ref-for-per-signals-url-bid-generator">8.5. Per signals url bid generator</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-generated-bid" class="dfn-panel" data-for="generated-bid" id="infopanel-for-generated-bid">
   <span id="infopaneltitle-for-generated-bid" style="display:none">Info about the '8.6. Generated bid' definition.</span><b><a href="#generated-bid">#generated-bid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-generated-bid">4.1. runAdAuction()</a> <a href="#ref-for-generated-bid①">(2)</a> <a href="#ref-for-generated-bid②">(3)</a>
    <li><a href="#ref-for-generated-bid③">5.2. Global scopes</a>
    <li><a href="#ref-for-generated-bid">8.6. Generated bid</a>
    <li><a href="#ref-for-generated-bid④">8.10. Leading bid info</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-generated-bid-bid" class="dfn-panel" data-for="generated-bid-bid" id="infopanel-for-generated-bid-bid">
   <span id="infopaneltitle-for-generated-bid-bid" style="display:none">Info about the 'bid' definition.</span><b><a href="#generated-bid-bid">#generated-bid-bid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-generated-bid-bid">4.1. runAdAuction()</a> <a href="#ref-for-generated-bid-bid①">(2)</a> <a href="#ref-for-generated-bid-bid②">(3)</a> <a href="#ref-for-generated-bid-bid③">(4)</a>
    <li><a href="#ref-for-generated-bid-bid④">5.2. Global scopes</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-generated-bid-ad" class="dfn-panel" data-for="generated-bid-ad" id="infopanel-for-generated-bid-ad">
   <span id="infopaneltitle-for-generated-bid-ad" style="display:none">Info about the 'ad' definition.</span><b><a href="#generated-bid-ad">#generated-bid-ad</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-generated-bid-ad">5.2. Global scopes</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-generated-bid-ad-descriptor" class="dfn-panel" data-for="generated-bid-ad-descriptor" id="infopanel-for-generated-bid-ad-descriptor">
   <span id="infopaneltitle-for-generated-bid-ad-descriptor" style="display:none">Info about the 'ad descriptor' definition.</span><b><a href="#generated-bid-ad-descriptor">#generated-bid-ad-descriptor</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-generated-bid-ad-descriptor">4.1. runAdAuction()</a> <a href="#ref-for-generated-bid-ad-descriptor①">(2)</a> <a href="#ref-for-generated-bid-ad-descriptor②">(3)</a>
    <li><a href="#ref-for-generated-bid-ad-descriptor③">5.2. Global scopes</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-generated-bid-ad-component-descriptors" class="dfn-panel" data-for="generated-bid-ad-component-descriptors" id="infopanel-for-generated-bid-ad-component-descriptors">
   <span id="infopaneltitle-for-generated-bid-ad-component-descriptors" style="display:none">Info about the 'ad component descriptors' definition.</span><b><a href="#generated-bid-ad-component-descriptors">#generated-bid-ad-component-descriptors</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-generated-bid-ad-component-descriptors">5.2. Global scopes</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-generated-bid-ad-cost" class="dfn-panel" data-for="generated-bid-ad-cost" id="infopanel-for-generated-bid-ad-cost">
   <span id="infopaneltitle-for-generated-bid-ad-cost" style="display:none">Info about the 'ad cost' definition.</span><b><a href="#generated-bid-ad-cost">#generated-bid-ad-cost</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-generated-bid-ad-cost">5.2. Global scopes</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-generated-bid-modeling-signals" class="dfn-panel" data-for="generated-bid-modeling-signals" id="infopanel-for-generated-bid-modeling-signals">
   <span id="infopaneltitle-for-generated-bid-modeling-signals" style="display:none">Info about the 'modeling signals' definition.</span><b><a href="#generated-bid-modeling-signals">#generated-bid-modeling-signals</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-generated-bid-modeling-signals">5.2. Global scopes</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-generated-bid-interest-group" class="dfn-panel" data-for="generated-bid-interest-group" id="infopanel-for-generated-bid-interest-group">
   <span id="infopaneltitle-for-generated-bid-interest-group" style="display:none">Info about the 'interest group' definition.</span><b><a href="#generated-bid-interest-group">#generated-bid-interest-group</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-generated-bid-interest-group">4.1. runAdAuction()</a> <a href="#ref-for-generated-bid-interest-group①">(2)</a> <a href="#ref-for-generated-bid-interest-group②">(3)</a> <a href="#ref-for-generated-bid-interest-group③">(4)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-ad-descriptor" class="dfn-panel" data-for="ad-descriptor" id="infopanel-for-ad-descriptor">
   <span id="infopaneltitle-for-ad-descriptor" style="display:none">Info about the '8.7. Ad descriptor' definition.</span><b><a href="#ad-descriptor">#ad-descriptor</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ad-descriptor">5.2. Global scopes</a> <a href="#ref-for-ad-descriptor①">(2)</a> <a href="#ref-for-ad-descriptor②">(3)</a> <a href="#ref-for-ad-descriptor③">(4)</a>
    <li><a href="#ref-for-ad-descriptor④">8.6. Generated bid</a> <a href="#ref-for-ad-descriptor⑤">(2)</a>
    <li><a href="#ref-for-ad-descriptor">8.7. Ad descriptor</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-ad-descriptor-url" class="dfn-panel" data-for="ad-descriptor-url" id="infopanel-for-ad-descriptor-url">
   <span id="infopaneltitle-for-ad-descriptor-url" style="display:none">Info about the 'url' definition.</span><b><a href="#ad-descriptor-url">#ad-descriptor-url</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ad-descriptor-url">4.1. runAdAuction()</a> <a href="#ref-for-ad-descriptor-url①">(2)</a>
    <li><a href="#ref-for-ad-descriptor-url②">5.2. Global scopes</a> <a href="#ref-for-ad-descriptor-url③">(2)</a> <a href="#ref-for-ad-descriptor-url④">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-ad-descriptor-size" class="dfn-panel" data-for="ad-descriptor-size" id="infopanel-for-ad-descriptor-size">
   <span id="infopaneltitle-for-ad-descriptor-size" style="display:none">Info about the 'size' definition.</span><b><a href="#ad-descriptor-size">#ad-descriptor-size</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ad-descriptor-size">5.2. Global scopes</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-ad-size" class="dfn-panel" data-for="ad-size" id="infopanel-for-ad-size">
   <span id="infopaneltitle-for-ad-size" style="display:none">Info about the '8.8. Ad size' definition.</span><b><a href="#ad-size">#ad-size</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ad-size">5.2. Global scopes</a>
    <li><a href="#ref-for-ad-size①">8.7. Ad descriptor</a>
    <li><a href="#ref-for-ad-size">8.8. Ad size</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-ad-size-width" class="dfn-panel" data-for="ad-size-width" id="infopanel-for-ad-size-width">
   <span id="infopaneltitle-for-ad-size-width" style="display:none">Info about the 'width' definition.</span><b><a href="#ad-size-width">#ad-size-width</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ad-size-width">5.2. Global scopes</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-ad-size-width-units" class="dfn-panel" data-for="ad-size-width-units" id="infopanel-for-ad-size-width-units">
   <span id="infopaneltitle-for-ad-size-width-units" style="display:none">Info about the 'width units' definition.</span><b><a href="#ad-size-width-units">#ad-size-width-units</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ad-size-width-units">5.2. Global scopes</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-ad-size-height" class="dfn-panel" data-for="ad-size-height" id="infopanel-for-ad-size-height">
   <span id="infopaneltitle-for-ad-size-height" style="display:none">Info about the 'height' definition.</span><b><a href="#ad-size-height">#ad-size-height</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ad-size-height">5.2. Global scopes</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-ad-size-height-units" class="dfn-panel" data-for="ad-size-height-units" id="infopanel-for-ad-size-height-units">
   <span id="infopaneltitle-for-ad-size-height-units" style="display:none">Info about the 'height units' definition.</span><b><a href="#ad-size-height-units">#ad-size-height-units</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ad-size-height-units">5.2. Global scopes</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-score-ad-output" class="dfn-panel" data-for="score-ad-output" id="infopanel-for-score-ad-output">
   <span id="infopaneltitle-for-score-ad-output" style="display:none">Info about the '8.9. Score ad output' definition.</span><b><a href="#score-ad-output">#score-ad-output</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-score-ad-output">8.9. Score ad output</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-score-ad-output-desirability" class="dfn-panel" data-for="score-ad-output-desirability" id="infopanel-for-score-ad-output-desirability">
   <span id="infopaneltitle-for-score-ad-output-desirability" style="display:none">Info about the 'desirability' definition.</span><b><a href="#score-ad-output-desirability">#score-ad-output-desirability</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-score-ad-output-desirability">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-score-ad-output-allow-component-auction" class="dfn-panel" data-for="score-ad-output-allow-component-auction" id="infopanel-for-score-ad-output-allow-component-auction">
   <span id="infopaneltitle-for-score-ad-output-allow-component-auction" style="display:none">Info about the 'allow component auction' definition.</span><b><a href="#score-ad-output-allow-component-auction">#score-ad-output-allow-component-auction</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-score-ad-output-allow-component-auction">4.1. runAdAuction()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-score-ad-output-bid" class="dfn-panel" data-for="score-ad-output-bid" id="infopanel-for-score-ad-output-bid">
   <span id="infopaneltitle-for-score-ad-output-bid" style="display:none">Info about the 'bid' definition.</span><b><a href="#score-ad-output-bid">#score-ad-output-bid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-score-ad-output-bid">4.1. runAdAuction()</a> <a href="#ref-for-score-ad-output-bid①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-leading-bid-info" class="dfn-panel" data-for="leading-bid-info" id="infopanel-for-leading-bid-info">
   <span id="infopaneltitle-for-leading-bid-info" style="display:none">Info about the '8.10. Leading bid info' definition.</span><b><a href="#leading-bid-info">#leading-bid-info</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-leading-bid-info">4.1. runAdAuction()</a> <a href="#ref-for-leading-bid-info①">(2)</a>
    <li><a href="#ref-for-leading-bid-info">8.10. Leading bid info</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-leading-bid-info-top-score" class="dfn-panel" data-for="leading-bid-info-top-score" id="infopanel-for-leading-bid-info-top-score">
   <span id="infopaneltitle-for-leading-bid-info-top-score" style="display:none">Info about the 'top score' definition.</span><b><a href="#leading-bid-info-top-score">#leading-bid-info-top-score</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-leading-bid-info-top-score">4.1. runAdAuction()</a> <a href="#ref-for-leading-bid-info-top-score①">(2)</a> <a href="#ref-for-leading-bid-info-top-score②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-leading-bid-info-top-bids-count" class="dfn-panel" data-for="leading-bid-info-top-bids-count" id="infopanel-for-leading-bid-info-top-bids-count">
   <span id="infopaneltitle-for-leading-bid-info-top-bids-count" style="display:none">Info about the 'top bids count' definition.</span><b><a href="#leading-bid-info-top-bids-count">#leading-bid-info-top-bids-count</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-leading-bid-info-top-bids-count">4.1. runAdAuction()</a> <a href="#ref-for-leading-bid-info-top-bids-count①">(2)</a> <a href="#ref-for-leading-bid-info-top-bids-count②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-leading-bid-info-leading-bid" class="dfn-panel" data-for="leading-bid-info-leading-bid" id="infopanel-for-leading-bid-info-leading-bid">
   <span id="infopaneltitle-for-leading-bid-info-leading-bid" style="display:none">Info about the 'leading bid' definition.</span><b><a href="#leading-bid-info-leading-bid">#leading-bid-info-leading-bid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-leading-bid-info-leading-bid">4.1. runAdAuction()</a> <a href="#ref-for-leading-bid-info-leading-bid①">(2)</a> <a href="#ref-for-leading-bid-info-leading-bid②">(3)</a> <a href="#ref-for-leading-bid-info-leading-bid③">(4)</a>
   </ul>
  </aside>
<script>/* script-dfn-panel */
"use strict";
{
    function queryAll(sel) {
        return [].slice.call(document.querySelectorAll(sel));
    }

    // Add popup behavior to all dfns to show the corresponding dfn-panel.
    var dfns = document.querySelectorAll('.dfn-paneled');
    for (let dfn of dfns) { insertDfnPopupAction(dfn); }

    document.body.addEventListener("click", (e) => {
        // If not handled already, just hide all dfn panels.
        hideAllDfnPanels();
    });

    function hideAllDfnPanels() {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>hideDfnPanel(el));
    }

    function showDfnPanel(dfnPanel, dfn) {
        hideAllDfnPanels(); // Only display one at this time.
        dfn.setAttribute("aria-expanded", "true");
        dfnPanel.classList.add("on");
        dfnPanel.style.left = "5px";
        dfnPanel.style.top = "0px";
        const panelRect = dfnPanel.getBoundingClientRect();
        const panelWidth = panelRect.right - panelRect.left;
        if (panelRect.right > document.body.scrollWidth) {
            // Panel's overflowing the screen.
            // Just drop it below the dfn and flip it rightward instead.
            // This still wont' fix things if the screen is *really* wide,
            // but fixing that's a lot harder without 'anchor()'.
            dfnPanel.style.top = "1.5em";
            dfnPanel.style.left = "auto";
            dfnPanel.style.right = "0px";
        }
    }

    function pinDfnPanel(dfnPanel) {
        // Switch it to "activated" state, which pins it.
        dfnPanel.classList.add("activated");
        dfnPanel.style.left = null;
        dfnPanel.style.top = null;
    }

    function hideDfnPanel(dfnPanel, dfn) {
        if(!dfn) {
            dfn = document.getElementById(dfnPanel.getAttribute("data-for"));
        }
        dfn.setAttribute("aria-expanded", "false")
        dfnPanel.classList.remove("on");
        dfnPanel.classList.remove("activated");
    }

    function toggleDfnPanel(dfnPanel, dfn) {
        if(dfnPanel.classList.contains("on")) {
            hideDfnPanel(dfnPanel, dfn);
        } else {
            showDfnPanel(dfnPanel, dfn);
        }
    }

    function insertDfnPopupAction(dfn) {
        // Find dfn panel
        const dfnPanel = document.querySelector(`.dfn-panel[data-for='${dfn.id}']`);
        if (dfnPanel) {
            const panelWrapper = document.createElement('span');
            panelWrapper.appendChild(dfnPanel);
            panelWrapper.style.position = "relative";
            panelWrapper.style.height = "0px";
            dfn.insertAdjacentElement("afterend", panelWrapper);
            dfn.setAttribute('role', 'button');
            dfn.setAttribute('aria-expanded', 'false')
            dfn.tabIndex = 0;
            dfn.classList.add('has-dfn-panel');
            dfn.addEventListener('click', (event) => {
                showDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
            });
            dfn.addEventListener('keypress', (event) => {
                const kc = event.keyCode;
                // 32->Space, 13->Enter
                if(kc == 32 || kc == 13) {
                    toggleDfnPanel(dfnPanel, dfn);
                    event.stopPropagation();
                    event.preventDefault();
                }
            });

            dfnPanel.addEventListener('click', (event) => {
                pinDfnPanel(dfnPanel);
                event.stopPropagation();
            });

            dfnPanel.addEventListener('keydown', (event) => {
                if(event.keyCode == 27) { // Escape key
                    hideDfnPanel(dfnPanel, dfn);
                    event.stopPropagation();
                    event.preventDefault();
                }
            })

        } else {
            console.log("Couldn't find .dfn-panel[data-for='" + dfn.id + "']");
        }
    }
}
</script>
<script>/* script-var-click-highlighting */

    "use strict";
    {
        document.addEventListener("click", e=>{
            if(e.target.nodeName == "VAR") {
                highlightSameAlgoVars(e.target);
            }
        });
        const indexCounts = new Map();
        const indexNames = new Map();
        function highlightSameAlgoVars(v) {
            // Find the algorithm container.
            let algoContainer = null;
            let searchEl = v;
            while(algoContainer == null && searchEl != document.body) {
                searchEl = searchEl.parentNode;
                if(searchEl.hasAttribute("data-algorithm")) {
                    algoContainer = searchEl;
                }
            }

            // Not highlighting document-global vars,
            // too likely to be unrelated.
            if(algoContainer == null) return;

            const algoName = algoContainer.getAttribute("data-algorithm");
            const varName = getVarName(v);
            const addClass = !v.classList.contains("selected");
            let highlightClass = null;
            if(addClass) {
                const index = chooseHighlightIndex(algoName, varName);
                indexCounts.get(algoName)[index] += 1;
                indexNames.set(algoName+"///"+varName, index);
                highlightClass = nameFromIndex(index);
            } else {
                const index = previousHighlightIndex(algoName, varName);
                indexCounts.get(algoName)[index] -= 1;
                highlightClass = nameFromIndex(index);
            }

            // Find all same-name vars, and toggle their class appropriately.
            for(const el of algoContainer.querySelectorAll("var")) {
                if(getVarName(el) == varName) {
                    el.classList.toggle("selected", addClass);
                    el.classList.toggle(highlightClass, addClass);
                }
            }
        }
        function getVarName(el) {
            return el.textContent.replace(/(\s|\xa0)+/, " ").trim();
        }
        function chooseHighlightIndex(algoName, varName) {
            let indexes = null;
            if(indexCounts.has(algoName)) {
                indexes = indexCounts.get(algoName);
            } else {
                // 7 classes right now
                indexes = [0,0,0,0,0,0,0];
                indexCounts.set(algoName, indexes);
            }

            // If the element was recently unclicked,
            // *and* that color is still unclaimed,
            // give it back the same color.
            const lastIndex = previousHighlightIndex(algoName, varName);
            if(indexes[lastIndex] === 0) return lastIndex;

            // Find the earliest index with the lowest count.
            const minCount = Math.min.apply(null, indexes);
            let index = null;
            for(var i = 0; i < indexes.length; i++) {
                if(indexes[i] == minCount) {
                    return i;
                }
            }
        }
        function previousHighlightIndex(algoName, varName) {
            return indexNames.get(algoName+"///"+varName);
        }
        function nameFromIndex(index) {
            return "selected" + index;
        }
    }
    </script>